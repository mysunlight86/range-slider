!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var l={insert:"head",singleton:!1};s(n,l);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),h=[];function a(e){for(var t=-1,i=0;i<h.length;i++)if(h[i].identifier===e){t=i;break}return t}function r(e,t){for(var i={},s=[],n=0;n<e.length;n++){var l=e[n],r=t.base?l[0]+t.base:l[0],m=i[r]||0,o="".concat(r," ").concat(m);i[r]=m+1;var u=a(o),d={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(h[u].references++,h[u].updater(d)):h.push({identifier:o,updater:_(d,t),references:1}),s.push(o)}return s}function m(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var h=l(e.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(t)}return t}var o,u=(o=[],function(e,t){return o[e]=t,o.filter(Boolean).join("\n")});function d(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var l=document.createTextNode(n),h=e.childNodes;h[t]&&e.removeChild(h[t]),h.length?e.insertBefore(l,h[t]):e.appendChild(l)}}function v(e,t,i){var s=i.css,n=i.media,l=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),l&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var f=null,c=0;function _(e,t){var i,s,n;if(t.singleton){var l=c++;i=f||(f=m(t)),s=d.bind(null,i,l,!1),n=d.bind(null,i,l,!0)}else i=m(t),s=v.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=a(i[s]);h[n].references--}for(var l=r(e,t),m=0;m<i.length;m++){var o=a(i[m]);0===h[o].references&&(h[o].updater(),h.splice(o,1))}i=l}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e,t){this.bindedOnMouseMove=this.onMouseMove.bind(this),this.bindedOnMouseUp=this.onMouseUp.bind(this),this.bindedOnMouseDown=this.onMouseDown.bind(this),this.bindedOnResize=this.onResize.bind(this),this._model=t,this._options=this._model.getData(),this._min=this._options.min,this._max=this._options.max,this._step=this._options.step,this._mode=this._options.mode,this._hasInterval=this._options.hasInterval,this._values=this._options.values,this._view=e,this.lineElem=this._view.initSliderLine(),this._hasInterval?(this.minThumbInterval=this._view.initSliderThumb(this._values[0]),this.maxThumbInterval=this._view.initSliderThumb(this._values[1]),this.minValueInterval=this._view.initSliderValue(this._values[0]),this.maxValueInterval=this._view.initSliderValue(this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2)))):(this.thumbElem=this._view.initSliderThumb(this._values[0]),this.valueElem=this._view.initSliderValue(this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2)))),this._view.initSliderScale(),this.sliderRun()}onMouseMove(e){if(this._hasInterval){const t=this.minThumbInterval.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;if(i>s&&(i=s),i<=this.minThumbInterval.offsetLeft)this.minThumbInterval.style.left=i+"px",this._values[0]=this._view.getSliderValue(this.minThumbInterval),this.minValueInterval.textContent=""+this._values[0],this.minValueInterval.style.left=i-(this.minValueInterval.offsetWidth-this.minThumbInterval.offsetWidth)/2+"px";else if(i>=this.maxThumbInterval.offsetLeft)this.maxThumbInterval.style.left=i+"px",this._values[1]=this._view.getSliderValue(this.maxThumbInterval),this.maxValueInterval.textContent=""+this._values[1],this.maxValueInterval.style.left=i-(this.maxValueInterval.offsetWidth-this.maxThumbInterval.offsetWidth)/2+"px";else{let e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft;i-this.minThumbInterval.offsetLeft<=e/2?e>0&&(this.minThumbInterval.style.left=i+"px",this._values[0]=this._view.getSliderValue(this.minThumbInterval),this.minValueInterval.textContent=""+this._values[0],this.minValueInterval.style.left=i-(this.minValueInterval.offsetWidth-this.minThumbInterval.offsetWidth)/2+"px",e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft):e>0&&(this.maxThumbInterval.style.left=i+"px",this._values[1]=this._view.getSliderValue(this.maxThumbInterval),this.maxValueInterval.textContent=""+this._values[1],this.maxValueInterval.style.left=i-(this.maxValueInterval.offsetWidth-this.maxThumbInterval.offsetWidth)/2+"px",e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft)}this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2)))}else{const t=this.thumbElem.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;i>s&&(i=s),this.thumbElem.style.left=i+"px",this.lineElem.style.background=`linear-gradient(to right, red ${i}px, #e5e5e5 ${i}px)`,this.valueElem.style.left=i-(this.valueElem.offsetWidth-this.thumbElem.offsetWidth)/2+"px",this._values[0]=this._view.getSliderValue(this.thumbElem),this.valueElem.textContent=""+this._values[0]}}onMouseUp(){document.removeEventListener("mouseup",this.bindedOnMouseUp),document.removeEventListener("mousemove",this.bindedOnMouseMove)}onMouseDown(e){e.preventDefault();const t=e.target;console.log(t),document.addEventListener("mousemove",this.bindedOnMouseMove),document.addEventListener("mouseup",this.bindedOnMouseUp)}static returnFalse(){return!1}sliderRun(){this.lineElem.addEventListener("click",this.bindedOnMouseMove),window.addEventListener("resize",this.bindedOnResize),this._hasInterval?(this.minThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.minThumbInterval.addEventListener("dragstart",s.returnFalse),this.maxThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.maxThumbInterval.addEventListener("dragstart",s.returnFalse)):(this.thumbElem.addEventListener("mousedown",this.bindedOnMouseDown),this.thumbElem.addEventListener("dragstart",s.returnFalse))}destroy(){this.thumbElem.removeEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.removeEventListener("click",this.bindedOnMouseMove),this.thumbElem.removeEventListener("dragstart",s.returnFalse),window.removeEventListener("resize",this.bindedOnResize)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}onResize(){this._view.setOptions(this._options),this._view.updateSliderScale(),this._hasInterval?(this._view.updateSliderThumb(this.minThumbInterval,this._values[0]),this._view.updateSliderThumb(this.maxThumbInterval,this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2))),this._view.updateSliderValue(this.minValueInterval,this.minThumbInterval),this._view.updateSliderValue(this.maxValueInterval,this.maxThumbInterval)):(this._view.updateSliderThumb(this.thumbElem,this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2))),this._view.updateSliderValue(this.valueElem,this.thumbElem))}update(e){this._options=e.getData(),this.onResize(),console.log("ModelObserver: Reacted to the event.")}}class n{constructor(e){this._elemId=e}init(){return this.lineElem=document.getElementById(this._elemId),this.lineElem.classList.add("slider-body"),this.lineElem}}class l{constructor(e){this._parentElement=e}init(){return this.thumbElem=document.createElement("DIV"),this.thumbElem.classList.add("slider-thumb"),this._parentElement.append(this.thumbElem),this.thumbElem}}class h{constructor(e){this._parentElement=e}init(){return this.valueElem=document.createElement("DIV"),this.valueElem.classList.add("tip-value"),this._parentElement.append(this.valueElem),this.valueElem}}class a{constructor(e,t,i,s){this._parentElement=e,this._min=t,this._max=i,this._step=s}init(){this.scaleElem=document.createElement("DIV"),this.scaleElem.classList.add("scale"),this.minElem=document.createElement("SPAN"),this.minElem.textContent=""+this._min,this.minElem.style.position="absolute",this.maxElem=document.createElement("SPAN"),this.maxElem.textContent=""+this._max,this.maxElem.style.position="absolute",this._parentElement.append(this.scaleElem),this.scaleElem.append(this.minElem),this.scaleElem.append(this.maxElem),this.minElem.style.left=this.scaleElem.offsetLeft-this.minElem.offsetWidth/2+"px",this.maxElem.style.left=this.scaleElem.offsetWidth+this.scaleElem.offsetLeft-this.maxElem.offsetWidth/2+"px",this.mark=(this._max-this._min)/this._step;for(let e=1;e<this.mark;e++)this.middleElem=document.createElement("SPAN"),this.middleElem.textContent=""+(this._step*e+this._min),this.middleElem.style.position="absolute",this.maxElem.insertAdjacentElement("beforebegin",this.middleElem),this.middleElem.style.left=(Number(this.middleElem.textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-this.middleElem.offsetWidth/2+"px";return this.scaleElem}}class r{constructor(e,t){this._elemId=e.slice(1),this._min=t.min,this._max=t.max,this._step=t.step,this._mode=t.mode,this._hasInterval=t.hasInterval,this._values=t.values}initSliderLine(){return this.lineElem=new n(this._elemId).init(),this.lineElem}initSliderThumb(e){return this.thumbElem=new l(this.lineElem).init(),this.thumbElem.style.left=this.getPositionElement(this.thumbElem,e),this.thumbElem}initSliderValue(e){return this.valueElem=new h(this.lineElem).init(),this.valueElem.textContent=""+e,this.valueElem.style.left=this.getPositionElement(this.valueElem,e),this.valueElem}initSliderScale(){this.scaleElem=new a(this.lineElem,this._min,this._max,this._step).init()}"getСoefficient"(){return this.lineElem.offsetWidth/(this._max-this._min)}getPositionElement(e,t){return(t-this._min)*this.getСoefficient()-e.offsetWidth/2+"px"}fillSliderLine(e,t){this.lineElem.style.background=t?`linear-gradient(to right, #e5e5e5 ${t}px,\n        red ${t}px, red ${e}px, #e5e5e5 ${e}px)`:`linear-gradient(to right, red ${e}px, #e5e5e5 ${e}px)`}getSliderValue(e){return Math.round((e.offsetLeft+e.offsetWidth/2)/this.getСoefficient()+this._min)}updateSliderThumb(e,t){this.thumbElem=e,this.thumbElem.style.left=this.getPositionElement(this.thumbElem,t)}updateSliderValue(e,t){this.valueElem=e,this.thumbElem=t,this.valueElem.textContent=""+this.getSliderValue(this.thumbElem),this.valueElem.style.left=this.getPositionElement(this.valueElem,Number(this.valueElem.textContent))}updateSliderScale(){const e=Array.from(this.scaleElem.children);for(let t=1;t<e.length;t++)e[t].style.left=(Number(e[t].textContent)-this._min)*this.getСoefficient()+this.scaleElem.offsetLeft-e[t].offsetWidth/2+"px"}setOptions(e){this._options=e}}class m{constructor(){this.observers=[]}attach(e){this.observers.includes(e);this.observers.push(e)}detach(e){const t=this.observers.indexOf(e);this.observers.splice(t,1)}notify(){for(const e of this.observers)e.update(this)}setData(e){this._min=e.min,this._max=e.max,this._step=e.step,this._mode=e.mode,this._hasInterval=e.hasInterval,this._values=e.values,this.checkValues()}checkValues(){if(this._min>this._max){const e=this._min;this._min=this._max,this._max=e}if((this._step>this._max-this._min||this._step<=0)&&(this._step=this._max-this._min),this._hasInterval)if(this._values[0]>this._values[1]){const e=this._values[0];this._values[0]=this._values[1],this._values[1]=e}else this._values[0]===this._values[1]&&(this._values[1]+=this._step);(this._values[0]<this._min||this._values[0]>this._max)&&(this._values[0]=this._min),(this._values[1]<this._min||this._values[1]>this._max)&&(this._values[1]=this._max),this.notify()}getData(){return{min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}}class o{constructor(e,t){this._min=0,this._max=300,this._step=82,this._mode="horizontal",this._hasInterval=!1,this._values=[this._min,this._min+this._step],this._selector=e,t&&(this._min=t.min?t.min:this._min,this._max=t.max?t.max:this._max,this._step=t.step?t.step:this._step,this._mode=t.mode?t.mode:this._mode,this._hasInterval=t.hasInterval?t.hasInterval:this._hasInterval,this._values=t.values?t.values:this._values)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}init(){this.setData();const e=new m;e.setData(this._options),this._options=e.getData();const t=new r(this._selector,this._options),i=new s(t,e);e.attach(i)}}new o("#slider1").init();new o("#slider2",{min:40,step:60,max:245}).init();new o("#slider3",{min:-100,values:[300]}).init();new o("#slider4",{min:-27,hasInterval:!0,values:[55,137]}).init();new o("#slider5",{hasInterval:!0,values:[29,138]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvcHJlc2VudGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3NsaWRlckxpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJQcmVzZW50ZXIiLCJ2aWV3IiwibW9kZWwiLCJ0aGlzIiwiYmluZGVkT25Nb3VzZU1vdmUiLCJvbk1vdXNlTW92ZSIsImJpbmRlZE9uTW91c2VVcCIsIm9uTW91c2VVcCIsImJpbmRlZE9uTW91c2VEb3duIiwib25Nb3VzZURvd24iLCJiaW5kZWRPblJlc2l6ZSIsIm9uUmVzaXplIiwiX21vZGVsIiwiX29wdGlvbnMiLCJnZXREYXRhIiwiX21pbiIsIm1pbiIsIl9tYXgiLCJtYXgiLCJfc3RlcCIsInN0ZXAiLCJfbW9kZSIsIl9oYXNJbnRlcnZhbCIsImhhc0ludGVydmFsIiwiX3ZhbHVlcyIsInZhbHVlcyIsIl92aWV3IiwibGluZUVsZW0iLCJpbml0U2xpZGVyTGluZSIsIm1pblRodW1iSW50ZXJ2YWwiLCJpbml0U2xpZGVyVGh1bWIiLCJtYXhUaHVtYkludGVydmFsIiwibWluVmFsdWVJbnRlcnZhbCIsImluaXRTbGlkZXJWYWx1ZSIsIm1heFZhbHVlSW50ZXJ2YWwiLCJmaWxsU2xpZGVyTGluZSIsIk51bWJlciIsImxlZnQiLCJzbGljZSIsInRodW1iRWxlbSIsInZhbHVlRWxlbSIsImluaXRTbGlkZXJTY2FsZSIsInNsaWRlclJ1biIsImV2ZW50IiwiZGVsdGEiLCJvZmZzZXRXaWR0aCIsInRodW1iUG9pbnQiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHRFZGdlIiwib2Zmc2V0TGVmdCIsImdldFNsaWRlclZhbHVlIiwidGV4dENvbnRlbnQiLCJkaXN0YW5jZSIsImJhY2tncm91bmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJtYXJrZXIiLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwic2V0T3B0aW9ucyIsInVwZGF0ZVNsaWRlclNjYWxlIiwidXBkYXRlU2xpZGVyVGh1bWIiLCJ1cGRhdGVTbGlkZXJWYWx1ZSIsIlNsaWRlckxpbmUiLCJlbGVtSWQiLCJfZWxlbUlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJTbGlkZXJUaHVtYiIsInBhcmVudEVsZW1lbnQiLCJfcGFyZW50RWxlbWVudCIsImFwcGVuZCIsIlNsaWRlclZhbHVlIiwiU2xpZGVyU2NhbGUiLCJzY2FsZUVsZW0iLCJtaW5FbGVtIiwicG9zaXRpb24iLCJtYXhFbGVtIiwibWFyayIsIm1pZGRsZUVsZW0iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJpbml0IiwiZ2V0UG9zaXRpb25FbGVtZW50IiwiZWxlbSIsInZhbCIsImdldNChb2VmZmljaWVudCIsInBvaW50VG8iLCJwb2ludEZyb20iLCJNYXRoIiwicm91bmQiLCJsYWJlbCIsInRodW1iIiwibWlkZGxlRWxlbXMiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIk1vZGVsIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXIiLCJpbmNsdWRlcyIsIm9ic2VydmVySW5kZXgiLCJpbmRleE9mIiwiY2hlY2tWYWx1ZXMiLCJ0ZW1wIiwibm90aWZ5IiwiX3NlbGVjdG9yIiwic2V0RGF0YSIsInByZXNlbnRlciIsImF0dGFjaCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVB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dEIsS0FBS3FCLFNBSWpCLE9BQ0VyQixLQUFLMkcsVUFDTCxNQUFNNUcsRUFBZSxJQUFJa0csRUFDekJsRyxFQUFNNEcsUUFBUTNHLEtBQUtVLFVBQ25CVixLQUFLVSxTQUFXWCxFQUFNWSxVQUN0QixNQUFNYixFQUFPLElBQUksRUFBS0UsS0FBSzBHLFVBQVcxRyxLQUFLVSxVQUNyQ2tHLEVBQVksSUFBSS9HLEVBQVVDLEVBQU1DLEdBQ3RDQSxFQUFNOEcsT0FBT0QsSUNoRE8sSUFBSSxFQUFPLFlBQzNCMUIsT0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBRXJFLElBQUssR0FBSUksS0FBTSxHQUFJRixJQUFLLE1BQ2pFbUUsT0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBRXJFLEtBQU0sSUFBS1MsT0FBUSxDQUFDLE9BQzdENEQsT0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBRXJFLEtBQU0sR0FBSU8sYUFBYSxFQUFNRSxPQUFRLENBQUMsR0FBSSxPQUNuRjRELE9BRWdCLElBQUksRUFBTyxXQUFZLENBQUU5RCxhQUFhLEVBQU1FLE9BQVEsQ0FBQyxHQUFJLE9BQ3pFNEQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3RcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBTdWJqZWN0LCBNb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuXG50eXBlIG9wdGlvbnNUeXBlID0ge1xuICBtaW4/OiBudW1iZXIsXG4gIG1heD86IG51bWJlcixcbiAgc3RlcD86IG51bWJlcixcbiAgbW9kZT86IHN0cmluZyxcbiAgaGFzSW50ZXJ2YWw/OiBib29sZWFuLFxuICB2YWx1ZXM/OiBudW1iZXJbXVxufTtcblxuLyoqXG4qINCY0L3RgtC10YDRhNC10LnRgSDQndCw0LHQu9GO0LTQsNGC0LXQu9GPINC+0LHRitGP0LLQu9GP0LXRgiDQvNC10YLQvtC0INGD0LLQtdC00L7QvNC70LXQvdC40Y8sINC60L7RgtC+0YDRi9C5INC40LfQtNCw0YLQtdC70Lhcbiog0LjRgdC/0L7Qu9GM0LfRg9GO0YIg0LTQu9GPINC+0L/QvtCy0LXRidC10L3QuNGPINGB0LLQvtC40YUg0L/QvtC00L/QuNGB0YfQuNC60L7Qsi5cbiovXG5pbnRlcmZhY2UgT2JzZXJ2ZXIge1xuICAvLyDQn9C+0LvRg9GH0LjRgtGMINC+0LHQvdC+0LLQu9C10L3QuNC1INC+0YIg0YHRg9Cx0YrQtdC60YLQsC5cbiAgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkO1xufVxuXG4vKipcbiog0JrQvtC90LrRgNC10YLQvdGL0LUg0J3QsNCx0LvRjtC00LDRgtC10LvQuCDRgNC10LDQs9C40YDRg9GO0YIg0L3QsCDQvtCx0L3QvtCy0LvQtdC90LjRjywg0LLRi9C/0YPRidC10L3QvdGL0LUg0JjQt9C00LDRgtC10LvQtdC8LCDQulxuKiDQutC+0YLQvtGA0L7QvNGDINC+0L3QuCDQv9GA0LjQutGA0LXQv9C70LXQvdGLLlxuKi9cbi8vIGNsYXNzIENvbmNyZXRlT2JzZXJ2ZXJBIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcbi8vICAgICBpZiAoc3ViamVjdCBpbnN0YW5jZW9mIENvbmNyZXRlU3ViamVjdCAmJiBzdWJqZWN0LnN0YXRlIDwgMykge1xuLy8gICAgICAgY29uc29sZS5sb2coJ0NvbmNyZXRlT2JzZXJ2ZXJBOiBSZWFjdGVkIHRvIHRoZSBldmVudC4nKTtcbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cblxuY2xhc3MgUHJlc2VudGVyIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xuICBwcml2YXRlIGJpbmRlZE9uTW91c2VNb3ZlO1xuICBwcml2YXRlIGJpbmRlZE9uTW91c2VVcDtcbiAgcHJpdmF0ZSBiaW5kZWRPbk1vdXNlRG93bjtcbiAgcHJpdmF0ZSBiaW5kZWRPblJlc2l6ZTtcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XG4gIF9vcHRpb25zOiBvcHRpb25zVHlwZTtcbiAgX21pbjogbnVtYmVyO1xuICBfbWF4OiBudW1iZXI7XG4gIF9zdGVwOiBudW1iZXI7XG4gIF9tb2RlOiBzdHJpbmc7XG4gIF9oYXNJbnRlcnZhbDogYm9vbGVhbjtcbiAgX3ZhbHVlczogbnVtYmVyW107XG4gIGxpbmVFbGVtOiBIVE1MRWxlbWVudDtcbiAgdGh1bWJFbGVtOiBIVE1MRWxlbWVudDtcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcbiAgbWluVGh1bWJJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XG4gIG1heFRodW1iSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xuICBtaW5WYWx1ZUludGVydmFsOiBIVE1MRWxlbWVudDtcbiAgbWF4VmFsdWVJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBfdmlldzogVmlldztcbiAgcHJpdmF0ZSBfbW9kZWw6IE1vZGVsO1xuXG4gIGNvbnN0cnVjdG9yKHZpZXc6IFZpZXcsIG1vZGVsOiBNb2RlbCkge1xuICAgIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlVXAgPSB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYmluZGVkT25Nb3VzZURvd24gPSB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5iaW5kZWRPblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX21vZGVsLmdldERhdGEoKTtcbiAgICB0aGlzLl9taW4gPSB0aGlzLl9vcHRpb25zLm1pbjtcbiAgICB0aGlzLl9tYXggPSB0aGlzLl9vcHRpb25zLm1heDtcbiAgICB0aGlzLl9zdGVwID0gdGhpcy5fb3B0aW9ucy5zdGVwO1xuICAgIHRoaXMuX21vZGUgPSB0aGlzLl9vcHRpb25zLm1vZGU7XG4gICAgdGhpcy5faGFzSW50ZXJ2YWwgPSB0aGlzLl9vcHRpb25zLmhhc0ludGVydmFsO1xuICAgIHRoaXMuX3ZhbHVlcyA9IHRoaXMuX29wdGlvbnMudmFsdWVzO1xuXG4gICAgdGhpcy5fdmlldyA9IHZpZXc7XG4gICAgdGhpcy5saW5lRWxlbSA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlckxpbmUoKTtcbiAgICBpZiAodGhpcy5faGFzSW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMubWluVGh1bWJJbnRlcnZhbCA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclRodW1iKHRoaXMuX3ZhbHVlc1swXSk7XG4gICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwgPSB0aGlzLl92aWV3LmluaXRTbGlkZXJUaHVtYih0aGlzLl92YWx1ZXNbMV0pO1xuXG4gICAgICB0aGlzLm1pblZhbHVlSW50ZXJ2YWwgPSB0aGlzLl92aWV3LmluaXRTbGlkZXJWYWx1ZSh0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgdGhpcy5tYXhWYWx1ZUludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVmFsdWUodGhpcy5fdmFsdWVzWzFdKTtcblxuICAgICAgdGhpcy5fdmlldy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy5tYXhUaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSxcbiAgICAgICAgTnVtYmVyKHRoaXMubWluVGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRodW1iRWxlbSA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclRodW1iKHRoaXMuX3ZhbHVlc1swXSk7XG4gICAgICB0aGlzLnZhbHVlRWxlbSA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclZhbHVlKHRoaXMuX3ZhbHVlc1swXSk7XG4gICAgICB0aGlzLl92aWV3LmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xuICAgIH1cbiAgICB0aGlzLl92aWV3LmluaXRTbGlkZXJTY2FsZSgpO1xuXG4gICAgdGhpcy5zbGlkZXJSdW4oKTtcbiAgICAvLyB0aGlzLnNldERhdGEoKTtcbiAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5faGFzSW50ZXJ2YWwpIHtcbiAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgIGxldCB0aHVtYlBvaW50ID0gZXZlbnQuY2xpZW50WCAtIHRoaXMubGluZUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGRlbHRhO1xuXG4gICAgICAvLyBUaGUgY3Vyc29yIGlzIG91dCBvZiB0aGUgc2xpZGVyLCB0aGVuIHlvdSBuZWVkIHRvIHB1dCB0aGUgc2xpZGVyIHdpdGhpbiBpdHMgYm9yZGVycy5cbiAgICAgIGlmICh0aHVtYlBvaW50IDwgLWRlbHRhKSB7XG4gICAgICAgIHRodW1iUG9pbnQgPSAtZGVsdGE7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJpZ2h0RWRnZSA9IHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggLSBkZWx0YTtcbiAgICAgIGlmICh0aHVtYlBvaW50ID4gcmlnaHRFZGdlKSB7XG4gICAgICAgIHRodW1iUG9pbnQgPSByaWdodEVkZ2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aHVtYlBvaW50IDw9IHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0KSB7XG4gICAgICAgIHRoaXMubWluVGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XG4gICAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy5taW5UaHVtYkludGVydmFsKTtcbiAgICAgICAgdGhpcy5taW5WYWx1ZUludGVydmFsLnRleHRDb250ZW50ID0gYCR7dGhpcy5fdmFsdWVzWzBdfWA7XG4gICAgICAgIHRoaXMubWluVmFsdWVJbnRlcnZhbC5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludCAtICh0aGlzLm1pblZhbHVlSW50ZXJ2YWwub2Zmc2V0V2lkdGhcbiAgICAgICAgICAtIHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcbiAgICAgIH0gZWxzZSBpZiAodGh1bWJQb2ludCA+PSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdCkge1xuICAgICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnR9cHhgO1xuICAgICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0aGlzLl92aWV3LmdldFNsaWRlclZhbHVlKHRoaXMubWF4VGh1bWJJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMubWF4VmFsdWVJbnRlcnZhbC50ZXh0Q29udGVudCA9IGAke3RoaXMuX3ZhbHVlc1sxXX1gO1xuICAgICAgICB0aGlzLm1heFZhbHVlSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy5tYXhWYWx1ZUludGVydmFsLm9mZnNldFdpZHRoXG4gICAgICAgICAgLSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0V2lkdGgpIC8gMn1weGA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdCAtIHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0O1xuXG4gICAgICAgIGlmICh0aHVtYlBvaW50IC0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldExlZnQgPD0gZGlzdGFuY2UgLyAyKSB7XG4gICAgICAgICAgaWYgKGRpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50fXB4YDtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy5taW5UaHVtYkludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMubWluVmFsdWVJbnRlcnZhbC50ZXh0Q29udGVudCA9IGAke3RoaXMuX3ZhbHVlc1swXX1gO1xuICAgICAgICAgICAgdGhpcy5taW5WYWx1ZUludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50IC0gKHRoaXMubWluVmFsdWVJbnRlcnZhbC5vZmZzZXRXaWR0aFxuICAgICAgICAgICAgICAtIHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcbiAgICAgICAgICAgIGRpc3RhbmNlID0gdGhpcy5tYXhUaHVtYkludGVydmFsLm9mZnNldExlZnQgLSB0aGlzLm1pblRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgdGhpcy5tYXhUaHVtYkludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50fXB4YDtcbiAgICAgICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0aGlzLl92aWV3LmdldFNsaWRlclZhbHVlKHRoaXMubWF4VGh1bWJJbnRlcnZhbCk7XG4gICAgICAgICAgdGhpcy5tYXhWYWx1ZUludGVydmFsLnRleHRDb250ZW50ID0gYCR7dGhpcy5fdmFsdWVzWzFdfWA7XG4gICAgICAgICAgdGhpcy5tYXhWYWx1ZUludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50IC0gKHRoaXMubWF4VmFsdWVJbnRlcnZhbC5vZmZzZXRXaWR0aFxuICAgICAgICAgICAgLSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0V2lkdGgpIC8gMn1weGA7XG4gICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdCAtIHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3ZpZXcuZmlsbFNsaWRlckxpbmUoTnVtYmVyKHRoaXMubWF4VGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSksXG4gICAgICAgIE51bWJlcih0aGlzLm1pblRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdC5zbGljZSgwLCAtMikpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICBsZXQgdGh1bWJQb2ludCA9IGV2ZW50LmNsaWVudFggLSB0aGlzLmxpbmVFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSBkZWx0YTtcblxuICAgICAgLy8gVGhlIGN1cnNvciBpcyBvdXQgb2YgdGhlIHNsaWRlciwgdGhlbiB5b3UgbmVlZCB0byBwdXQgdGhlIHNsaWRlciB3aXRoaW4gaXRzIGJvcmRlcnMuXG4gICAgICBpZiAodGh1bWJQb2ludCA8IC1kZWx0YSkge1xuICAgICAgICB0aHVtYlBvaW50ID0gLWRlbHRhO1xuICAgICAgfVxuICAgICAgY29uc3QgcmlnaHRFZGdlID0gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAtIGRlbHRhO1xuICAgICAgaWYgKHRodW1iUG9pbnQgPiByaWdodEVkZ2UpIHtcbiAgICAgICAgdGh1bWJQb2ludCA9IHJpZ2h0RWRnZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnR9cHhgO1xuICAgICAgdGhpcy5saW5lRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmVkICR7dGh1bWJQb2ludH1weCwgI2U1ZTVlNSAke3RodW1iUG9pbnR9cHgpYDtcbiAgICAgIHRoaXMudmFsdWVFbGVtLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50IC0gKHRoaXMudmFsdWVFbGVtLm9mZnNldFdpZHRoIC0gdGhpcy50aHVtYkVsZW0ub2Zmc2V0V2lkdGgpIC8gMn1weGA7XG5cbiAgICAgIC8vIGNvbnN0IHZhbCA9IE1hdGgucm91bmQoKCh0aHVtYlBvaW50XG4gICAgICAvLyAgICsgZGVsdGEpICogKHRoaXMuX21heCAtIHRoaXMuX21pbikpIC8gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCArIHRoaXMuX21pbik7XG4gICAgICAvLyBjb25zdCB2YWwgPSB0aGlzLl92aWV3LmdldFNsaWRlclZhbHVlKHRoaXMudGh1bWJFbGVtKTtcblxuICAgICAgLy8gY29uc3QgZGF0YSA9IHRoaXMuX21vZGVsLmdldERhdGEoKTtcbiAgICAgIC8vIHRoaXMuX3ZhbHVlc1swXSA9IHZhbDtcbiAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pO1xuICAgICAgLy8gdGhpcy5fbW9kZWwuc2V0RGF0YShkYXRhKTtcbiAgICAgIC8vIHRoaXMuX21vZGVsLnNldERhdGEodGhpcy5fb3B0aW9ucyk7XG5cbiAgICAgIC8vIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCgoKHRodW1iUG9pbnRcbiAgICAgIC8vICAgKyBkZWx0YSkgKiAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5fbWluKX1gO1xuICAgICAgdGhpcy52YWx1ZUVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl92YWx1ZXNbMF19YDtcbiAgICB9XG4gIH1cblxuICBvbk1vdXNlVXAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYmluZGVkT25Nb3VzZVVwKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlKTtcbiAgfVxuXG4gIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXG4gICAgY29uc3QgbWFya2VyID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnNvbGUubG9nKG1hcmtlcik7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5iaW5kZWRPbk1vdXNlVXApO1xuICB9XG5cbiAgc3RhdGljIHJldHVybkZhbHNlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNsaWRlclJ1bigpIHtcbiAgICB0aGlzLmxpbmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYmluZGVkT25SZXNpemUpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xuICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuYmluZGVkT25Nb3VzZURvd24pO1xuICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFByZXNlbnRlci5yZXR1cm5GYWxzZSk7XG4gICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XG4gICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgUHJlc2VudGVyLnJldHVybkZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50aHVtYkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XG4gICAgICB0aGlzLnRodW1iRWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50aHVtYkVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XG4gICAgdGhpcy5saW5lRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xuICAgIHRoaXMudGh1bWJFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFByZXNlbnRlci5yZXR1cm5GYWxzZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYmluZGVkT25SZXNpemUpO1xuICB9XG5cbiAgc2V0RGF0YSgpIHtcbiAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgbWluOiB0aGlzLl9taW4sXG4gICAgICBtYXg6IHRoaXMuX21heCxcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXG4gICAgICBtb2RlOiB0aGlzLl9tb2RlLFxuICAgICAgaGFzSW50ZXJ2YWw6IHRoaXMuX2hhc0ludGVydmFsLFxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXG4gICAgfTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIC8vIHRoaXMuc2V0RGF0YSgpO1xuICAgIHRoaXMuX3ZpZXcuc2V0T3B0aW9ucyh0aGlzLl9vcHRpb25zKTtcbiAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclNjYWxlKCk7XG4gICAgaWYgKHRoaXMuX2hhc0ludGVydmFsKSB7XG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclRodW1iKHRoaXMubWluVGh1bWJJbnRlcnZhbCwgdGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVGh1bWIodGhpcy5tYXhUaHVtYkludGVydmFsLCB0aGlzLl92YWx1ZXNbMV0pO1xuICAgICAgdGhpcy5fdmlldy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy5tYXhUaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSxcbiAgICAgICAgTnVtYmVyKHRoaXMubWluVGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xuICAgICAgdGhpcy5fdmlldy51cGRhdGVTbGlkZXJWYWx1ZSh0aGlzLm1pblZhbHVlSW50ZXJ2YWwsIHRoaXMubWluVGh1bWJJbnRlcnZhbCk7XG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclZhbHVlKHRoaXMubWF4VmFsdWVJbnRlcnZhbCwgdGhpcy5tYXhUaHVtYkludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdmlldy51cGRhdGVTbGlkZXJUaHVtYih0aGlzLnRodW1iRWxlbSwgdGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgIHRoaXMuX3ZpZXcuZmlsbFNsaWRlckxpbmUoTnVtYmVyKHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclZhbHVlKHRoaXMudmFsdWVFbGVtLCB0aGlzLnRodW1iRWxlbSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKG1vZGVsOiBNb2RlbCkge1xuICAgIHRoaXMuX29wdGlvbnMgPSBtb2RlbC5nZXREYXRhKCk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdNb2RlbE9ic2VydmVyOiBSZWFjdGVkIHRvIHRoZSBldmVudC4nKTtcbiAgfVxufVxuXG4vLyBjbGFzcyBWaWV3T2JzZXJ2ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XG4vLyAgIHVwZGF0ZSh2aWV3KSB7XG5cbi8vICAgfVxuLy8gfVxuXG4vLyBjbGFzcyBDb25jcmV0ZU9ic2VydmVyQiBpbXBsZW1lbnRzIE9ic2VydmVyIHtcbi8vICAgaXNTdWJqZWN0U2F0aXNmaWVzKHN1YmplY3QpIHtcbi8vICAgICByZXR1cm4gc3ViamVjdCBpbnN0YW5jZW9mIENvbmNyZXRlU3ViamVjdCAmJiAoc3ViamVjdC5zdGF0ZSA9PT0gMCB8fCBzdWJqZWN0LnN0YXRlID49IDIpO1xuLy8gICB9XG5cbi8vICAgcHVibGljIHVwZGF0ZShzdWJqZWN0OiBTdWJqZWN0KTogdm9pZCB7XG4vLyAgICAgaWYgKHRoaXMuaXNTdWJqZWN0U2F0aXNmaWVzKHN1YmplY3QpKSB7XG4vLyAgICAgICBjb25zb2xlLmxvZygnQ29uY3JldGVPYnNlcnZlckI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gfVxuXG4vLyBleHBvcnQgeyBPYnNlcnZlciwgQ29uY3JldGVPYnNlcnZlckEsIENvbmNyZXRlT2JzZXJ2ZXJCLCBQcmVzZW50ZXIgfTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuZXhwb3J0IHsgT2JzZXJ2ZXIsIFByZXNlbnRlciB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyTGluZSB7XHJcbiAgcHJpdmF0ZSBfZWxlbUlkOiBzdHJpbmc7XHJcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbGVtSWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5fZWxlbUlkID0gZWxlbUlkO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMubGluZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9lbGVtSWQpO1xyXG4gICAgdGhpcy5saW5lRWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXItYm9keScpO1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUVsZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlclRodW1iIHtcclxuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgIHRoaXMudGh1bWJFbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci10aHVtYicpO1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy50aHVtYkVsZW0pO1xyXG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJWYWx1ZSB7XHJcbiAgcHJpdmF0ZSBfcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMudmFsdWVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5jbGFzc0xpc3QuYWRkKCd0aXAtdmFsdWUnKTtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQuYXBwZW5kKHRoaXMudmFsdWVFbGVtKTtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlRWxlbTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyU2NhbGUge1xuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfbWluOiBudW1iZXI7XG4gIHByaXZhdGUgX21heDogbnVtYmVyO1xuICBwcml2YXRlIF9zdGVwOiBudW1iZXI7XG4gIG1hcms6IG51bWJlcjtcbiAgc2NhbGVFbGVtOiBIVE1MRWxlbWVudDtcbiAgbWluRWxlbTogSFRNTEVsZW1lbnQ7XG4gIG1heEVsZW06IEhUTUxFbGVtZW50O1xuICBtaWRkbGVFbGVtOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzdGVwOiBudW1iZXIpIHtcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcbiAgICB0aGlzLl9taW4gPSBtaW47XG4gICAgdGhpcy5fbWF4ID0gbWF4O1xuICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnNjYWxlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xuICAgIHRoaXMuc2NhbGVFbGVtLmNsYXNzTGlzdC5hZGQoJ3NjYWxlJyk7XG5cbiAgICB0aGlzLm1pbkVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XG4gICAgdGhpcy5taW5FbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5fbWlufWA7XG4gICAgdGhpcy5taW5FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgIHRoaXMubWF4RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICB0aGlzLm1heEVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9tYXh9YDtcbiAgICB0aGlzLm1heEVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy5zY2FsZUVsZW0pO1xuICAgIHRoaXMuc2NhbGVFbGVtLmFwcGVuZCh0aGlzLm1pbkVsZW0pO1xuICAgIHRoaXMuc2NhbGVFbGVtLmFwcGVuZCh0aGlzLm1heEVsZW0pO1xuXG4gICAgdGhpcy5taW5FbGVtLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0IC0gdGhpcy5taW5FbGVtLm9mZnNldFdpZHRoIC8gMn1weGA7XG4gICAgdGhpcy5tYXhFbGVtLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnNjYWxlRWxlbS5vZmZzZXRXaWR0aCArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnRcbiAgICAtIHRoaXMubWF4RWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xuXG4gICAgdGhpcy5tYXJrID0gKHRoaXMuX21heCAtIHRoaXMuX21pbikgLyB0aGlzLl9zdGVwO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5tYXJrOyBpKyspIHtcbiAgICAgIHRoaXMubWlkZGxlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICAgIHRoaXMubWlkZGxlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuX3N0ZXAgKiBpICsgdGhpcy5fbWlufWA7XG4gICAgICB0aGlzLm1pZGRsZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgdGhpcy5tYXhFbGVtLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB0aGlzLm1pZGRsZUVsZW0pO1xuICAgICAgdGhpcy5taWRkbGVFbGVtLnN0eWxlLmxlZnQgPSBgJHsoKChOdW1iZXIodGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50KSAtIHRoaXMuX21pbilcbiAgICAgICogdGhpcy5zY2FsZUVsZW0ub2Zmc2V0V2lkdGgpIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbikpXG4gICAgICArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSB0aGlzLm1pZGRsZUVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zY2FsZUVsZW07XG4gIH1cbn1cbiIsImltcG9ydCBTbGlkZXJMaW5lIGZyb20gJy4vc2xpZGVyTGluZSc7XG5pbXBvcnQgU2xpZGVyVGh1bWIgZnJvbSAnLi9zbGlkZXJUaHVtYic7XG5pbXBvcnQgU2xpZGVyVmFsdWUgZnJvbSAnLi9zbGlkZXJWYWx1ZSc7XG5pbXBvcnQgU2xpZGVyU2NhbGUgZnJvbSAnLi9zbGlkZXJTY2FsZSc7XG5cbnR5cGUgb3B0aW9uc1R5cGUgPSB7XG4gIG1pbj86IG51bWJlcixcbiAgbWF4PzogbnVtYmVyLFxuICBzdGVwPzogbnVtYmVyLFxuICBtb2RlPzogc3RyaW5nLFxuICBoYXNJbnRlcnZhbD86IGJvb2xlYW4sXG4gIHZhbHVlcz86IG51bWJlcltdXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcbiAgX2VsZW1JZDogc3RyaW5nO1xuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XG4gIF9taW46IG51bWJlcjtcbiAgX21heDogbnVtYmVyO1xuICBfc3RlcDogbnVtYmVyO1xuICBfbW9kZTogc3RyaW5nO1xuICBfaGFzSW50ZXJ2YWw6IGJvb2xlYW47XG4gIF92YWx1ZXM6IG51bWJlcltdO1xuXG4gIGxpbmVFbGVtOiBIVE1MRWxlbWVudDtcbiAgdGh1bWJFbGVtOiBIVE1MRWxlbWVudDtcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcbiAgc2NhbGVFbGVtOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihlbGVtSWQ6IHN0cmluZywgb3B0aW9uczogb3B0aW9uc1R5cGUpIHtcbiAgICB0aGlzLl9lbGVtSWQgPSBlbGVtSWQuc2xpY2UoMSk7XG4gICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW47XG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXg7XG4gICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcDtcbiAgICB0aGlzLl9tb2RlID0gb3B0aW9ucy5tb2RlO1xuICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbDtcbiAgICB0aGlzLl92YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgfVxuXG4gIGluaXRTbGlkZXJMaW5lKCkge1xuICAgIHRoaXMubGluZUVsZW0gPSBuZXcgU2xpZGVyTGluZSh0aGlzLl9lbGVtSWQpLmluaXQoKTtcbiAgICByZXR1cm4gdGhpcy5saW5lRWxlbTtcbiAgfVxuXG4gIGluaXRTbGlkZXJUaHVtYih2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy50aHVtYkVsZW0gPSBuZXcgU2xpZGVyVGh1bWIodGhpcy5saW5lRWxlbSkuaW5pdCgpO1xuICAgIHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnRodW1iRWxlbSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnRodW1iRWxlbTtcbiAgfVxuXG4gIGluaXRTbGlkZXJWYWx1ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy52YWx1ZUVsZW0gPSBuZXcgU2xpZGVyVmFsdWUodGhpcy5saW5lRWxlbSkuaW5pdCgpO1xuICAgIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWV9YDtcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy52YWx1ZUVsZW07XG4gIH1cblxuICBpbml0U2xpZGVyU2NhbGUoKSB7XG4gICAgdGhpcy5zY2FsZUVsZW0gPSBuZXcgU2xpZGVyU2NhbGUodGhpcy5saW5lRWxlbSwgdGhpcy5fbWluLCB0aGlzLl9tYXgsIHRoaXMuX3N0ZXApLmluaXQoKTtcbiAgfVxuXG4gIGdldNChb2VmZmljaWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAvICh0aGlzLl9tYXggLSB0aGlzLl9taW4pO1xuICB9XG5cbiAgZ2V0UG9zaXRpb25FbGVtZW50KGVsZW06IEhUTUxFbGVtZW50LCB2YWw6IG51bWJlcikge1xuICAgIHJldHVybiBgJHsodmFsIC0gdGhpcy5fbWluKSAqIHRoaXMuZ2V00KFvZWZmaWNpZW50KCkgLSBlbGVtLm9mZnNldFdpZHRoIC8gMn1weGA7XG4gIH1cblxuICBmaWxsU2xpZGVyTGluZShwb2ludFRvOiBudW1iZXIsIHBvaW50RnJvbT86IG51bWJlcikge1xuICAgIGlmIChwb2ludEZyb20pIHtcbiAgICAgIHRoaXMubGluZUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNlNWU1ZTUgJHtwb2ludEZyb219cHgsXG4gICAgICAgIHJlZCAke3BvaW50RnJvbX1weCwgcmVkICR7cG9pbnRUb31weCwgI2U1ZTVlNSAke3BvaW50VG99cHgpYDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saW5lRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmVkICR7cG9pbnRUb31weCwgI2U1ZTVlNSAke3BvaW50VG99cHgpYDtcbiAgICB9XG4gIH1cblxuICBnZXRTbGlkZXJWYWx1ZShlbGVtOiBIVE1MRWxlbWVudCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKChlbGVtLm9mZnNldExlZnQgKyBlbGVtLm9mZnNldFdpZHRoIC8gMikgLyB0aGlzLmdldNChb2VmZmljaWVudCgpICsgdGhpcy5fbWluKTtcbiAgfVxuXG4gIHVwZGF0ZVNsaWRlclRodW1iKGVsZW06IEhUTUxFbGVtZW50LCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy50aHVtYkVsZW0gPSBlbGVtO1xuICAgIHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnRodW1iRWxlbSwgdmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlU2xpZGVyVmFsdWUobGFiZWw6IEhUTUxFbGVtZW50LCB0aHVtYjogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLnZhbHVlRWxlbSA9IGxhYmVsO1xuICAgIHRoaXMudGh1bWJFbGVtID0gdGh1bWI7XG4gICAgdGhpcy52YWx1ZUVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLmdldFNsaWRlclZhbHVlKHRoaXMudGh1bWJFbGVtKX1gO1xuICAgIHRoaXMudmFsdWVFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnZhbHVlRWxlbSwgTnVtYmVyKHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50KSk7XG4gIH1cblxuICB1cGRhdGVTbGlkZXJTY2FsZSgpIHtcbiAgICBjb25zdCBtaWRkbGVFbGVtczogYW55ID0gQXJyYXkuZnJvbSh0aGlzLnNjYWxlRWxlbS5jaGlsZHJlbik7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtaWRkbGVFbGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWlkZGxlRWxlbXNbaV0uc3R5bGUubGVmdCA9IGAkeyhOdW1iZXIobWlkZGxlRWxlbXNbaV0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKVxuICAgICAgICAqIHRoaXMuZ2V00KFvZWZmaWNpZW50KCkgKyB0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0IC0gbWlkZGxlRWxlbXNbaV0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcbiAgICB9XG4gIH1cblxuICBzZXRPcHRpb25zKG9wdGlvbnM6IG9wdGlvbnNUeXBlKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn1cbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuL3ByZXNlbnRlcic7XG5cbnR5cGUgb3B0aW9uc1R5cGUgPSB7XG4gIG1pbj86IG51bWJlcjtcbiAgbWF4PzogbnVtYmVyO1xuICBzdGVwPzogbnVtYmVyO1xuICBtb2RlPzogc3RyaW5nO1xuICBoYXNJbnRlcnZhbD86IGJvb2xlYW47XG4gIHZhbHVlcz86IG51bWJlcltdO1xufTtcblxuLyoqXG4gKiDQmNC90YLRhNC10YDRhNC10LnRgSDQuNC30LTQsNGC0LXQu9GPINC+0LHRitGP0LLQu9GP0LXRgiDQvdCw0LHQvtGAINC80LXRgtC+0LTQvtCyINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRj9C80Lgg0L/QvtC00L/QuNGB0YfQuNC60LDQvNC4LlxuICovXG5pbnRlcmZhY2UgU3ViamVjdCB7XG4gIC8vINCf0YDQuNGB0L7QtdC00LjQvdGP0LXRgiDQvdCw0LHQu9GO0LTQsNGC0LXQu9GPINC6INC40LfQtNCw0YLQtdC70Y4uXG4gIGF0dGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkO1xuXG4gIC8vINCe0YLRgdC+0LXQtNC40L3Rj9C10YIg0L3QsNCx0LvRjtC00LDRgtC10LvRjyDQvtGCINC40LfQtNCw0YLQtdC70Y8uXG4gIGRldGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkO1xuXG4gIC8vINCj0LLQtdC00L7QvNC70Y/QtdGCINCy0YHQtdGFINC90LDQsdC70Y7QtNCw0YLQtdC70LXQuSDQviDRgdC+0LHRi9GC0LjQuC5cbiAgbm90aWZ5KCk6IHZvaWQ7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc2VtaVxufVxuXG5jbGFzcyBNb2RlbCBpbXBsZW1lbnRzIFN1YmplY3Qge1xuICBfbWluOiBudW1iZXI7XG4gIF9tYXg6IG51bWJlcjtcbiAgX3N0ZXA6IG51bWJlcjtcbiAgX21vZGU6IHN0cmluZztcbiAgX2hhc0ludGVydmFsOiBib29sZWFuO1xuICBfdmFsdWVzOiBudW1iZXJbXTtcblxuICAvLyBjb25zdHJ1Y3RvcihvcHRpb25zPzogb3B0aW9ucykge1xuICAvLyAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9XG4gIC8vICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW4gPyBvcHRpb25zLm1pbiA6IDA7XG4gIC8vICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXggPyBvcHRpb25zLm1heCA6IDMwMDtcbiAgLy8gICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwID8gb3B0aW9ucy5zdGVwIDogNTA7XG4gIC8vICAgdGhpcy5fa2luZCA9IG9wdGlvbnMua2luZCA/IG9wdGlvbnMua2luZCA6ICdob3Jpem9udGFsJztcbiAgLy8gICB0aGlzLl9pc0Jhc2ljID0gb3B0aW9ucy5pc0Jhc2ljID8gb3B0aW9ucy5pc0Jhc2ljIDogdHJ1ZTtcbiAgLy8gdGhpcy5ub3RpZnkoKTtcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JzZXJ2ZXJbXX0g0KHQv9C40YHQvtC6INC/0L7QtNC/0LjRgdGH0LjQutC+0LIuINCSINGA0LXQsNC70YzQvdC+0Lkg0LbQuNC30L3QuCDRgdC/0LjRgdC+0LpcbiAgICog0L/QvtC00L/QuNGB0YfQuNC60L7QsiDQvNC+0LbQtdGCINGF0YDQsNC90LjRgtGM0YHRjyDQsiDQsdC+0LvQtdC1INC/0L7QtNGA0L7QsdC90L7QvCDQstC40LTQtSAo0LrQu9Cw0YHRgdC40YTQuNGG0LjRgNGD0LXRgtGB0Y8g0L/QvlxuICAgKiDRgtC40L/RgyDRgdC+0LHRi9GC0LjRjyDQuCDRgi7QtC4pXG4gICAqL1xuICBwcml2YXRlIG9ic2VydmVyczogT2JzZXJ2ZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiDQnNC10YLQvtC00Ysg0YPQv9GA0LDQstC70LXQvdC40Y8g0L/QvtC00L/QuNGB0LrQvtC5LlxuICAgKi9cbiAgcHVibGljIGF0dGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpc0V4aXN0ID0gdGhpcy5vYnNlcnZlcnMuaW5jbHVkZXMob2JzZXJ2ZXIpO1xuICAgIGlmIChpc0V4aXN0KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnTW9kZWw6IFByZXNlbnRlciBoYXMgYmVlbiBhdHRhY2hlZCBhbHJlYWR5LicpO1xuICAgIH1cblxuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogQXR0YWNoZWQgYSBwcmVzZW50ZXIuJyk7XG4gICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gIH1cblxuICBwdWJsaWMgZGV0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQge1xuICAgIGNvbnN0IG9ic2VydmVySW5kZXggPSB0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcbiAgICBpZiAob2JzZXJ2ZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdTdWJqZWN0OiBOb25leGlzdGVudCBvYnNlcnZlci4nKTtcbiAgICB9XG5cbiAgICB0aGlzLm9ic2VydmVycy5zcGxpY2Uob2JzZXJ2ZXJJbmRleCwgMSk7XG4gICAgLy8gY29uc29sZS5sb2coJ1N1YmplY3Q6IERldGFjaGVkIGFuIG9ic2VydmVyLicpO1xuICB9XG5cbiAgLyoqXG4gICAqINCX0LDQv9GD0YHQuiDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsiDQutCw0LbQtNC+0Lwg0L/QvtC00L/QuNGB0YfQuNC60LUuXG4gICAqL1xuICBwdWJsaWMgbm90aWZ5KCk6IHZvaWQge1xuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogTm90aWZ5aW5nIG9ic2VydmVycy4uLicpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcbiAgICAgIG9ic2VydmVyLnVwZGF0ZSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXRhKG9wdGlvbnM6IG9wdGlvbnNUeXBlKSB7XG4gICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW47XG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXg7XG4gICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcDtcbiAgICB0aGlzLl9tb2RlID0gb3B0aW9ucy5tb2RlO1xuICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbDtcbiAgICB0aGlzLl92YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgICAvLyBjb25zb2xlLmxvZygnTW9kZWw6IE15IHN0YXRlIGhhcyBqdXN0IGNoYW5nZWQnKTtcbiAgICAvLyB0aGlzLm5vdGlmeSgpO1xuICAgIHRoaXMuY2hlY2tWYWx1ZXMoKTtcbiAgfVxuXG4gIGNoZWNrVmFsdWVzKCkge1xuICAgIGlmICh0aGlzLl9taW4gPiB0aGlzLl9tYXgpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9taW47XG4gICAgICB0aGlzLl9taW4gPSB0aGlzLl9tYXg7XG4gICAgICB0aGlzLl9tYXggPSB0ZW1wO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zdGVwID4gKHRoaXMuX21heCAtIHRoaXMuX21pbikgfHwgdGhpcy5fc3RlcCA8PSAwKSB7XG4gICAgICB0aGlzLl9zdGVwID0gdGhpcy5fbWF4IC0gdGhpcy5fbWluO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlc1swXSA+IHRoaXMuX3ZhbHVlc1sxXSkge1xuICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5fdmFsdWVzWzBdO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fdmFsdWVzWzFdO1xuICAgICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0ZW1wO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl92YWx1ZXNbMF0gPT09IHRoaXMuX3ZhbHVlc1sxXSkge1xuICAgICAgICB0aGlzLl92YWx1ZXNbMV0gKz0gdGhpcy5fc3RlcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuX3ZhbHVlc1swXSA8IHRoaXMuX21pbikgfHwgKHRoaXMuX3ZhbHVlc1swXSA+IHRoaXMuX21heCkpIHtcbiAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX21pbjtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuX3ZhbHVlc1sxXSA8IHRoaXMuX21pbikgfHwgKHRoaXMuX3ZhbHVlc1sxXSA+IHRoaXMuX21heCkpIHtcbiAgICAgIHRoaXMuX3ZhbHVlc1sxXSA9IHRoaXMuX21heDtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnkoKTtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgLy8gdGhpcy5jaGVja1ZhbHVlcygpO1xuICAgIHJldHVybiB7XG4gICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXG4gICAgICBoYXNJbnRlcnZhbDogdGhpcy5faGFzSW50ZXJ2YWwsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcbiAgICB9O1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuZXhwb3J0IHsgU3ViamVjdCwgTW9kZWwgfTtcbiIsImltcG9ydCB7IFByZXNlbnRlciB9IGZyb20gJy4vcHJlc2VudGVyJztcbmltcG9ydCBWaWV3IGZyb20gJy4vdmlldyc7XG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xuXG50eXBlIG9wdGlvbnNUeXBlID0ge1xuICBtaW4/OiBudW1iZXIsXG4gIG1heD86IG51bWJlcixcbiAgc3RlcD86IG51bWJlcixcbiAgbW9kZT86IHN0cmluZyxcbiAgaGFzSW50ZXJ2YWw/OiBib29sZWFuLFxuICB2YWx1ZXM/OiBudW1iZXJbXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XG4gIF9vcHRpb25zOiBvcHRpb25zVHlwZTtcblxuICBfbWluID0gMDtcbiAgX21heCA9IDMwMDtcbiAgX3N0ZXAgPSA4MjtcbiAgX21vZGUgPSAnaG9yaXpvbnRhbCc7XG4gIF9oYXNJbnRlcnZhbCA9IGZhbHNlO1xuICBfdmFsdWVzID0gW3RoaXMuX21pbiwgdGhpcy5fbWluICsgdGhpcy5fc3RlcF07XG5cbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBvcHRpb25zVHlwZSkge1xuICAgIHRoaXMuX3NlbGVjdG9yID0gZWxlbUlkO1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogdGhpcy5fbWluO1xuICAgICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXggPyBvcHRpb25zLm1heCA6IHRoaXMuX21heDtcbiAgICAgIHRoaXMuX3N0ZXAgPSBvcHRpb25zLnN0ZXAgPyBvcHRpb25zLnN0ZXAgOiB0aGlzLl9zdGVwO1xuICAgICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZSA/IG9wdGlvbnMubW9kZSA6IHRoaXMuX21vZGU7XG4gICAgICB0aGlzLl9oYXNJbnRlcnZhbCA9IG9wdGlvbnMuaGFzSW50ZXJ2YWwgPyBvcHRpb25zLmhhc0ludGVydmFsIDogdGhpcy5faGFzSW50ZXJ2YWw7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBvcHRpb25zLnZhbHVlcyA/IG9wdGlvbnMudmFsdWVzIDogdGhpcy5fdmFsdWVzO1xuICAgIH1cbiAgfVxuXG4gIHNldERhdGEoKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgIG1pbjogdGhpcy5fbWluLFxuICAgICAgbWF4OiB0aGlzLl9tYXgsXG4gICAgICBzdGVwOiB0aGlzLl9zdGVwLFxuICAgICAgbW9kZTogdGhpcy5fbW9kZSxcbiAgICAgIGhhc0ludGVydmFsOiB0aGlzLl9oYXNJbnRlcnZhbCxcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzLFxuICAgIH07XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc2V0RGF0YSgpO1xuICAgIGNvbnN0IG1vZGVsOiBNb2RlbCA9IG5ldyBNb2RlbCgpO1xuICAgIG1vZGVsLnNldERhdGEodGhpcy5fb3B0aW9ucyk7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG1vZGVsLmdldERhdGEoKTtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFZpZXcodGhpcy5fc2VsZWN0b3IsIHRoaXMuX29wdGlvbnMpO1xuICAgIGNvbnN0IHByZXNlbnRlciA9IG5ldyBQcmVzZW50ZXIodmlldywgbW9kZWwpO1xuICAgIG1vZGVsLmF0dGFjaChwcmVzZW50ZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vbW9kdWxlcy9zbGlkZXInO1xuXG4vLyBpbXBvcnQgeyBDb25jcmV0ZVN1YmplY3QgfSBmcm9tICcuL21vZHVsZXMvYXBwJztcbi8vIGltcG9ydCB7IENvbmNyZXRlT2JzZXJ2ZXJBLCBDb25jcmV0ZU9ic2VydmVyQiwgUHJlc2VudGVyIH0gZnJvbSAnLi9tb2R1bGVzL3ByZXNlbnRlcic7XG5cbmNvbnN0IHNsaWRlcjE6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXIxJyk7XG5zbGlkZXIxLmluaXQoKTtcblxuY29uc3Qgc2xpZGVyMjogU2xpZGVyID0gbmV3IFNsaWRlcignI3NsaWRlcjInLCB7IG1pbjogNDAsIHN0ZXA6IDYwLCBtYXg6IDI0NSB9KTtcbnNsaWRlcjIuaW5pdCgpO1xuXG5jb25zdCBzbGlkZXIzOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyMycsIHsgbWluOiAtMTAwLCB2YWx1ZXM6IFszMDBdIH0pO1xuc2xpZGVyMy5pbml0KCk7XG5cbmNvbnN0IHNsaWRlcjQ6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXI0JywgeyBtaW46IC0yNywgaGFzSW50ZXJ2YWw6IHRydWUsIHZhbHVlczogWzU1LCAxMzddIH0pO1xuc2xpZGVyNC5pbml0KCk7XG5cbmNvbnN0IHNsaWRlcjU6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXI1JywgeyBoYXNJbnRlcnZhbDogdHJ1ZSwgdmFsdWVzOiBbMjksIDEzOF0gfSk7XG5zbGlkZXI1LmluaXQoKTtcblxuLyoqXG4qINCa0LvQuNC10L3RgtGB0LrQuNC5INC60L7QtC5cbiovXG5cbi8vIGNvbnN0IHN1YmplY3QgPSBuZXcgQ29uY3JldGVTdWJqZWN0KCk7XG5cbi8vIGNvbnN0IG9ic2VydmVyMSA9IG5ldyBDb25jcmV0ZU9ic2VydmVyQSgpO1xuLy8gc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIxKTtcblxuLy8gY29uc3Qgb2JzZXJ2ZXIyID0gbmV3IENvbmNyZXRlT2JzZXJ2ZXJCKCk7XG4vLyBzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjIpO1xuXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XG5cbi8vIHN1YmplY3QuZGV0YWNoKG9ic2VydmVyMik7XG5cbi8vIHN1YmplY3Quc29tZUJ1c2luZXNzTG9naWMoKTtcblxuLyogY29uc3QgTVZQID0ge1xuICBtYWtlT2JzZXJ2YWJsZVN1YmplY3QoKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gW107XG4gICAgY29uc3QgYWRkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobykge1xuICAgICAgaWYgKHR5cGVvZiBvICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcbiAgICAgICAgaWYgKG9ic2VydmVyID09PSBvKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9ic2VydmVycy5wdXNoKG8pO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XG4gICAgICAgIGlmIChvYnNlcnZlciA9PT0gbykge1xuICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XG4gICAgfTtcbiAgICBjb25zdCBub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgLy8gTWFrZSBhIGNvcHkgb2Ygb2JzZXJ2ZXIgbGlzdCBpbiBjYXNlIHRoZSBsaXN0XG4gICAgICAvLyBpcyBtdXRhdGVkIGR1cmluZyB0aGUgbm90aWZpY2F0aW9ucy5cbiAgICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gb2JzZXJ2ZXJzLnNsaWNlKDApO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnNTbmFwc2hvdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYnNlcnZlcnNTbmFwc2hvdFtpXShkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBhZGRPYnNlcnZlcixcbiAgICAgIHJlbW92ZU9ic2VydmVyLFxuICAgICAgbm90aWZ5T2JzZXJ2ZXJzLFxuICAgICAgbm90aWZ5OiBub3RpZnlPYnNlcnZlcnMsXG4gICAgfTtcbiAgfSxcblxuICBNb2RlbChvcHRpb25zID0ge30pIHtcbiAgICAvLyBjb25zdCB0aGF0ID0gdGhpcztcbiAgICAvLyBjb25zdCBpdGVtcyA9IFtdO1xuICAgIHRoaXMub3B0aW9ucyA9ICFvcHRpb25zID8ge30gOiBvcHRpb25zO1xuICAgIHRoaXMubW9kZWxDaGFuZ2VkU3ViamVjdCA9IE1WUC5tYWtlT2JzZXJ2YWJsZVN1YmplY3QoKTtcbiAgICB0aGlzLm1pblZhbHVlID0gMDtcbiAgICB0aGlzLm1heFZhbHVlID0gMzAwO1xuICAgIHRoaXMuc3RlcCA9IDUwO1xuICAgIHRoaXMubW9kZSA9ICdob3Jpem9udGFsJztcbiAgICB0aGlzLnR5cGUgPSAnc2luZ2xlJztcbiAgICAvLyB0aGlzLmFkZEl0ZW0gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyAgIGlmICghdmFsdWUpIHtcbiAgICAvLyAgICAgcmV0dXJuO1xuICAgIC8vICAgfVxuICAgIC8vICAgaXRlbXMucHVzaCh2YWx1ZSk7XG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgLy8gfTtcbiAgICAvLyB0aGlzLnJlbW92ZUN1cnJlbnRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vICAgaWYgKHRoYXQuc2VsZWN0ZWRJbmRleCA9PT0gLTEpIHtcbiAgICAvLyAgICAgcmV0dXJuO1xuICAgIC8vICAgfVxuICAgIC8vICAgaXRlbXMuc3BsaWNlKHRoYXQuc2VsZWN0ZWRJbmRleCwgMSk7XG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgLy8gfTtcbiAgICAvLyB0aGlzLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgIC8vICAgcmV0dXJuIGl0ZW1zO1xuICAgIC8vIH07XG4gICAgLy8gdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgLy8gdGhpcy5nZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vICAgcmV0dXJuIHRoYXQuc2VsZWN0ZWRJbmRleDtcbiAgICAvLyB9O1xuICAgIC8vIHRoaXMuc2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gdmFsdWU7XG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgLy8gfTtcbiAgfSxcblxuICBWaWV3KCkge1xuICAgIC8vIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHNsaWRlckJvZHk6IFNsaWRlckJvZHkgPSBuZXcgU2xpZGVyQm9keSgpO1xuICAgICAgc2xpZGVyQm9keS5pbml0KCk7XG5cbiAgICAgIGNvbnN0IHNsaWRlclRodW1iOiBTbGlkZXJUaHVtYiA9IG5ldyBTbGlkZXJUaHVtYigpO1xuICAgICAgc2xpZGVyVGh1bWIuaW5pdCgpO1xuXG4gICAgICBjb25zdCB0aXBWYWx1ZTogVGlwVmFsdWUgPSBuZXcgVGlwVmFsdWUoKTtcbiAgICAgIHRpcFZhbHVlLmluaXQoKTtcbiAgICB9O1xuXG4gICAgLy8gdGhhdC5zZWxlY3QgPSAkKCc8c2VsZWN0Lz4nKS5hcHBlbmRUbyhyb290T2JqZWN0KTtcbiAgICAvLyB0aGF0LnNlbGVjdC5hdHRyKCdzaXplJywgJzQnKTtcbiAgICAvLyB0aGF0LmJ1dHRvbkFkZCA9ICQoJzxidXR0b24+KzwvYnV0dG9uPicpLmFwcGVuZFRvKHJvb3RPYmplY3QpLmhlaWdodCgyMCk7XG4gICAgLy8gdGhhdC5idXR0b25SZW1vdmUgPSAkKCc8YnV0dG9uPi08L2J1dHRvbj4nKS5hcHBlbmRUbyhyb290T2JqZWN0KS5oZWlnaHQoMjApO1xuICAgIC8vIG1vZGVsLm1vZGVsQ2hhbmdlZFN1YmplY3QuYWRkT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xuICAgIC8vICAgdmFyIGl0ZW1zID0gbW9kZWwuZ2V0SXRlbXMoKTtcbiAgICAvLyAgIHZhciBpbm5lckhUTUwgPSAnJztcbiAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyAgICAgaW5uZXJIVE1MICs9IFwiPG9wdGlvbj5cIiArIGl0ZW1zW2ldICsgXCI8L29wdGlvbj5cIjtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHRoYXQuc2VsZWN0Lmh0bWwoaW5uZXJIVE1MKTtcbiAgICAvLyB9KTtcbiAgfSxcblxuICBDb250cm9sbGVyKG1vZGVsLCB2aWV3KSB7XG4gICAgdmlldy5pbml0KCk7XG4gICAgLy8gdmlldy5idXR0b25BZGQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICBtb2RlbC5hZGRJdGVtKHByb21wdCgnYWRkdmFsdWUnKSk7XG4gICAgLy8gfSk7XG4gICAgLy8gdmlldy5idXR0b25SZW1vdmUuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICBtb2RlbC5yZW1vdmVDdXJyZW50SXRlbSgpO1xuICAgIC8vIH0pO1xuICAgIC8vIHZpZXcuc2VsZWN0LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgbW9kZWwuc2V0U2VsZWN0ZWRJbmRleCh2aWV3LnNlbGVjdFswXS5zZWxlY3RlZEluZGV4KTtcbiAgICAvLyB9KTtcbiAgfSxcbn07ICovXG5cbi8qICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1vZGVsID0gbmV3IE9NVkMuTW9kZWwoKTtcbiAgdmFyIHZpZXcgPSBuZXcgT01WQy5WaWV3KG1vZGVsLCAkKCc8ZGl2Lz4nKS5hcHBlbmRUbygkKFwiYm9keVwiKSkpO1xuICB2YXIgY29udHJvbGxlciA9IG5ldyBPTVZDLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xufSk7ICovXG5cbi8vIGNvbnN0IG1vZGVsID0gbmV3IE1WUC5Nb2RlbCgpO1xuLy8gY29uc3QgdmlldyA9IG5ldyBNVlAuVmlldygpO1xuLy8gY29uc3QgY29udHJvbGxlciA9IG5ldyBNVlAuQ29udHJvbGxlcihtb2RlbCwgdmlldyk7XG5cbi8vIGNvbnRyb2xsZXIoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=