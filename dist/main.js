!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var l={insert:"head",singleton:!1};s(n,l);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),h=[];function a(e){for(var t=-1,i=0;i<h.length;i++)if(h[i].identifier===e){t=i;break}return t}function o(e,t){for(var i={},s=[],n=0;n<e.length;n++){var l=e[n],o=t.base?l[0]+t.base:l[0],r=i[o]||0,m="".concat(o," ").concat(r);i[o]=r+1;var u=a(m),d={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(h[u].references++,h[u].updater(d)):h.push({identifier:m,updater:f(d,t),references:1}),s.push(m)}return s}function r(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var h=l(e.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(t)}return t}var m,u=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function d(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var l=document.createTextNode(n),h=e.childNodes;h[t]&&e.removeChild(h[t]),h.length?e.insertBefore(l,h[t]):e.appendChild(l)}}function c(e,t,i){var s=i.css,n=i.media,l=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),l&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var _=null,v=0;function f(e,t){var i,s,n;if(t.singleton){var l=v++;i=_||(_=r(t)),s=d.bind(null,i,l,!1),n=d.bind(null,i,l,!0)}else i=r(t),s=c.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=a(i[s]);h[n].references--}for(var l=o(e,t),r=0;r<i.length;r++){var m=a(i[r]);0===h[m].references&&(h[m].updater(),h.splice(m,1))}i=l}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e,t){this.bindedOnMouseMove=this.onMouseMove.bind(this),this.bindedOnMouseUp=this.onMouseUp.bind(this),this.bindedOnMouseDown=this.onMouseDown.bind(this),this.bindedOnResize=this.onResize.bind(this),this._model=t,this._options=this._model.getData(),this._min=this._options.min,this._max=this._options.max,this._step=this._options.step,this._mode=this._options.mode,this._hasInterval=this._options.hasInterval,this._values=this._options.values,this._view=e,this.lineElem=this._view.initSliderLine(),this._hasInterval?(this.minThumbInterval=this._view.initSliderThumb(this._values[0]),this.maxThumbInterval=this._view.initSliderThumb(this._values[1]),this.minValueInterval=this._view.initSliderValue(this._values[0]),this.maxValueInterval=this._view.initSliderValue(this._values[1])):(this.thumbElem=this._view.initSliderThumb(this._values[0]),this.valueElem=this._view.initSliderValue(this._values[0])),this._view.initSliderScale(),this.setData()}onMouseMove(e){const t=this.thumbElem.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;i>s&&(i=s),this.thumbElem.style.left=i+"px",this.lineElem.style.background=`linear-gradient(to right, red ${i}px, #e5e5e5 ${i}px)`,this.valueElem.style.left=i-(this.valueElem.offsetWidth-this.thumbElem.offsetWidth)/2+"px";const n=Math.round((i+t)*(this._max-this._min)/this.lineElem.offsetWidth+this._min);this._values[0]=n,this.valueElem.textContent=""+Math.round((i+t)*(this._max-this._min)/this.lineElem.offsetWidth+this._min)}onMouseUp(){document.removeEventListener("mouseup",this.bindedOnMouseUp),document.removeEventListener("mousemove",this.bindedOnMouseMove)}onMouseDown(e){e.preventDefault(),document.addEventListener("mousemove",this.bindedOnMouseMove),document.addEventListener("mouseup",this.bindedOnMouseUp)}static returnFalse(){return!1}sliderRun(){this.thumbElem.addEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.addEventListener("click",this.bindedOnMouseMove),this.thumbElem.addEventListener("dragstart",s.returnFalse),window.addEventListener("resize",this.bindedOnResize)}destroy(){this.thumbElem.removeEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.removeEventListener("click",this.bindedOnMouseMove),this.thumbElem.removeEventListener("dragstart",s.returnFalse),window.removeEventListener("resize",this.bindedOnResize)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}onResize(){this._view.setOptions(this._options),this._view.updateSliderThumb(),this._view.updateSliderValue(),this._view.updateSliderScale()}update(e){this._options=e.getData(),this.onResize(),console.log("ModelObserver: Reacted to the event.")}}class n{constructor(e){this._selector=e}init(){return this.lineElem=document.getElementById(this._selector),this.lineElem.classList.add("slider-body"),this.lineElem}}class l{constructor(e){this._parentElement=e}init(){return this.thumbElem=document.createElement("DIV"),this.thumbElem.classList.add("slider-thumb"),this._parentElement.append(this.thumbElem),this.thumbElem}}class h{constructor(e){this._parentElement=e}init(){return this.valueElem=document.createElement("DIV"),this.valueElem.classList.add("tip-value"),this._parentElement.append(this.valueElem),this.valueElem}}class a{constructor(e,t,i,s){this._parentElement=e,this._min=t,this._max=i,this._step=s}init(){this.scaleElem=document.createElement("DIV"),this.scaleElem.classList.add("scale"),this.minElem=document.createElement("SPAN"),this.minElem.textContent=""+this._min,this.minElem.style.position="absolute",this.maxElem=document.createElement("SPAN"),this.maxElem.textContent=""+this._max,this.maxElem.style.position="absolute",this._parentElement.append(this.scaleElem),this.scaleElem.append(this.minElem),this.scaleElem.append(this.maxElem),this.minElem.style.left=this.scaleElem.offsetLeft-this.minElem.offsetWidth/2+"px",this.maxElem.style.left=this.scaleElem.offsetWidth+this.scaleElem.offsetLeft-this.maxElem.offsetWidth/2+"px",this.mark=(this._max-this._min)/this._step;for(let e=1;e<this.mark;e++)this.middleElem=document.createElement("SPAN"),this.middleElem.textContent=""+(this._step*e+this._min),this.middleElem.style.position="absolute",this.maxElem.insertAdjacentElement("beforebegin",this.middleElem),this.middleElem.style.left=(Number(this.middleElem.textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-this.middleElem.offsetWidth/2+"px";return this.scaleElem}}class o{constructor(e,t){this._elemId=e.slice(1),this._min=t.min,this._max=t.max,this._step=t.step,this._mode=t.mode,this._hasInterval=t.hasInterval,this._values=t.values}initSliderLine(){return this.lineElem=new n(this._elemId).init(),this.lineElem}initSliderThumb(e){return this.thumbElem=new l(this.lineElem).init(),this.thumbElem.style.left=this.getPositionElement(this.thumbElem,e),this.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2))),this.thumbElem}initSliderValue(e){return this.valueElem=new h(this.lineElem).init(),this.valueElem.textContent=""+e,this.valueElem.style.left=this.getPositionElement(this.valueElem,e),this.valueElem}initSliderScale(){this.scaleElem=new a(this.lineElem,this._min,this._max,this._step).init()}getPositionElement(e,t){return(t-this._min)*this.lineElem.offsetWidth/(this._max-this._min)-e.offsetWidth/2+"px"}fillSliderLine(e){this.lineElem.style.background=`linear-gradient(to right, red ${e}px, #e5e5e5 ${e}px)`}getSliderValue(e){return Math.round((e.offsetLeft+e.offsetWidth/2-this.lineElem.offsetLeft)*(this._max-this._min)/this.lineElem.offsetWidth+this._min)}updateSliderThumb(){this.thumbElem.style.left=this.getPositionElement(this.thumbElem,this._values[0]),this.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2)))}updateSliderValue(){this.valueElem.textContent=""+this.getSliderValue(this.thumbElem),this.valueElem.style.left=this.getPositionElement(this.valueElem,Number(this.valueElem.textContent))}updateSliderScale(){const e=Array.from(this.scaleElem.children);for(let t=1;t<e.length;t++)e[t].style.left=(Number(e[t].textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-e[t].offsetWidth/2+"px"}setOptions(e){this._options=e}}class r{constructor(){this.observers=[]}attach(e){this.observers.includes(e);this.observers.push(e)}detach(e){const t=this.observers.indexOf(e);this.observers.splice(t,1)}notify(){for(const e of this.observers)e.update(this)}setData(e){this._min=e.min,this._max=e.max,this._step=e.step,this._mode=e.mode,this._hasInterval=e.hasInterval,this._values=e.values,this.checkValues()}checkValues(){if(this._min>this._max){const e=this._min;this._min=this._max,this._max=e}if(this._step>this._max-this._min&&(this._step=this._max),this._hasInterval)if(this._values[0]>this._values[1]){const e=this._values[0];this._values[0]=this._values[1],this._values[1]=e}else this._values[0]===this._values[1]&&(this._values[1]+=this._step);(this._values[0]<this._min||this._values[0]>this._max)&&(this._values[0]=this._min),(this._values[1]<this._min||this._values[1]>this._max)&&(this._values[1]=this._max),this.notify()}getData(){return{min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}}class m{constructor(e,t){this._min=0,this._max=300,this._step=82,this._mode="horizontal",this._hasInterval=!1,this._values=[this._step],this._selector=e,t&&(this._min=t.min?t.min:this._min,this._max=t.max?t.max:this._max,this._step=t.step?t.step:this._step,this._mode=t.mode?t.mode:this._mode,this._hasInterval=t.hasInterval?t.hasInterval:this._hasInterval,this._values=t.values?t.values:[this._step])}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}init(){this.setData();const e=new r;e.setData(this._options),this._options=e.getData();const t=new o(this._selector,this._options),i=new s(t,e);e.attach(i)}}new m("#slider1").init();new m("#slider2",{min:40,step:60,max:245}).init();new m("#slider3",{values:[300]}).init();new m("#slider4",{hasInterval:!0,values:[82,164]}).init();new m("#slider5",{hasInterval:!0,values:[29,138]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvcHJlc2VudGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3NsaWRlckxpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJQcmVzZW50ZXIiLCJ2aWV3IiwibW9kZWwiLCJ0aGlzIiwiYmluZGVkT25Nb3VzZU1vdmUiLCJvbk1vdXNlTW92ZSIsImJpbmRlZE9uTW91c2VVcCIsIm9uTW91c2VVcCIsImJpbmRlZE9uTW91c2VEb3duIiwib25Nb3VzZURvd24iLCJiaW5kZWRPblJlc2l6ZSIsIm9uUmVzaXplIiwiX21vZGVsIiwiX29wdGlvbnMiLCJnZXREYXRhIiwiX21pbiIsIm1pbiIsIl9tYXgiLCJtYXgiLCJfc3RlcCIsInN0ZXAiLCJfbW9kZSIsIl9oYXNJbnRlcnZhbCIsImhhc0ludGVydmFsIiwiX3ZhbHVlcyIsInZhbHVlcyIsIl92aWV3IiwibGluZUVsZW0iLCJpbml0U2xpZGVyTGluZSIsIm1pblRodW1iSW50ZXJ2YWwiLCJpbml0U2xpZGVyVGh1bWIiLCJtYXhUaHVtYkludGVydmFsIiwibWluVmFsdWVJbnRlcnZhbCIsImluaXRTbGlkZXJWYWx1ZSIsIm1heFZhbHVlSW50ZXJ2YWwiLCJ0aHVtYkVsZW0iLCJ2YWx1ZUVsZW0iLCJpbml0U2xpZGVyU2NhbGUiLCJzZXREYXRhIiwiZXZlbnQiLCJkZWx0YSIsIm9mZnNldFdpZHRoIiwidGh1bWJQb2ludCIsImNsaWVudFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwicmlnaHRFZGdlIiwiYmFja2dyb3VuZCIsInZhbCIsIk1hdGgiLCJyb3VuZCIsInRleHRDb250ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwic2V0T3B0aW9ucyIsInVwZGF0ZVNsaWRlclRodW1iIiwidXBkYXRlU2xpZGVyVmFsdWUiLCJ1cGRhdGVTbGlkZXJTY2FsZSIsImNvbnNvbGUiLCJsb2ciLCJTbGlkZXJMaW5lIiwiZWxlbUlkIiwiX3NlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJTbGlkZXJUaHVtYiIsInBhcmVudEVsZW1lbnQiLCJfcGFyZW50RWxlbWVudCIsImFwcGVuZCIsIlNsaWRlclZhbHVlIiwiU2xpZGVyU2NhbGUiLCJzY2FsZUVsZW0iLCJtaW5FbGVtIiwicG9zaXRpb24iLCJtYXhFbGVtIiwib2Zmc2V0TGVmdCIsIm1hcmsiLCJtaWRkbGVFbGVtIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiTnVtYmVyIiwiX2VsZW1JZCIsInNsaWNlIiwiaW5pdCIsImdldFBvc2l0aW9uRWxlbWVudCIsImZpbGxTbGlkZXJMaW5lIiwiZWxlbSIsImdldFNsaWRlclZhbHVlIiwibWlkZGxlRWxlbXMiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIk1vZGVsIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXIiLCJpbmNsdWRlcyIsIm9ic2VydmVySW5kZXgiLCJpbmRleE9mIiwiY2hlY2tWYWx1ZXMiLCJ0ZW1wIiwibm90aWZ5IiwicHJlc2VudGVyIiwiYXR0YWNoIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNo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RW5CLEtBQUtxQixRQUFVL0csRUFBUWdILE9BQVNoSCxFQUFRZ0gsT0FBUyxDQUFDdEIsS0FBS2dCLFFBSTNELFVBQ0VoQixLQUFLVSxTQUFXLENBQ2RHLElBQUtiLEtBQUtZLEtBQ1ZHLElBQUtmLEtBQUtjLEtBQ1ZHLEtBQU1qQixLQUFLZ0IsTUFDWDFILEtBQU0wRyxLQUFLa0IsTUFDWEUsWUFBYXBCLEtBQUttQixhQUNsQkcsT0FBUXRCLEtBQUtxQixTQUlqQixPQUNFckIsS0FBS21DLFVBQ0wsTUFBTXBDLEVBQWUsSUFBSTRGLEVBQ3pCNUYsRUFBTW9DLFFBQVFuQyxLQUFLVSxVQUNuQlYsS0FBS1UsU0FBV1gsRUFBTVksVUFDdEIsTUFBTWIsRUFBTyxJQUFJLEVBQUtFLEtBQUs2RCxVQUFXN0QsS0FBS1UsVUFDckMwRixFQUFZLElBQUl2RyxFQUFVQyxFQUFNQyxHQUN0Q0EsRUFBTXNHLE9BQU9ELElDaERPLElBQUksRUFBTyxZQUMzQmxCLE9BRWdCLElBQUksRUFBTyxXQUFZLENBQUVyRSxJQUFLLEdBQUlJLEtBQU0sR0FBSUYsSUFBSyxNQUNqRW1FLE9BRWdCLElBQUksRUFBTyxXQUFZLENBQUU1RCxPQUFRLENBQUMsT0FDbEQ0RCxPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFOUQsYUFBYSxFQUFNRSxPQUFRLENBQUMsR0FBSSxPQUN6RTRELE9BRWdCLElBQUksRUFBTyxXQUFZLENBQUU5RCxhQUFhLEVBQU1FLE9BQVEsQ0FBQyxHQUFJLE9BQ3pFNEQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3RcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbmltcG9ydCB7IFN1YmplY3QsIE1vZGVsIH0gZnJvbSAnLi9tb2RlbCc7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xyXG5cclxudHlwZSBvcHRpb25zVHlwZSA9IHtcclxuICBtaW4/OiBudW1iZXIsXHJcbiAgbWF4PzogbnVtYmVyLFxyXG4gIHN0ZXA/OiBudW1iZXIsXHJcbiAgbW9kZT86IHN0cmluZyxcclxuICBoYXNJbnRlcnZhbD86IGJvb2xlYW4sXHJcbiAgdmFsdWVzPzogbnVtYmVyW11cclxufTtcclxuXHJcbi8qKlxyXG4qINCY0L3RgtC10YDRhNC10LnRgSDQndCw0LHQu9GO0LTQsNGC0LXQu9GPINC+0LHRitGP0LLQu9GP0LXRgiDQvNC10YLQvtC0INGD0LLQtdC00L7QvNC70LXQvdC40Y8sINC60L7RgtC+0YDRi9C5INC40LfQtNCw0YLQtdC70LhcclxuKiDQuNGB0L/QvtC70YzQt9GD0Y7RgiDQtNC70Y8g0L7Qv9C+0LLQtdGJ0LXQvdC40Y8g0YHQstC+0LjRhSDQv9C+0LTQv9C40YHRh9C40LrQvtCyLlxyXG4qL1xyXG5pbnRlcmZhY2UgT2JzZXJ2ZXIge1xyXG4gIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0L7QsdC90L7QstC70LXQvdC40LUg0L7RgiDRgdGD0LHRitC10LrRgtCwLlxyXG4gIHVwZGF0ZShzdWJqZWN0OiBTdWJqZWN0KTogdm9pZDtcclxufVxyXG5cclxuLyoqXHJcbiog0JrQvtC90LrRgNC10YLQvdGL0LUg0J3QsNCx0LvRjtC00LDRgtC10LvQuCDRgNC10LDQs9C40YDRg9GO0YIg0L3QsCDQvtCx0L3QvtCy0LvQtdC90LjRjywg0LLRi9C/0YPRidC10L3QvdGL0LUg0JjQt9C00LDRgtC10LvQtdC8LCDQulxyXG4qINC60L7RgtC+0YDQvtC80YMg0L7QvdC4INC/0YDQuNC60YDQtdC/0LvQtdC90YsuXHJcbiovXHJcbi8vIGNsYXNzIENvbmNyZXRlT2JzZXJ2ZXJBIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xyXG4vLyAgIHB1YmxpYyB1cGRhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQge1xyXG4vLyAgICAgaWYgKHN1YmplY3QgaW5zdGFuY2VvZiBDb25jcmV0ZVN1YmplY3QgJiYgc3ViamVjdC5zdGF0ZSA8IDMpIHtcclxuLy8gICAgICAgY29uc29sZS5sb2coJ0NvbmNyZXRlT2JzZXJ2ZXJBOiBSZWFjdGVkIHRvIHRoZSBldmVudC4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbmNsYXNzIFByZXNlbnRlciBpbXBsZW1lbnRzIE9ic2VydmVyIHtcclxuICBwcml2YXRlIGJpbmRlZE9uTW91c2VNb3ZlO1xyXG4gIHByaXZhdGUgYmluZGVkT25Nb3VzZVVwO1xyXG4gIHByaXZhdGUgYmluZGVkT25Nb3VzZURvd247XHJcbiAgcHJpdmF0ZSBiaW5kZWRPblJlc2l6ZTtcclxuICBfc2VsZWN0b3I6IHN0cmluZztcclxuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XHJcbiAgX21pbjogbnVtYmVyO1xyXG4gIF9tYXg6IG51bWJlcjtcclxuICBfc3RlcDogbnVtYmVyO1xyXG4gIF9tb2RlOiBzdHJpbmc7XHJcbiAgX2hhc0ludGVydmFsOiBib29sZWFuO1xyXG4gIF92YWx1ZXM6IG51bWJlcltdO1xyXG4gIGxpbmVFbGVtOiBIVE1MRWxlbWVudDtcclxuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xyXG4gIHZhbHVlRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWluVGh1bWJJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XHJcbiAgbWF4VGh1bWJJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XHJcbiAgbWluVmFsdWVJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XHJcbiAgbWF4VmFsdWVJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3ZpZXc6IFZpZXc7XHJcbiAgcHJpdmF0ZSBfbW9kZWw6IE1vZGVsO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih2aWV3OiBWaWV3LCBtb2RlbDogTW9kZWwpIHtcclxuICAgIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmJpbmRlZE9uTW91c2VVcCA9IHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmJpbmRlZE9uTW91c2VEb3duID0gdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iaW5kZWRPblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcclxuXHJcbiAgICB0aGlzLl9tb2RlbCA9IG1vZGVsO1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IHRoaXMuX21vZGVsLmdldERhdGEoKTtcclxuICAgIHRoaXMuX21pbiA9IHRoaXMuX29wdGlvbnMubWluO1xyXG4gICAgdGhpcy5fbWF4ID0gdGhpcy5fb3B0aW9ucy5tYXg7XHJcbiAgICB0aGlzLl9zdGVwID0gdGhpcy5fb3B0aW9ucy5zdGVwO1xyXG4gICAgdGhpcy5fbW9kZSA9IHRoaXMuX29wdGlvbnMubW9kZTtcclxuICAgIHRoaXMuX2hhc0ludGVydmFsID0gdGhpcy5fb3B0aW9ucy5oYXNJbnRlcnZhbDtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IHRoaXMuX29wdGlvbnMudmFsdWVzO1xyXG5cclxuICAgIHRoaXMuX3ZpZXcgPSB2aWV3O1xyXG4gICAgdGhpcy5saW5lRWxlbSA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlckxpbmUoKTtcclxuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLm1pblRodW1iSW50ZXJ2YWwgPSB0aGlzLl92aWV3LmluaXRTbGlkZXJUaHVtYih0aGlzLl92YWx1ZXNbMF0pO1xyXG4gICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwgPSB0aGlzLl92aWV3LmluaXRTbGlkZXJUaHVtYih0aGlzLl92YWx1ZXNbMV0pO1xyXG5cclxuICAgICAgdGhpcy5taW5WYWx1ZUludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVmFsdWUodGhpcy5fdmFsdWVzWzBdKTtcclxuICAgICAgdGhpcy5tYXhWYWx1ZUludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVmFsdWUodGhpcy5fdmFsdWVzWzFdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGh1bWJFbGVtID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzBdKTtcclxuICAgICAgdGhpcy52YWx1ZUVsZW0gPSB0aGlzLl92aWV3LmluaXRTbGlkZXJWYWx1ZSh0aGlzLl92YWx1ZXNbMF0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fdmlldy5pbml0U2xpZGVyU2NhbGUoKTtcclxuXHJcbiAgICAvLyB0aGlzLnNsaWRlclJ1bigpO1xyXG4gICAgdGhpcy5zZXREYXRhKCk7XHJcbiAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlbHRhID0gdGhpcy50aHVtYkVsZW0ub2Zmc2V0V2lkdGggLyAyO1xyXG4gICAgbGV0IHRodW1iUG9pbnQgPSBldmVudC5jbGllbnRYIC0gdGhpcy5saW5lRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGVsdGE7XHJcblxyXG4gICAgLy8g0LrRg9GA0YHQvtGAINCy0YvRiNC10Lsg0LjQtyDRgdC70LDQudC00LXRgNCwID0+INC+0YHRgtCw0LLQuNGC0Ywg0LHQtdCz0YPQvdC+0Log0LIg0LXQs9C+INCz0YDQsNC90LjRhtCw0YUuXHJcbiAgICBpZiAodGh1bWJQb2ludCA8IC1kZWx0YSkge1xyXG4gICAgICB0aHVtYlBvaW50ID0gLWRlbHRhO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmlnaHRFZGdlID0gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAtIGRlbHRhO1xyXG4gICAgaWYgKHRodW1iUG9pbnQgPiByaWdodEVkZ2UpIHtcclxuICAgICAgdGh1bWJQb2ludCA9IHJpZ2h0RWRnZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XHJcbiAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHt0aHVtYlBvaW50fXB4LCAjZTVlNWU1ICR7dGh1bWJQb2ludH1weClgO1xyXG4gICAgdGhpcy52YWx1ZUVsZW0uc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy52YWx1ZUVsZW0ub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcclxuXHJcbiAgICBjb25zdCB2YWwgPSBNYXRoLnJvdW5kKCgodGh1bWJQb2ludFxyXG4gICAgICArIGRlbHRhKSAqICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSAvIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLl9taW4pO1xyXG5cclxuICAgIC8vIGNvbnN0IGRhdGEgPSB0aGlzLl9tb2RlbC5nZXREYXRhKCk7XHJcbiAgICB0aGlzLl92YWx1ZXNbMF0gPSB2YWw7XHJcbiAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKGRhdGEpO1xyXG5cclxuICAgIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCgoKHRodW1iUG9pbnRcclxuICAgICAgKyBkZWx0YSkgKiAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5fbWluKX1gO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwKCk6IHZvaWQge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYmluZGVkT25Nb3VzZVVwKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5iaW5kZWRPbk1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJldHVybkZhbHNlKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc2xpZGVyUnVuKCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICB0aGlzLmxpbmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYmluZGVkT25SZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMudGh1bWJFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuYmluZGVkT25Nb3VzZURvd24pO1xyXG4gICAgdGhpcy5saW5lRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xyXG4gICAgdGhpcy50aHVtYkVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgUHJlc2VudGVyLnJldHVybkZhbHNlKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmJpbmRlZE9uUmVzaXplKTtcclxuICB9XHJcblxyXG4gIHNldERhdGEoKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0ge1xyXG4gICAgICBtaW46IHRoaXMuX21pbixcclxuICAgICAgbWF4OiB0aGlzLl9tYXgsXHJcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXHJcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXHJcbiAgICAgIGhhc0ludGVydmFsOiB0aGlzLl9oYXNJbnRlcnZhbCxcclxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgb25SZXNpemUoKSB7XHJcbiAgICB0aGlzLl92aWV3LnNldE9wdGlvbnModGhpcy5fb3B0aW9ucyk7XHJcbiAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclRodW1iKCk7XHJcbiAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclZhbHVlKCk7XHJcbiAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclNjYWxlKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUobW9kZWw6IE1vZGVsKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gbW9kZWwuZ2V0RGF0YSgpO1xyXG4gICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgY29uc29sZS5sb2coJ01vZGVsT2JzZXJ2ZXI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gY2xhc3MgVmlld09ic2VydmVyIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xyXG4vLyAgIHVwZGF0ZSh2aWV3KSB7XHJcblxyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gY2xhc3MgQ29uY3JldGVPYnNlcnZlckIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbi8vICAgaXNTdWJqZWN0U2F0aXNmaWVzKHN1YmplY3QpIHtcclxuLy8gICAgIHJldHVybiBzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIChzdWJqZWN0LnN0YXRlID09PSAwIHx8IHN1YmplY3Quc3RhdGUgPj0gMik7XHJcbi8vICAgfVxyXG5cclxuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcclxuLy8gICAgIGlmICh0aGlzLmlzU3ViamVjdFNhdGlzZmllcyhzdWJqZWN0KSkge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygnQ29uY3JldGVPYnNlcnZlckI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IHsgT2JzZXJ2ZXIsIENvbmNyZXRlT2JzZXJ2ZXJBLCBDb25jcmV0ZU9ic2VydmVyQiwgUHJlc2VudGVyIH07XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG5leHBvcnQgeyBPYnNlcnZlciwgUHJlc2VudGVyIH07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlckxpbmUge1xyXG4gIHByaXZhdGUgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbGVtSWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBlbGVtSWQ7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5saW5lRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX3NlbGVjdG9yKTtcclxuICAgIHRoaXMubGluZUVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWJvZHknKTtcclxuICAgIHJldHVybiB0aGlzLmxpbmVFbGVtO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJUaHVtYiB7XHJcbiAgcHJpdmF0ZSBfcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgdGh1bWJFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMudGh1bWJFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXItdGh1bWInKTtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQuYXBwZW5kKHRoaXMudGh1bWJFbGVtKTtcclxuICAgIHJldHVybiB0aGlzLnRodW1iRWxlbTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyVmFsdWUge1xyXG4gIHByaXZhdGUgX3BhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHZhbHVlRWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnZhbHVlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgdGhpcy52YWx1ZUVsZW0uY2xhc3NMaXN0LmFkZCgndGlwLXZhbHVlJyk7XHJcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50LmFwcGVuZCh0aGlzLnZhbHVlRWxlbSk7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZUVsZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlclNjYWxlIHtcclxuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICBwcml2YXRlIF9taW46IG51bWJlcjtcclxuICBwcml2YXRlIF9tYXg6IG51bWJlcjtcclxuICBwcml2YXRlIF9zdGVwOiBudW1iZXI7XHJcbiAgbWFyazogbnVtYmVyO1xyXG4gIHNjYWxlRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWluRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWF4RWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgbWlkZGxlRWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHN0ZXA6IG51bWJlcikge1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9taW4gPSBtaW47XHJcbiAgICB0aGlzLl9tYXggPSBtYXg7XHJcbiAgICB0aGlzLl9zdGVwID0gc3RlcDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnNjYWxlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgdGhpcy5zY2FsZUVsZW0uY2xhc3NMaXN0LmFkZCgnc2NhbGUnKTtcclxuXHJcbiAgICB0aGlzLm1pbkVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XHJcbiAgICB0aGlzLm1pbkVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9taW59YDtcclxuICAgIHRoaXMubWluRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblxyXG4gICAgdGhpcy5tYXhFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgdGhpcy5tYXhFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5fbWF4fWA7XHJcbiAgICB0aGlzLm1heEVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG5cclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQuYXBwZW5kKHRoaXMuc2NhbGVFbGVtKTtcclxuICAgIHRoaXMuc2NhbGVFbGVtLmFwcGVuZCh0aGlzLm1pbkVsZW0pO1xyXG4gICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKHRoaXMubWF4RWxlbSk7XHJcblxyXG4gICAgdGhpcy5taW5FbGVtLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0IC0gdGhpcy5taW5FbGVtLm9mZnNldFdpZHRoIC8gMn1weGA7XHJcbiAgICB0aGlzLm1heEVsZW0uc3R5bGUubGVmdCA9IGAke3RoaXMuc2NhbGVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdFxyXG4gICAgLSB0aGlzLm1heEVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuXHJcbiAgICB0aGlzLm1hcmsgPSAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSAvIHRoaXMuX3N0ZXA7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMubWFyazsgaSsrKSB7XHJcbiAgICAgIHRoaXMubWlkZGxlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgICAgdGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5fc3RlcCAqIGkgKyB0aGlzLl9taW59YDtcclxuICAgICAgdGhpcy5taWRkbGVFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgdGhpcy5tYXhFbGVtLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB0aGlzLm1pZGRsZUVsZW0pO1xyXG4gICAgICB0aGlzLm1pZGRsZUVsZW0uc3R5bGUubGVmdCA9IGAkeygoKE51bWJlcih0aGlzLm1pZGRsZUVsZW0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKVxyXG4gICAgICAqIHRoaXMuc2NhbGVFbGVtLm9mZnNldFdpZHRoKSAvICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKVxyXG4gICAgICArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSB0aGlzLm1pZGRsZUVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5zY2FsZUVsZW07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBTbGlkZXJMaW5lIGZyb20gJy4vc2xpZGVyTGluZSc7XHJcbmltcG9ydCBTbGlkZXJUaHVtYiBmcm9tICcuL3NsaWRlclRodW1iJztcclxuaW1wb3J0IFNsaWRlclZhbHVlIGZyb20gJy4vc2xpZGVyVmFsdWUnO1xyXG5pbXBvcnQgU2xpZGVyU2NhbGUgZnJvbSAnLi9zbGlkZXJTY2FsZSc7XHJcblxyXG50eXBlIG9wdGlvbnNUeXBlID0ge1xyXG4gIG1pbj86IG51bWJlcixcclxuICBtYXg/OiBudW1iZXIsXHJcbiAgc3RlcD86IG51bWJlcixcclxuICBtb2RlPzogc3RyaW5nLFxyXG4gIGhhc0ludGVydmFsPzogYm9vbGVhbixcclxuICB2YWx1ZXM/OiBudW1iZXJbXVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XHJcbiAgX2VsZW1JZDogc3RyaW5nO1xyXG4gIF9vcHRpb25zOiBvcHRpb25zVHlwZTtcclxuICBfbWluOiBudW1iZXI7XHJcbiAgX21heDogbnVtYmVyO1xyXG4gIF9zdGVwOiBudW1iZXI7XHJcbiAgX21vZGU6IHN0cmluZztcclxuICBfaGFzSW50ZXJ2YWw6IGJvb2xlYW47XHJcbiAgX3ZhbHVlczogbnVtYmVyW107XHJcblxyXG4gIGxpbmVFbGVtOiBIVE1MRWxlbWVudDtcclxuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xyXG4gIHZhbHVlRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgc2NhbGVFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM6IG9wdGlvbnNUeXBlKSB7XHJcbiAgICB0aGlzLl9lbGVtSWQgPSBlbGVtSWQuc2xpY2UoMSk7XHJcbiAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbjtcclxuICAgIHRoaXMuX21heCA9IG9wdGlvbnMubWF4O1xyXG4gICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcDtcclxuICAgIHRoaXMuX21vZGUgPSBvcHRpb25zLm1vZGU7XHJcbiAgICB0aGlzLl9oYXNJbnRlcnZhbCA9IG9wdGlvbnMuaGFzSW50ZXJ2YWw7XHJcbiAgICB0aGlzLl92YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcclxuICB9XHJcblxyXG4gIGluaXRTbGlkZXJMaW5lKCkge1xyXG4gICAgdGhpcy5saW5lRWxlbSA9IG5ldyBTbGlkZXJMaW5lKHRoaXMuX2VsZW1JZCkuaW5pdCgpO1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUVsZW07XHJcbiAgfVxyXG5cclxuICBpbml0U2xpZGVyVGh1bWIodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy50aHVtYkVsZW0gPSBuZXcgU2xpZGVyVGh1bWIodGhpcy5saW5lRWxlbSkuaW5pdCgpO1xyXG4gICAgdGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0UG9zaXRpb25FbGVtZW50KHRoaXMudGh1bWJFbGVtLCB2YWx1ZSk7XHJcbiAgICB0aGlzLmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xyXG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtO1xyXG4gIH1cclxuXHJcbiAgaW5pdFNsaWRlclZhbHVlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMudmFsdWVFbGVtID0gbmV3IFNsaWRlclZhbHVlKHRoaXMubGluZUVsZW0pLmluaXQoKTtcclxuICAgIC8vIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5nZXRTbGlkZXJWYWx1ZSh0aGlzLnRodW1iRWxlbSl9YDtcclxuICAgIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWV9YDtcclxuICAgIC8vIHRoaXMudmFsdWVFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnZhbHVlRWxlbSwgTnVtYmVyKHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50KSk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIHZhbHVlKTtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlRWxlbTtcclxuICB9XHJcblxyXG4gIGluaXRTbGlkZXJTY2FsZSgpIHtcclxuICAgIHRoaXMuc2NhbGVFbGVtID0gbmV3IFNsaWRlclNjYWxlKHRoaXMubGluZUVsZW0sIHRoaXMuX21pbiwgdGhpcy5fbWF4LCB0aGlzLl9zdGVwKS5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbkVsZW1lbnQoZWxlbTogSFRNTEVsZW1lbnQsIHZhbDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gYCR7KCh2YWwgLSB0aGlzLl9taW4pICogdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCkgLyAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSAtIGVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICB9XHJcblxyXG4gIGZpbGxTbGlkZXJMaW5lKGxlbmd0aDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHtsZW5ndGh9cHgsICNlNWU1ZTUgJHtsZW5ndGh9cHgpYDtcclxuICB9XHJcblxyXG4gIGdldFNsaWRlclZhbHVlKGVsZW06IEhUTUxFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyIC0gdGhpcy5saW5lRWxlbS5vZmZzZXRMZWZ0KVxyXG4gICAgICAqICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSAvIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLl9taW4pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2xpZGVyVGh1bWIoKSB7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy50aHVtYkVsZW0sIHRoaXMuX3ZhbHVlc1swXSk7XHJcbiAgICB0aGlzLmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2xpZGVyVmFsdWUoKSB7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pfWA7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIE51bWJlcih0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2xpZGVyU2NhbGUoKSB7XHJcbiAgICBjb25zdCBtaWRkbGVFbGVtczogYW55ID0gQXJyYXkuZnJvbSh0aGlzLnNjYWxlRWxlbS5jaGlsZHJlbik7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1pZGRsZUVsZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIG1pZGRsZUVsZW1zW2ldLnN0eWxlLmxlZnQgPSBgJHsoKChOdW1iZXIobWlkZGxlRWxlbXNbaV0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKVxyXG4gICAgICAgICogdGhpcy5zY2FsZUVsZW0ub2Zmc2V0V2lkdGgpIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbikpXHJcbiAgICAgICAgKyB0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0IC0gbWlkZGxlRWxlbXNbaV0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnMob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gIH1cclxufVxyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuL3ByZXNlbnRlcic7XHJcblxyXG50eXBlIG9wdGlvbnNUeXBlID0ge1xyXG4gIG1pbj86IG51bWJlcjtcclxuICBtYXg/OiBudW1iZXI7XHJcbiAgc3RlcD86IG51bWJlcjtcclxuICBtb2RlPzogc3RyaW5nO1xyXG4gIGhhc0ludGVydmFsPzogYm9vbGVhbjtcclxuICB2YWx1ZXM/OiBudW1iZXJbXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDQmNC90YLRhNC10YDRhNC10LnRgSDQuNC30LTQsNGC0LXQu9GPINC+0LHRitGP0LLQu9GP0LXRgiDQvdCw0LHQvtGAINC80LXRgtC+0LTQvtCyINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRj9C80Lgg0L/QvtC00L/QuNGB0YfQuNC60LDQvNC4LlxyXG4gKi9cclxuaW50ZXJmYWNlIFN1YmplY3Qge1xyXG4gIC8vINCf0YDQuNGB0L7QtdC00LjQvdGP0LXRgiDQvdCw0LHQu9GO0LTQsNGC0LXQu9GPINC6INC40LfQtNCw0YLQtdC70Y4uXHJcbiAgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XHJcblxyXG4gIC8vINCe0YLRgdC+0LXQtNC40L3Rj9C10YIg0L3QsNCx0LvRjtC00LDRgtC10LvRjyDQvtGCINC40LfQtNCw0YLQtdC70Y8uXHJcbiAgZGV0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XHJcblxyXG4gIC8vINCj0LLQtdC00L7QvNC70Y/QtdGCINCy0YHQtdGFINC90LDQsdC70Y7QtNCw0YLQtdC70LXQuSDQviDRgdC+0LHRi9GC0LjQuC5cclxuICBub3RpZnkoKTogdm9pZDtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHNlbWlcclxufVxyXG5cclxuY2xhc3MgTW9kZWwgaW1wbGVtZW50cyBTdWJqZWN0IHtcclxuICBfbWluOiBudW1iZXI7XHJcbiAgX21heDogbnVtYmVyO1xyXG4gIF9zdGVwOiBudW1iZXI7XHJcbiAgX21vZGU6IHN0cmluZztcclxuICBfaGFzSW50ZXJ2YWw6IGJvb2xlYW47XHJcbiAgX3ZhbHVlczogbnVtYmVyW107XHJcblxyXG4gIC8vIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBvcHRpb25zKSB7XHJcbiAgLy8gICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxyXG4gIC8vICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW4gPyBvcHRpb25zLm1pbiA6IDA7XHJcbiAgLy8gICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogMzAwO1xyXG4gIC8vICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcCA/IG9wdGlvbnMuc3RlcCA6IDUwO1xyXG4gIC8vICAgdGhpcy5fa2luZCA9IG9wdGlvbnMua2luZCA/IG9wdGlvbnMua2luZCA6ICdob3Jpem9udGFsJztcclxuICAvLyAgIHRoaXMuX2lzQmFzaWMgPSBvcHRpb25zLmlzQmFzaWMgPyBvcHRpb25zLmlzQmFzaWMgOiB0cnVlO1xyXG4gIC8vIHRoaXMubm90aWZ5KCk7XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7T2JzZXJ2ZXJbXX0g0KHQv9C40YHQvtC6INC/0L7QtNC/0LjRgdGH0LjQutC+0LIuINCSINGA0LXQsNC70YzQvdC+0Lkg0LbQuNC30L3QuCDRgdC/0LjRgdC+0LpcclxuICAgKiDQv9C+0LTQv9C40YHRh9C40LrQvtCyINC80L7QttC10YIg0YXRgNCw0L3QuNGC0YzRgdGPINCyINCx0L7Qu9C10LUg0L/QvtC00YDQvtCx0L3QvtC8INCy0LjQtNC1ICjQutC70LDRgdGB0LjRhNC40YbQuNGA0YPQtdGC0YHRjyDQv9C+XHJcbiAgICog0YLQuNC/0YMg0YHQvtCx0YvRgtC40Y8g0Lgg0YIu0LQuKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgb2JzZXJ2ZXJzOiBPYnNlcnZlcltdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqINCc0LXRgtC+0LTRiyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQv9C+0LTQv9C40YHQutC+0LkuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcik7XHJcbiAgICBpZiAoaXNFeGlzdCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnTW9kZWw6IFByZXNlbnRlciBoYXMgYmVlbiBhdHRhY2hlZCBhbHJlYWR5LicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogQXR0YWNoZWQgYSBwcmVzZW50ZXIuJyk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlckluZGV4ID0gdGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XHJcbiAgICBpZiAob2JzZXJ2ZXJJbmRleCA9PT0gLTEpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ1N1YmplY3Q6IE5vbmV4aXN0ZW50IG9ic2VydmVyLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShvYnNlcnZlckluZGV4LCAxKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdTdWJqZWN0OiBEZXRhY2hlZCBhbiBvYnNlcnZlci4nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINCX0LDQv9GD0YHQuiDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsiDQutCw0LbQtNC+0Lwg0L/QvtC00L/QuNGB0YfQuNC60LUuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGlmeSgpOiB2b2lkIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogTm90aWZ5aW5nIG9ic2VydmVycy4uLicpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XHJcbiAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XHJcbiAgICAgIG9ic2VydmVyLnVwZGF0ZSh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERhdGEob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX21pbiA9IG9wdGlvbnMubWluO1xyXG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXg7XHJcbiAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwO1xyXG4gICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZTtcclxuICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbDtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ01vZGVsOiBNeSBzdGF0ZSBoYXMganVzdCBjaGFuZ2VkJyk7XHJcbiAgICAvLyB0aGlzLm5vdGlmeSgpO1xyXG4gICAgdGhpcy5jaGVja1ZhbHVlcygpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tWYWx1ZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbWluID4gdGhpcy5fbWF4KSB7XHJcbiAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9taW47XHJcbiAgICAgIHRoaXMuX21pbiA9IHRoaXMuX21heDtcclxuICAgICAgdGhpcy5fbWF4ID0gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fc3RlcCA+ICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSB7XHJcbiAgICAgIHRoaXMuX3N0ZXAgPSB0aGlzLl9tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2hhc0ludGVydmFsKSB7XHJcbiAgICAgIGlmICh0aGlzLl92YWx1ZXNbMF0gPiB0aGlzLl92YWx1ZXNbMV0pIHtcclxuICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5fdmFsdWVzWzBdO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZhbHVlc1sxXTtcclxuICAgICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0ZW1wO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhbHVlc1swXSA9PT0gdGhpcy5fdmFsdWVzWzFdKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzWzFdICs9IHRoaXMuX3N0ZXA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoKHRoaXMuX3ZhbHVlc1swXSA8IHRoaXMuX21pbikgfHwgKHRoaXMuX3ZhbHVlc1swXSA+IHRoaXMuX21heCkpIHtcclxuICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fbWluO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgodGhpcy5fdmFsdWVzWzFdIDwgdGhpcy5fbWluKSB8fCAodGhpcy5fdmFsdWVzWzFdID4gdGhpcy5fbWF4KSkge1xyXG4gICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0aGlzLl9tYXg7XHJcbiAgICB9XHJcbiAgICB0aGlzLm5vdGlmeSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSgpIHtcclxuICAgIC8vIHRoaXMuY2hlY2tWYWx1ZXMoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1pbjogdGhpcy5fbWluLFxyXG4gICAgICBtYXg6IHRoaXMuX21heCxcclxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcclxuICAgICAgbW9kZTogdGhpcy5fbW9kZSxcclxuICAgICAgaGFzSW50ZXJ2YWw6IHRoaXMuX2hhc0ludGVydmFsLFxyXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuZXhwb3J0IHsgU3ViamVjdCwgTW9kZWwgfTtcclxuIiwiaW1wb3J0IHsgUHJlc2VudGVyIH0gZnJvbSAnLi9wcmVzZW50ZXInO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xyXG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xyXG5cclxudHlwZSBvcHRpb25zVHlwZSA9IHtcclxuICBtaW4/OiBudW1iZXIsXHJcbiAgbWF4PzogbnVtYmVyLFxyXG4gIHN0ZXA/OiBudW1iZXIsXHJcbiAgbW9kZT86IHN0cmluZyxcclxuICBoYXNJbnRlcnZhbD86IGJvb2xlYW4sXHJcbiAgdmFsdWVzPzogbnVtYmVyW11cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xyXG5cclxuICBfbWluID0gMDtcclxuICBfbWF4ID0gMzAwO1xyXG4gIF9zdGVwID0gODI7XHJcbiAgX21vZGUgPSAnaG9yaXpvbnRhbCc7XHJcbiAgX2hhc0ludGVydmFsID0gZmFsc2U7XHJcbiAgX3ZhbHVlcyA9IFt0aGlzLl9zdGVwXTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBvcHRpb25zVHlwZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBlbGVtSWQ7XHJcbiAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogdGhpcy5fbWluO1xyXG4gICAgICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogdGhpcy5fbWF4O1xyXG4gICAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwID8gb3B0aW9ucy5zdGVwIDogdGhpcy5fc3RlcDtcclxuICAgICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZSA/IG9wdGlvbnMubW9kZSA6IHRoaXMuX21vZGU7XHJcbiAgICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbCA/IG9wdGlvbnMuaGFzSW50ZXJ2YWwgOiB0aGlzLl9oYXNJbnRlcnZhbDtcclxuICAgICAgdGhpcy5fdmFsdWVzID0gb3B0aW9ucy52YWx1ZXMgPyBvcHRpb25zLnZhbHVlcyA6IFt0aGlzLl9zdGVwXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERhdGEoKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0ge1xyXG4gICAgICBtaW46IHRoaXMuX21pbixcclxuICAgICAgbWF4OiB0aGlzLl9tYXgsXHJcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXHJcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXHJcbiAgICAgIGhhc0ludGVydmFsOiB0aGlzLl9oYXNJbnRlcnZhbCxcclxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuc2V0RGF0YSgpO1xyXG4gICAgY29uc3QgbW9kZWw6IE1vZGVsID0gbmV3IE1vZGVsKCk7XHJcbiAgICBtb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IG1vZGVsLmdldERhdGEoKTtcclxuICAgIGNvbnN0IHZpZXcgPSBuZXcgVmlldyh0aGlzLl9zZWxlY3RvciwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBuZXcgUHJlc2VudGVyKHZpZXcsIG1vZGVsKTtcclxuICAgIG1vZGVsLmF0dGFjaChwcmVzZW50ZXIpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9tb2R1bGVzL3NsaWRlcic7XHJcblxyXG4vLyBpbXBvcnQgeyBDb25jcmV0ZVN1YmplY3QgfSBmcm9tICcuL21vZHVsZXMvYXBwJztcclxuLy8gaW1wb3J0IHsgQ29uY3JldGVPYnNlcnZlckEsIENvbmNyZXRlT2JzZXJ2ZXJCLCBQcmVzZW50ZXIgfSBmcm9tICcuL21vZHVsZXMvcHJlc2VudGVyJztcclxuXHJcbmNvbnN0IHNsaWRlcjE6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXIxJyk7XHJcbnNsaWRlcjEuaW5pdCgpO1xyXG5cclxuY29uc3Qgc2xpZGVyMjogU2xpZGVyID0gbmV3IFNsaWRlcignI3NsaWRlcjInLCB7IG1pbjogNDAsIHN0ZXA6IDYwLCBtYXg6IDI0NSB9KTtcclxuc2xpZGVyMi5pbml0KCk7XHJcblxyXG5jb25zdCBzbGlkZXIzOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyMycsIHsgdmFsdWVzOiBbMzAwXSB9KTtcclxuc2xpZGVyMy5pbml0KCk7XHJcblxyXG5jb25zdCBzbGlkZXI0OiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyNCcsIHsgaGFzSW50ZXJ2YWw6IHRydWUsIHZhbHVlczogWzgyLCAxNjRdIH0pO1xyXG5zbGlkZXI0LmluaXQoKTtcclxuXHJcbmNvbnN0IHNsaWRlcjU6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXI1JywgeyBoYXNJbnRlcnZhbDogdHJ1ZSwgdmFsdWVzOiBbMjksIDEzOF0gfSk7XHJcbnNsaWRlcjUuaW5pdCgpO1xyXG5cclxuLyoqXHJcbiog0JrQu9C40LXQvdGC0YHQutC40Lkg0LrQvtC0LlxyXG4qL1xyXG5cclxuLy8gY29uc3Qgc3ViamVjdCA9IG5ldyBDb25jcmV0ZVN1YmplY3QoKTtcclxuXHJcbi8vIGNvbnN0IG9ic2VydmVyMSA9IG5ldyBDb25jcmV0ZU9ic2VydmVyQSgpO1xyXG4vLyBzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjEpO1xyXG5cclxuLy8gY29uc3Qgb2JzZXJ2ZXIyID0gbmV3IENvbmNyZXRlT2JzZXJ2ZXJCKCk7XHJcbi8vIHN1YmplY3QuYXR0YWNoKG9ic2VydmVyMik7XHJcblxyXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XHJcbi8vIHN1YmplY3Quc29tZUJ1c2luZXNzTG9naWMoKTtcclxuXHJcbi8vIHN1YmplY3QuZGV0YWNoKG9ic2VydmVyMik7XHJcblxyXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XHJcblxyXG4vKiBjb25zdCBNVlAgPSB7XHJcbiAgbWFrZU9ic2VydmFibGVTdWJqZWN0KCkge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gW107XHJcbiAgICBjb25zdCBhZGRPYnNlcnZlciA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgbyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcclxuICAgICAgICBpZiAob2JzZXJ2ZXIgPT09IG8pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBvYnNlcnZlcnMucHVzaChvKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XHJcbiAgICAgICAgaWYgKG9ic2VydmVyID09PSBvKSB7XHJcbiAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgbm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgLy8gTWFrZSBhIGNvcHkgb2Ygb2JzZXJ2ZXIgbGlzdCBpbiBjYXNlIHRoZSBsaXN0XHJcbiAgICAgIC8vIGlzIG11dGF0ZWQgZHVyaW5nIHRoZSBub3RpZmljYXRpb25zLlxyXG4gICAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IG9ic2VydmVycy5zbGljZSgwKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnNTbmFwc2hvdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG9ic2VydmVyc1NuYXBzaG90W2ldKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkT2JzZXJ2ZXIsXHJcbiAgICAgIHJlbW92ZU9ic2VydmVyLFxyXG4gICAgICBub3RpZnlPYnNlcnZlcnMsXHJcbiAgICAgIG5vdGlmeTogbm90aWZ5T2JzZXJ2ZXJzLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICBNb2RlbChvcHRpb25zID0ge30pIHtcclxuICAgIC8vIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgLy8gY29uc3QgaXRlbXMgPSBbXTtcclxuICAgIHRoaXMub3B0aW9ucyA9ICFvcHRpb25zID8ge30gOiBvcHRpb25zO1xyXG4gICAgdGhpcy5tb2RlbENoYW5nZWRTdWJqZWN0ID0gTVZQLm1ha2VPYnNlcnZhYmxlU3ViamVjdCgpO1xyXG4gICAgdGhpcy5taW5WYWx1ZSA9IDA7XHJcbiAgICB0aGlzLm1heFZhbHVlID0gMzAwO1xyXG4gICAgdGhpcy5zdGVwID0gNTA7XHJcbiAgICB0aGlzLm1vZGUgPSAnaG9yaXpvbnRhbCc7XHJcbiAgICB0aGlzLnR5cGUgPSAnc2luZ2xlJztcclxuICAgIC8vIHRoaXMuYWRkSXRlbSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgLy8gICBpZiAoIXZhbHVlKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGl0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5yZW1vdmVDdXJyZW50SXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgaWYgKHRoYXQuc2VsZWN0ZWRJbmRleCA9PT0gLTEpIHtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgaXRlbXMuc3BsaWNlKHRoYXQuc2VsZWN0ZWRJbmRleCwgMSk7XHJcbiAgICAvLyAgIHRoYXQubW9kZWxDaGFuZ2VkU3ViamVjdC5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICByZXR1cm4gaXRlbXM7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAvLyB0aGlzLmdldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIHJldHVybiB0aGF0LnNlbGVjdGVkSW5kZXg7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5zZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAvLyAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IHZhbHVlO1xyXG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICAvLyB9O1xyXG4gIH0sXHJcblxyXG4gIFZpZXcoKSB7XHJcbiAgICAvLyBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyQm9keTogU2xpZGVyQm9keSA9IG5ldyBTbGlkZXJCb2R5KCk7XHJcbiAgICAgIHNsaWRlckJvZHkuaW5pdCgpO1xyXG5cclxuICAgICAgY29uc3Qgc2xpZGVyVGh1bWI6IFNsaWRlclRodW1iID0gbmV3IFNsaWRlclRodW1iKCk7XHJcbiAgICAgIHNsaWRlclRodW1iLmluaXQoKTtcclxuXHJcbiAgICAgIGNvbnN0IHRpcFZhbHVlOiBUaXBWYWx1ZSA9IG5ldyBUaXBWYWx1ZSgpO1xyXG4gICAgICB0aXBWYWx1ZS5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRoYXQuc2VsZWN0ID0gJCgnPHNlbGVjdC8+JykuYXBwZW5kVG8ocm9vdE9iamVjdCk7XHJcbiAgICAvLyB0aGF0LnNlbGVjdC5hdHRyKCdzaXplJywgJzQnKTtcclxuICAgIC8vIHRoYXQuYnV0dG9uQWRkID0gJCgnPGJ1dHRvbj4rPC9idXR0b24+JykuYXBwZW5kVG8ocm9vdE9iamVjdCkuaGVpZ2h0KDIwKTtcclxuICAgIC8vIHRoYXQuYnV0dG9uUmVtb3ZlID0gJCgnPGJ1dHRvbj4tPC9idXR0b24+JykuYXBwZW5kVG8ocm9vdE9iamVjdCkuaGVpZ2h0KDIwKTtcclxuICAgIC8vIG1vZGVsLm1vZGVsQ2hhbmdlZFN1YmplY3QuYWRkT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICB2YXIgaXRlbXMgPSBtb2RlbC5nZXRJdGVtcygpO1xyXG4gICAgLy8gICB2YXIgaW5uZXJIVE1MID0gJyc7XHJcbiAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIC8vICAgICBpbm5lckhUTUwgKz0gXCI8b3B0aW9uPlwiICsgaXRlbXNbaV0gKyBcIjwvb3B0aW9uPlwiO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIHRoYXQuc2VsZWN0Lmh0bWwoaW5uZXJIVE1MKTtcclxuICAgIC8vIH0pO1xyXG4gIH0sXHJcblxyXG4gIENvbnRyb2xsZXIobW9kZWwsIHZpZXcpIHtcclxuICAgIHZpZXcuaW5pdCgpO1xyXG4gICAgLy8gdmlldy5idXR0b25BZGQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIG1vZGVsLmFkZEl0ZW0ocHJvbXB0KCdhZGR2YWx1ZScpKTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdmlldy5idXR0b25SZW1vdmUuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIG1vZGVsLnJlbW92ZUN1cnJlbnRJdGVtKCk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vIHZpZXcuc2VsZWN0LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBtb2RlbC5zZXRTZWxlY3RlZEluZGV4KHZpZXcuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgpO1xyXG4gICAgLy8gfSk7XHJcbiAgfSxcclxufTsgKi9cclxuXHJcbi8qICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbW9kZWwgPSBuZXcgT01WQy5Nb2RlbCgpO1xyXG4gIHZhciB2aWV3ID0gbmV3IE9NVkMuVmlldyhtb2RlbCwgJCgnPGRpdi8+JykuYXBwZW5kVG8oJChcImJvZHlcIikpKTtcclxuICB2YXIgY29udHJvbGxlciA9IG5ldyBPTVZDLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xyXG59KTsgKi9cclxuXHJcbi8vIGNvbnN0IG1vZGVsID0gbmV3IE1WUC5Nb2RlbCgpO1xyXG4vLyBjb25zdCB2aWV3ID0gbmV3IE1WUC5WaWV3KCk7XHJcbi8vIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgTVZQLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xyXG5cclxuLy8gY29udHJvbGxlcigpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9