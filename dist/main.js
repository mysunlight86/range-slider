!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var l={insert:"head",singleton:!1};s(n,l);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),h=[];function a(e){for(var t=-1,i=0;i<h.length;i++)if(h[i].identifier===e){t=i;break}return t}function r(e,t){for(var i={},s=[],n=0;n<e.length;n++){var l=e[n],r=t.base?l[0]+t.base:l[0],o=i[r]||0,m="".concat(r," ").concat(o);i[r]=o+1;var u=a(m),d={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(h[u].references++,h[u].updater(d)):h.push({identifier:m,updater:f(d,t),references:1}),s.push(m)}return s}function o(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var h=l(e.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(t)}return t}var m,u=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function d(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var l=document.createTextNode(n),h=e.childNodes;h[t]&&e.removeChild(h[t]),h.length?e.insertBefore(l,h[t]):e.appendChild(l)}}function c(e,t,i){var s=i.css,n=i.media,l=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),l&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var v=null,_=0;function f(e,t){var i,s,n;if(t.singleton){var l=_++;i=v||(v=o(t)),s=d.bind(null,i,l,!1),n=d.bind(null,i,l,!0)}else i=o(t),s=c.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=a(i[s]);h[n].references--}for(var l=r(e,t),o=0;o<i.length;o++){var m=a(i[o]);0===h[m].references&&(h[m].updater(),h.splice(m,1))}i=l}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e,t){this.bindedOnMouseMove=this.onMouseMove.bind(this),this.bindedOnMouseUp=this.onMouseUp.bind(this),this.bindedOnMouseDown=this.onMouseDown.bind(this),this.bindedOnResize=this.onResize.bind(this),this._model=t,this._options=this._model.getData(),this._min=this._options.min,this._max=this._options.max,this._step=this._options.step,this._mode=this._options.mode,this._hasInterval=this._options.hasInterval,this._values=this._options.values,this._view=e,this.lineElem=this._view.initSliderLine(),this._hasInterval?(this.minThumbInterval=this._view.initSliderThumb(this._values[0]),this.maxThumbInterval=this._view.initSliderThumb(this._values[1]),this.minValueInterval=this._view.initSliderValue(this._values[0]),this.maxValueInterval=this._view.initSliderValue(this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2)))):(this.thumbElem=this._view.initSliderThumb(this._values[0]),this.valueElem=this._view.initSliderValue(this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2)))),this._view.initSliderScale(),this.sliderRun()}onMouseMove(e){const t=this.thumbElem.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;i>s&&(i=s),this.thumbElem.style.left=i+"px",this.lineElem.style.background=`linear-gradient(to right, red ${i}px, #e5e5e5 ${i}px)`,this.valueElem.style.left=i-(this.valueElem.offsetWidth-this.thumbElem.offsetWidth)/2+"px";const n=Math.round((i+t)*(this._max-this._min)/this.lineElem.offsetWidth+this._min);this._values[0]=n,this.valueElem.textContent=""+Math.round((i+t)*(this._max-this._min)/this.lineElem.offsetWidth+this._min)}onMouseUp(){document.removeEventListener("mouseup",this.bindedOnMouseUp),document.removeEventListener("mousemove",this.bindedOnMouseMove)}onMouseDown(e){e.preventDefault(),document.addEventListener("mousemove",this.bindedOnMouseMove),document.addEventListener("mouseup",this.bindedOnMouseUp)}static returnFalse(){return!1}sliderRun(){this.lineElem.addEventListener("click",this.bindedOnMouseMove),window.addEventListener("resize",this.bindedOnResize),this._hasInterval?(this.minThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.minThumbInterval.addEventListener("dragstart",s.returnFalse),this.maxThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.maxThumbInterval.addEventListener("dragstart",s.returnFalse)):(this.thumbElem.addEventListener("mousedown",this.bindedOnMouseDown),this.thumbElem.addEventListener("dragstart",s.returnFalse))}destroy(){this.thumbElem.removeEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.removeEventListener("click",this.bindedOnMouseMove),this.thumbElem.removeEventListener("dragstart",s.returnFalse),window.removeEventListener("resize",this.bindedOnResize)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}onResize(){this._view.setOptions(this._options),this._view.updateSliderScale(),this._hasInterval?(this._view.updateSliderThumb(this.minThumbInterval,this._values[0]),this._view.updateSliderThumb(this.maxThumbInterval,this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2))),this._view.updateSliderValue(this.minValueInterval,this.minThumbInterval),this._view.updateSliderValue(this.maxValueInterval,this.maxThumbInterval)):(this._view.updateSliderThumb(this.thumbElem,this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2))),this._view.updateSliderValue(this.valueElem,this.thumbElem))}update(e){this._options=e.getData(),this.onResize(),console.log("ModelObserver: Reacted to the event.")}}class n{constructor(e){this._selector=e}init(){return this.lineElem=document.getElementById(this._selector),this.lineElem.classList.add("slider-body"),this.lineElem}}class l{constructor(e){this._parentElement=e}init(){return this.thumbElem=document.createElement("DIV"),this.thumbElem.classList.add("slider-thumb"),this._parentElement.append(this.thumbElem),this.thumbElem}}class h{constructor(e){this._parentElement=e}init(){return this.valueElem=document.createElement("DIV"),this.valueElem.classList.add("tip-value"),this._parentElement.append(this.valueElem),this.valueElem}}class a{constructor(e,t,i,s){this._parentElement=e,this._min=t,this._max=i,this._step=s}init(){this.scaleElem=document.createElement("DIV"),this.scaleElem.classList.add("scale"),this.minElem=document.createElement("SPAN"),this.minElem.textContent=""+this._min,this.minElem.style.position="absolute",this.maxElem=document.createElement("SPAN"),this.maxElem.textContent=""+this._max,this.maxElem.style.position="absolute",this._parentElement.append(this.scaleElem),this.scaleElem.append(this.minElem),this.scaleElem.append(this.maxElem),this.minElem.style.left=this.scaleElem.offsetLeft-this.minElem.offsetWidth/2+"px",this.maxElem.style.left=this.scaleElem.offsetWidth+this.scaleElem.offsetLeft-this.maxElem.offsetWidth/2+"px",this.mark=(this._max-this._min)/this._step;for(let e=1;e<this.mark;e++)this.middleElem=document.createElement("SPAN"),this.middleElem.textContent=""+(this._step*e+this._min),this.middleElem.style.position="absolute",this.maxElem.insertAdjacentElement("beforebegin",this.middleElem),this.middleElem.style.left=(Number(this.middleElem.textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-this.middleElem.offsetWidth/2+"px";return this.scaleElem}}class r{constructor(e,t){this._elemId=e.slice(1),this._min=t.min,this._max=t.max,this._step=t.step,this._mode=t.mode,this._hasInterval=t.hasInterval,this._values=t.values}initSliderLine(){return this.lineElem=new n(this._elemId).init(),this.lineElem}initSliderThumb(e){return this.thumbElem=new l(this.lineElem).init(),this.thumbElem.style.left=this.getPositionElement(this.thumbElem,e),this.thumbElem}initSliderValue(e){return this.valueElem=new h(this.lineElem).init(),this.valueElem.textContent=""+e,this.valueElem.style.left=this.getPositionElement(this.valueElem,e),this.valueElem}initSliderScale(){this.scaleElem=new a(this.lineElem,this._min,this._max,this._step).init()}getPositionElement(e,t){return(t-this._min)*this.lineElem.offsetWidth/(this._max-this._min)-e.offsetWidth/2+"px"}fillSliderLine(e,t){this.lineElem.style.background=t?`linear-gradient(to right, #e5e5e5 ${t}px,\n        red ${t}px, red ${e}px, #e5e5e5 ${e}px)`:`linear-gradient(to right, red ${e}px, #e5e5e5 ${e}px)`}getSliderValue(e){return Math.round((e.offsetLeft+e.offsetWidth/2)*(this._max-this._min)/this.lineElem.offsetWidth+this._min)}updateSliderThumb(e,t){this.thumbElem=e,this.thumbElem.style.left=this.getPositionElement(this.thumbElem,t)}updateSliderValue(e,t){this.valueElem=e,this.thumbElem=t,this.valueElem.textContent=""+this.getSliderValue(this.thumbElem),this.valueElem.style.left=this.getPositionElement(this.valueElem,Number(this.valueElem.textContent))}updateSliderScale(){const e=Array.from(this.scaleElem.children);for(let t=1;t<e.length;t++)e[t].style.left=(Number(e[t].textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-e[t].offsetWidth/2+"px"}setOptions(e){this._options=e}}class o{constructor(){this.observers=[]}attach(e){this.observers.includes(e);this.observers.push(e)}detach(e){const t=this.observers.indexOf(e);this.observers.splice(t,1)}notify(){for(const e of this.observers)e.update(this)}setData(e){this._min=e.min,this._max=e.max,this._step=e.step,this._mode=e.mode,this._hasInterval=e.hasInterval,this._values=e.values,this.checkValues()}checkValues(){if(this._min>this._max){const e=this._min;this._min=this._max,this._max=e}if(this._step>this._max-this._min&&(this._step=this._max),this._hasInterval)if(this._values[0]>this._values[1]){const e=this._values[0];this._values[0]=this._values[1],this._values[1]=e}else this._values[0]===this._values[1]&&(this._values[1]+=this._step);(this._values[0]<this._min||this._values[0]>this._max)&&(this._values[0]=this._min),(this._values[1]<this._min||this._values[1]>this._max)&&(this._values[1]=this._max),this.notify()}getData(){return{min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}}class m{constructor(e,t){this._min=0,this._max=300,this._step=82,this._mode="horizontal",this._hasInterval=!1,this._values=[this._step],this._selector=e,t&&(this._min=t.min?t.min:this._min,this._max=t.max?t.max:this._max,this._step=t.step?t.step:this._step,this._mode=t.mode?t.mode:this._mode,this._hasInterval=t.hasInterval?t.hasInterval:this._hasInterval,this._values=t.values?t.values:[this._step])}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}init(){this.setData();const e=new o;e.setData(this._options),this._options=e.getData();const t=new r(this._selector,this._options),i=new s(t,e);e.attach(i)}}new m("#slider1").init();new m("#slider2",{min:40,step:60,max:245}).init();new m("#slider3",{values:[300]}).init();new m("#slider4",{hasInterval:!0,values:[82,164]}).init();new m("#slider5",{hasInterval:!0,values:[29,138]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvcHJlc2VudGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3NsaWRlckxpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJQcmVzZW50ZXIiLCJ2aWV3IiwibW9kZWwiLCJ0aGlzIiwiYmluZGVkT25Nb3VzZU1vdmUiLCJvbk1vdXNlTW92ZSIsImJpbmRlZE9uTW91c2VVcCIsIm9uTW91c2VVcCIsImJpbmRlZE9uTW91c2VEb3duIiwib25Nb3VzZURvd24iLCJiaW5kZWRPblJlc2l6ZSIsIm9uUmVzaXplIiwiX21vZGVsIiwiX29wdGlvbnMiLCJnZXREYXRhIiwiX21pbiIsIm1pbiIsIl9tYXgiLCJtYXgiLCJfc3RlcCIsInN0ZXAiLCJfbW9kZSIsIl9oYXNJbnRlcnZhbCIsImhhc0ludGVydmFsIiwiX3ZhbHVlcyIsInZhbHVlcyIsIl92aWV3IiwibGluZUVsZW0iLCJpbml0U2xpZGVyTGluZSIsIm1pblRodW1iSW50ZXJ2YWwiLCJpbml0U2xpZGVyVGh1bWIiLCJtYXhUaHVtYkludGVydmFsIiwibWluVmFsdWVJbnRlcnZhbCIsImluaXRTbGlkZXJWYWx1ZSIsIm1heFZhbHVlSW50ZXJ2YWwiLCJmaWxsU2xpZGVyTGluZSIsIk51bWJlciIsImxlZnQiLCJzbGljZSIsInRodW1iRWxlbSIsInZhbHVlRWxlbSIsImluaXRTbGlkZXJTY2FsZSIsInNsaWRlclJ1biIsImV2ZW50IiwiZGVsdGEiLCJvZmZzZXRXaWR0aCIsInRodW1iUG9pbnQiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHRFZGdlIiwiYmFja2dyb3VuZCIsInZhbCIsIk1hdGgiLCJyb3VuZCIsInRleHRDb250ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwic2V0T3B0aW9ucyIsInVwZGF0ZVNsaWRlclNjYWxlIiwidXBkYXRlU2xpZGVyVGh1bWIiLCJ1cGRhdGVTbGlkZXJWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJTbGlkZXJMaW5lIiwiZWxlbUlkIiwiX3NlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJTbGlkZXJUaHVtYiIsInBhcmVudEVsZW1lbnQiLCJfcGFyZW50RWxlbWVudCIsImFwcGVuZCIsIlNsaWRlclZhbHVlIiwiU2xpZGVyU2NhbGUiLCJzY2FsZUVsZW0iLCJtaW5FbGVtIiwicG9zaXRpb24iLCJtYXhFbGVtIiwib2Zmc2V0TGVmdCIsIm1hcmsiLCJtaWRkbGVFbGVtIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiX2VsZW1JZCIsImluaXQiLCJnZXRQb3NpdGlvbkVsZW1lbnQiLCJlbGVtIiwicG9pbnRUbyIsInBvaW50RnJvbSIsImxhYmVsIiwidGh1bWIiLCJnZXRTbGlkZXJWYWx1ZSIsIm1pZGRsZUVsZW1zIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGRyZW4iLCJNb2RlbCIsIm9ic2VydmVycyIsIm9ic2VydmVyIiwiaW5jbHVkZXMiLCJvYnNlcnZlckluZGV4IiwiaW5kZXhPZiIsImNoZWNrVmFsdWVzIiwidGVtcCIsIm5vdGlmeSIsInNldERhdGEiLCJwcmVzZW50ZXIiLCJhdHRhY2giXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFB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RyxZQUFjOUcsRUFBUThHLFlBQWNwQixLQUFLbUIsYUFDckVuQixLQUFLcUIsUUFBVS9HLEVBQVFnSCxPQUFTaEgsRUFBUWdILE9BQVMsQ0FBQ3RCLEtBQUtnQixRQUkzRCxVQUNFaEIsS0FBS1UsU0FBVyxDQUNkRyxJQUFLYixLQUFLWSxLQUNWRyxJQUFLZixLQUFLYyxLQUNWRyxLQUFNakIsS0FBS2dCLE1BQ1gxSCxLQUFNMEcsS0FBS2tCLE1BQ1hFLFlBQWFwQixLQUFLbUIsYUFDbEJHLE9BQVF0QixLQUFLcUIsU0FJakIsT0FDRXJCLEtBQUt3RyxVQUNMLE1BQU16RyxFQUFlLElBQUlnRyxFQUN6QmhHLEVBQU15RyxRQUFReEcsS0FBS1UsVUFDbkJWLEtBQUtVLFNBQVdYLEVBQU1ZLFVBQ3RCLE1BQU1iLEVBQU8sSUFBSSxFQUFLRSxLQUFLZ0UsVUFBV2hFLEtBQUtVLFVBQ3JDK0YsRUFBWSxJQUFJNUcsRUFBVUMsRUFBTUMsR0FDdENBLEVBQU0yRyxPQUFPRCxJQ2hETyxJQUFJLEVBQU8sWUFDM0J0QixPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFdEUsSUFBSyxHQUFJSSxLQUFNLEdBQUlGLElBQUssTUFDakVvRSxPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFN0QsT0FBUSxDQUFDLE9BQ2xENkQsT0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBRS9ELGFBQWEsRUFBTUUsT0FBUSxDQUFDLEdBQUksT0FDekU2RCxPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFL0QsYUFBYSxFQUFNRSxPQUFRLENBQUMsR0FBSSxPQUN6RTZEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0XCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5pbXBvcnQgeyBTdWJqZWN0LCBNb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuaW1wb3J0IFZpZXcgZnJvbSAnLi92aWV3JztcclxuXHJcbnR5cGUgb3B0aW9uc1R5cGUgPSB7XHJcbiAgbWluPzogbnVtYmVyLFxyXG4gIG1heD86IG51bWJlcixcclxuICBzdGVwPzogbnVtYmVyLFxyXG4gIG1vZGU/OiBzdHJpbmcsXHJcbiAgaGFzSW50ZXJ2YWw/OiBib29sZWFuLFxyXG4gIHZhbHVlcz86IG51bWJlcltdXHJcbn07XHJcblxyXG4vKipcclxuKiDQmNC90YLQtdGA0YTQtdC50YEg0J3QsNCx0LvRjtC00LDRgtC10LvRjyDQvtCx0YrRj9Cy0LvRj9C10YIg0LzQtdGC0L7QtCDRg9Cy0LXQtNC+0LzQu9C10L3QuNGPLCDQutC+0YLQvtGA0YvQuSDQuNC30LTQsNGC0LXQu9C4XHJcbiog0LjRgdC/0L7Qu9GM0LfRg9GO0YIg0LTQu9GPINC+0L/QvtCy0LXRidC10L3QuNGPINGB0LLQvtC40YUg0L/QvtC00L/QuNGB0YfQuNC60L7Qsi5cclxuKi9cclxuaW50ZXJmYWNlIE9ic2VydmVyIHtcclxuICAvLyDQn9C+0LvRg9GH0LjRgtGMINC+0LHQvdC+0LLQu9C10L3QuNC1INC+0YIg0YHRg9Cx0YrQtdC60YLQsC5cclxuICB1cGRhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4qINCa0L7QvdC60YDQtdGC0L3Ri9C1INCd0LDQsdC70Y7QtNCw0YLQtdC70Lgg0YDQtdCw0LPQuNGA0YPRjtGCINC90LAg0L7QsdC90L7QstC70LXQvdC40Y8sINCy0YvQv9GD0YnQtdC90L3Ri9C1INCY0LfQtNCw0YLQtdC70LXQvCwg0LpcclxuKiDQutC+0YLQvtGA0L7QvNGDINC+0L3QuCDQv9GA0LjQutGA0LXQv9C70LXQvdGLLlxyXG4qL1xyXG4vLyBjbGFzcyBDb25jcmV0ZU9ic2VydmVyQSBpbXBsZW1lbnRzIE9ic2VydmVyIHtcclxuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcclxuLy8gICAgIGlmIChzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIHN1YmplY3Quc3RhdGUgPCAzKSB7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKCdDb25jcmV0ZU9ic2VydmVyQTogUmVhY3RlZCB0byB0aGUgZXZlbnQuJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG5jbGFzcyBQcmVzZW50ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbiAgcHJpdmF0ZSBiaW5kZWRPbk1vdXNlTW92ZTtcclxuICBwcml2YXRlIGJpbmRlZE9uTW91c2VVcDtcclxuICBwcml2YXRlIGJpbmRlZE9uTW91c2VEb3duO1xyXG4gIHByaXZhdGUgYmluZGVkT25SZXNpemU7XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xyXG4gIF9taW46IG51bWJlcjtcclxuICBfbWF4OiBudW1iZXI7XHJcbiAgX3N0ZXA6IG51bWJlcjtcclxuICBfbW9kZTogc3RyaW5nO1xyXG4gIF9oYXNJbnRlcnZhbDogYm9vbGVhbjtcclxuICBfdmFsdWVzOiBudW1iZXJbXTtcclxuICBsaW5lRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgdGh1bWJFbGVtOiBIVE1MRWxlbWVudDtcclxuICB2YWx1ZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1pblRodW1iSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xyXG4gIG1heFRodW1iSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xyXG4gIG1pblZhbHVlSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xyXG4gIG1heFZhbHVlSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwcml2YXRlIF92aWV3OiBWaWV3O1xyXG4gIHByaXZhdGUgX21vZGVsOiBNb2RlbDtcclxuXHJcbiAgY29uc3RydWN0b3IodmlldzogVmlldywgbW9kZWw6IE1vZGVsKSB7XHJcbiAgICB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlVXAgPSB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuYmluZGVkT25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XHJcblxyXG4gICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcclxuICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLl9tb2RlbC5nZXREYXRhKCk7XHJcbiAgICB0aGlzLl9taW4gPSB0aGlzLl9vcHRpb25zLm1pbjtcclxuICAgIHRoaXMuX21heCA9IHRoaXMuX29wdGlvbnMubWF4O1xyXG4gICAgdGhpcy5fc3RlcCA9IHRoaXMuX29wdGlvbnMuc3RlcDtcclxuICAgIHRoaXMuX21vZGUgPSB0aGlzLl9vcHRpb25zLm1vZGU7XHJcbiAgICB0aGlzLl9oYXNJbnRlcnZhbCA9IHRoaXMuX29wdGlvbnMuaGFzSW50ZXJ2YWw7XHJcbiAgICB0aGlzLl92YWx1ZXMgPSB0aGlzLl9vcHRpb25zLnZhbHVlcztcclxuXHJcbiAgICB0aGlzLl92aWV3ID0gdmlldztcclxuICAgIHRoaXMubGluZUVsZW0gPSB0aGlzLl92aWV3LmluaXRTbGlkZXJMaW5lKCk7XHJcbiAgICBpZiAodGhpcy5faGFzSW50ZXJ2YWwpIHtcclxuICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzBdKTtcclxuICAgICAgdGhpcy5tYXhUaHVtYkludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzFdKTtcclxuXHJcbiAgICAgIHRoaXMubWluVmFsdWVJbnRlcnZhbCA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclZhbHVlKHRoaXMuX3ZhbHVlc1swXSk7XHJcbiAgICAgIHRoaXMubWF4VmFsdWVJbnRlcnZhbCA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclZhbHVlKHRoaXMuX3ZhbHVlc1sxXSk7XHJcblxyXG4gICAgICB0aGlzLl92aWV3LmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLm1heFRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdC5zbGljZSgwLCAtMikpLFxyXG4gICAgICAgIE51bWJlcih0aGlzLm1pblRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdC5zbGljZSgwLCAtMikpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGh1bWJFbGVtID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzBdKTtcclxuICAgICAgdGhpcy52YWx1ZUVsZW0gPSB0aGlzLl92aWV3LmluaXRTbGlkZXJWYWx1ZSh0aGlzLl92YWx1ZXNbMF0pO1xyXG4gICAgICB0aGlzLl92aWV3LmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fdmlldy5pbml0U2xpZGVyU2NhbGUoKTtcclxuXHJcbiAgICB0aGlzLnNsaWRlclJ1bigpO1xyXG4gICAgLy8gdGhpcy5zZXREYXRhKCk7XHJcbiAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlbHRhID0gdGhpcy50aHVtYkVsZW0ub2Zmc2V0V2lkdGggLyAyO1xyXG4gICAgbGV0IHRodW1iUG9pbnQgPSBldmVudC5jbGllbnRYIC0gdGhpcy5saW5lRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGVsdGE7XHJcblxyXG4gICAgLy8g0LrRg9GA0YHQvtGAINCy0YvRiNC10Lsg0LjQtyDRgdC70LDQudC00LXRgNCwID0+INC+0YHRgtCw0LLQuNGC0Ywg0LHQtdCz0YPQvdC+0Log0LIg0LXQs9C+INCz0YDQsNC90LjRhtCw0YUuXHJcbiAgICBpZiAodGh1bWJQb2ludCA8IC1kZWx0YSkge1xyXG4gICAgICB0aHVtYlBvaW50ID0gLWRlbHRhO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmlnaHRFZGdlID0gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAtIGRlbHRhO1xyXG4gICAgaWYgKHRodW1iUG9pbnQgPiByaWdodEVkZ2UpIHtcclxuICAgICAgdGh1bWJQb2ludCA9IHJpZ2h0RWRnZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XHJcbiAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHt0aHVtYlBvaW50fXB4LCAjZTVlNWU1ICR7dGh1bWJQb2ludH1weClgO1xyXG4gICAgdGhpcy52YWx1ZUVsZW0uc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy52YWx1ZUVsZW0ub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcclxuXHJcbiAgICBjb25zdCB2YWwgPSBNYXRoLnJvdW5kKCgodGh1bWJQb2ludFxyXG4gICAgICArIGRlbHRhKSAqICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSAvIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLl9taW4pO1xyXG5cclxuICAgIC8vIGNvbnN0IGRhdGEgPSB0aGlzLl9tb2RlbC5nZXREYXRhKCk7XHJcbiAgICB0aGlzLl92YWx1ZXNbMF0gPSB2YWw7XHJcbiAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKGRhdGEpO1xyXG4gICAgLy8gdGhpcy5fbW9kZWwuc2V0RGF0YSh0aGlzLl9vcHRpb25zKTtcclxuXHJcbiAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke01hdGgucm91bmQoKCh0aHVtYlBvaW50XHJcbiAgICAgICsgZGVsdGEpICogKHRoaXMuX21heCAtIHRoaXMuX21pbikpIC8gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCArIHRoaXMuX21pbil9YDtcclxuICB9XHJcblxyXG4gIG9uTW91c2VVcCgpOiB2b2lkIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmJpbmRlZE9uTW91c2VVcCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYmluZGVkT25Nb3VzZVVwKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZXR1cm5GYWxzZSgpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHNsaWRlclJ1bigpIHtcclxuICAgIHRoaXMubGluZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmJpbmRlZE9uUmVzaXplKTtcclxuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLm1pblRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICAgIHRoaXMubWluVGh1bWJJbnRlcnZhbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xyXG4gICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICAgIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50aHVtYkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICAgIHRoaXMudGh1bWJFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFByZXNlbnRlci5yZXR1cm5GYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICB0aGlzLmxpbmVFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYmluZGVkT25SZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgc2V0RGF0YSgpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSB7XHJcbiAgICAgIG1pbjogdGhpcy5fbWluLFxyXG4gICAgICBtYXg6IHRoaXMuX21heCxcclxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcclxuICAgICAgbW9kZTogdGhpcy5fbW9kZSxcclxuICAgICAgaGFzSW50ZXJ2YWw6IHRoaXMuX2hhc0ludGVydmFsLFxyXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSgpIHtcclxuICAgIC8vIHRoaXMuc2V0RGF0YSgpO1xyXG4gICAgdGhpcy5fdmlldy5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMpO1xyXG4gICAgdGhpcy5fdmlldy51cGRhdGVTbGlkZXJTY2FsZSgpO1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludGVydmFsKSB7XHJcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVGh1bWIodGhpcy5taW5UaHVtYkludGVydmFsLCB0aGlzLl92YWx1ZXNbMF0pO1xyXG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclRodW1iKHRoaXMubWF4VGh1bWJJbnRlcnZhbCwgdGhpcy5fdmFsdWVzWzFdKTtcclxuICAgICAgdGhpcy5fdmlldy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy5tYXhUaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSxcclxuICAgICAgICBOdW1iZXIodGhpcy5taW5UaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XHJcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVmFsdWUodGhpcy5taW5WYWx1ZUludGVydmFsLCB0aGlzLm1pblRodW1iSW50ZXJ2YWwpO1xyXG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclZhbHVlKHRoaXMubWF4VmFsdWVJbnRlcnZhbCwgdGhpcy5tYXhUaHVtYkludGVydmFsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVGh1bWIodGhpcy50aHVtYkVsZW0sIHRoaXMuX3ZhbHVlc1swXSk7XHJcbiAgICAgIHRoaXMuX3ZpZXcuZmlsbFNsaWRlckxpbmUoTnVtYmVyKHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XHJcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVmFsdWUodGhpcy52YWx1ZUVsZW0sIHRoaXMudGh1bWJFbGVtKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZShtb2RlbDogTW9kZWwpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBtb2RlbC5nZXREYXRhKCk7XHJcbiAgICB0aGlzLm9uUmVzaXplKCk7XHJcbiAgICBjb25zb2xlLmxvZygnTW9kZWxPYnNlcnZlcjogUmVhY3RlZCB0byB0aGUgZXZlbnQuJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjbGFzcyBWaWV3T2JzZXJ2ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbi8vICAgdXBkYXRlKHZpZXcpIHtcclxuXHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBjbGFzcyBDb25jcmV0ZU9ic2VydmVyQiBpbXBsZW1lbnRzIE9ic2VydmVyIHtcclxuLy8gICBpc1N1YmplY3RTYXRpc2ZpZXMoc3ViamVjdCkge1xyXG4vLyAgICAgcmV0dXJuIHN1YmplY3QgaW5zdGFuY2VvZiBDb25jcmV0ZVN1YmplY3QgJiYgKHN1YmplY3Quc3RhdGUgPT09IDAgfHwgc3ViamVjdC5zdGF0ZSA+PSAyKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHB1YmxpYyB1cGRhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQge1xyXG4vLyAgICAgaWYgKHRoaXMuaXNTdWJqZWN0U2F0aXNmaWVzKHN1YmplY3QpKSB7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKCdDb25jcmV0ZU9ic2VydmVyQjogUmVhY3RlZCB0byB0aGUgZXZlbnQuJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgeyBPYnNlcnZlciwgQ29uY3JldGVPYnNlcnZlckEsIENvbmNyZXRlT2JzZXJ2ZXJCLCBQcmVzZW50ZXIgfTtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbmV4cG9ydCB7IE9ic2VydmVyLCBQcmVzZW50ZXIgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyTGluZSB7XHJcbiAgcHJpdmF0ZSBfc2VsZWN0b3I6IHN0cmluZztcclxuICBsaW5lRWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsZW1JZDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IGVsZW1JZDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmxpbmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5saW5lRWxlbS5jbGFzc0xpc3QuYWRkKCdzbGlkZXItYm9keScpO1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUVsZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlclRodW1iIHtcclxuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgIHRoaXMudGh1bWJFbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci10aHVtYicpO1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy50aHVtYkVsZW0pO1xyXG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJWYWx1ZSB7XHJcbiAgcHJpdmF0ZSBfcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMudmFsdWVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5jbGFzc0xpc3QuYWRkKCd0aXAtdmFsdWUnKTtcclxuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQuYXBwZW5kKHRoaXMudmFsdWVFbGVtKTtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlRWxlbTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyU2NhbGUge1xyXG4gIHByaXZhdGUgX3BhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHByaXZhdGUgX21pbjogbnVtYmVyO1xyXG4gIHByaXZhdGUgX21heDogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3N0ZXA6IG51bWJlcjtcclxuICBtYXJrOiBudW1iZXI7XHJcbiAgc2NhbGVFbGVtOiBIVE1MRWxlbWVudDtcclxuICBtaW5FbGVtOiBIVE1MRWxlbWVudDtcclxuICBtYXhFbGVtOiBIVE1MRWxlbWVudDtcclxuICBtaWRkbGVFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcclxuICAgIHRoaXMuX21pbiA9IG1pbjtcclxuICAgIHRoaXMuX21heCA9IG1heDtcclxuICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuc2NhbGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnNjYWxlRWxlbS5jbGFzc0xpc3QuYWRkKCdzY2FsZScpO1xyXG5cclxuICAgIHRoaXMubWluRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgIHRoaXMubWluRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuX21pbn1gO1xyXG4gICAgdGhpcy5taW5FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHJcbiAgICB0aGlzLm1heEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XHJcbiAgICB0aGlzLm1heEVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9tYXh9YDtcclxuICAgIHRoaXMubWF4RWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblxyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy5zY2FsZUVsZW0pO1xyXG4gICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKHRoaXMubWluRWxlbSk7XHJcbiAgICB0aGlzLnNjYWxlRWxlbS5hcHBlbmQodGhpcy5tYXhFbGVtKTtcclxuXHJcbiAgICB0aGlzLm1pbkVsZW0uc3R5bGUubGVmdCA9IGAke3RoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSB0aGlzLm1pbkVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIHRoaXMubWF4RWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5zY2FsZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0XHJcbiAgICAtIHRoaXMubWF4RWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG5cclxuICAgIHRoaXMubWFyayA9ICh0aGlzLl9tYXggLSB0aGlzLl9taW4pIC8gdGhpcy5fc3RlcDtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5tYXJrOyBpKyspIHtcclxuICAgICAgdGhpcy5taWRkbGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgICB0aGlzLm1pZGRsZUVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9zdGVwICogaSArIHRoaXMuX21pbn1gO1xyXG4gICAgICB0aGlzLm1pZGRsZUVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICB0aGlzLm1heEVsZW0uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIHRoaXMubWlkZGxlRWxlbSk7XHJcbiAgICAgIHRoaXMubWlkZGxlRWxlbS5zdHlsZS5sZWZ0ID0gYCR7KCgoTnVtYmVyKHRoaXMubWlkZGxlRWxlbS50ZXh0Q29udGVudCkgLSB0aGlzLl9taW4pXHJcbiAgICAgICogdGhpcy5zY2FsZUVsZW0ub2Zmc2V0V2lkdGgpIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbikpXHJcbiAgICAgICsgdGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdCAtIHRoaXMubWlkZGxlRWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnNjYWxlRWxlbTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFNsaWRlckxpbmUgZnJvbSAnLi9zbGlkZXJMaW5lJztcclxuaW1wb3J0IFNsaWRlclRodW1iIGZyb20gJy4vc2xpZGVyVGh1bWInO1xyXG5pbXBvcnQgU2xpZGVyVmFsdWUgZnJvbSAnLi9zbGlkZXJWYWx1ZSc7XHJcbmltcG9ydCBTbGlkZXJTY2FsZSBmcm9tICcuL3NsaWRlclNjYWxlJztcclxuXHJcbnR5cGUgb3B0aW9uc1R5cGUgPSB7XHJcbiAgbWluPzogbnVtYmVyLFxyXG4gIG1heD86IG51bWJlcixcclxuICBzdGVwPzogbnVtYmVyLFxyXG4gIG1vZGU/OiBzdHJpbmcsXHJcbiAgaGFzSW50ZXJ2YWw/OiBib29sZWFuLFxyXG4gIHZhbHVlcz86IG51bWJlcltdXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcclxuICBfZWxlbUlkOiBzdHJpbmc7XHJcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xyXG4gIF9taW46IG51bWJlcjtcclxuICBfbWF4OiBudW1iZXI7XHJcbiAgX3N0ZXA6IG51bWJlcjtcclxuICBfbW9kZTogc3RyaW5nO1xyXG4gIF9oYXNJbnRlcnZhbDogYm9vbGVhbjtcclxuICBfdmFsdWVzOiBudW1iZXJbXTtcclxuXHJcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIHRodW1iRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcclxuICBzY2FsZUVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbGVtSWQ6IHN0cmluZywgb3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX2VsZW1JZCA9IGVsZW1JZC5zbGljZSgxKTtcclxuICAgIHRoaXMuX21pbiA9IG9wdGlvbnMubWluO1xyXG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXg7XHJcbiAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwO1xyXG4gICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZTtcclxuICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbDtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgaW5pdFNsaWRlckxpbmUoKSB7XHJcbiAgICB0aGlzLmxpbmVFbGVtID0gbmV3IFNsaWRlckxpbmUodGhpcy5fZWxlbUlkKS5pbml0KCk7XHJcbiAgICByZXR1cm4gdGhpcy5saW5lRWxlbTtcclxuICB9XHJcblxyXG4gIGluaXRTbGlkZXJUaHVtYih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnRodW1iRWxlbSA9IG5ldyBTbGlkZXJUaHVtYih0aGlzLmxpbmVFbGVtKS5pbml0KCk7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy50aHVtYkVsZW0sIHZhbHVlKTtcclxuICAgIC8vIHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICByZXR1cm4gdGhpcy50aHVtYkVsZW07XHJcbiAgfVxyXG5cclxuICBpbml0U2xpZGVyVmFsdWUodmFsdWU/OiBudW1iZXIpIHtcclxuICAgIHRoaXMudmFsdWVFbGVtID0gbmV3IFNsaWRlclZhbHVlKHRoaXMubGluZUVsZW0pLmluaXQoKTtcclxuICAgIC8vIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5nZXRTbGlkZXJWYWx1ZSh0aGlzLnRodW1iRWxlbSl9YDtcclxuICAgIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7dmFsdWV9YDtcclxuICAgIC8vIHRoaXMudmFsdWVFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnZhbHVlRWxlbSwgTnVtYmVyKHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50KSk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIHZhbHVlKTtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlRWxlbTtcclxuICB9XHJcblxyXG4gIGluaXRTbGlkZXJTY2FsZSgpIHtcclxuICAgIHRoaXMuc2NhbGVFbGVtID0gbmV3IFNsaWRlclNjYWxlKHRoaXMubGluZUVsZW0sIHRoaXMuX21pbiwgdGhpcy5fbWF4LCB0aGlzLl9zdGVwKS5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbkVsZW1lbnQoZWxlbTogSFRNTEVsZW1lbnQsIHZhbDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gYCR7KCh2YWwgLSB0aGlzLl9taW4pICogdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCkgLyAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSAtIGVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICB9XHJcblxyXG4gIGZpbGxTbGlkZXJMaW5lKHBvaW50VG86IG51bWJlciwgcG9pbnRGcm9tPzogbnVtYmVyKSB7XHJcbiAgICBpZiAocG9pbnRGcm9tKSB7XHJcbiAgICAgIHRoaXMubGluZUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNlNWU1ZTUgJHtwb2ludEZyb219cHgsXHJcbiAgICAgICAgcmVkICR7cG9pbnRGcm9tfXB4LCByZWQgJHtwb2ludFRvfXB4LCAjZTVlNWU1ICR7cG9pbnRUb31weClgO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5saW5lRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgcmVkICR7cG9pbnRUb31weCwgI2U1ZTVlNSAke3BvaW50VG99cHgpYDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNsaWRlclZhbHVlKGVsZW06IEhUTUxFbGVtZW50KSB7XHJcbiAgICAvLyByZXR1cm4gTWF0aC5yb3VuZCgoKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyIC0gdGhpcy5saW5lRWxlbS5vZmZzZXRMZWZ0KVxyXG4gICAgLy8gICAqICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSAvIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLl9taW4pO1xyXG4gICAgcmV0dXJuIE1hdGgucm91bmQoKChlbGVtLm9mZnNldExlZnQgKyBlbGVtLm9mZnNldFdpZHRoIC8gMilcclxuICAgICAgKiAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5fbWluKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNsaWRlclRodW1iKGVsZW06IEhUTUxFbGVtZW50LCB2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnRodW1iRWxlbSA9IGVsZW07XHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy50aHVtYkVsZW0sIHZhbHVlKTtcclxuICAgIC8vIHRoaXMuZmlsbFNsaWRlckxpbmUoTnVtYmVyKHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVTbGlkZXJWYWx1ZShsYWJlbDogSFRNTEVsZW1lbnQsIHRodW1iOiBIVE1MRWxlbWVudCkge1xyXG4gICAgdGhpcy52YWx1ZUVsZW0gPSBsYWJlbDtcclxuICAgIHRoaXMudGh1bWJFbGVtID0gdGh1bWI7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pfWA7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIE51bWJlcih0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2xpZGVyU2NhbGUoKSB7XHJcbiAgICBjb25zdCBtaWRkbGVFbGVtczogYW55ID0gQXJyYXkuZnJvbSh0aGlzLnNjYWxlRWxlbS5jaGlsZHJlbik7XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1pZGRsZUVsZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIG1pZGRsZUVsZW1zW2ldLnN0eWxlLmxlZnQgPSBgJHsoKChOdW1iZXIobWlkZGxlRWxlbXNbaV0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKVxyXG4gICAgICAgICogdGhpcy5zY2FsZUVsZW0ub2Zmc2V0V2lkdGgpIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbikpXHJcbiAgICAgICAgKyB0aGlzLnNjYWxlRWxlbS5vZmZzZXRMZWZ0IC0gbWlkZGxlRWxlbXNbaV0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnMob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gIH1cclxufVxyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuaW1wb3J0IHsgT2JzZXJ2ZXIgfSBmcm9tICcuL3ByZXNlbnRlcic7XHJcblxyXG50eXBlIG9wdGlvbnNUeXBlID0ge1xyXG4gIG1pbj86IG51bWJlcjtcclxuICBtYXg/OiBudW1iZXI7XHJcbiAgc3RlcD86IG51bWJlcjtcclxuICBtb2RlPzogc3RyaW5nO1xyXG4gIGhhc0ludGVydmFsPzogYm9vbGVhbjtcclxuICB2YWx1ZXM/OiBudW1iZXJbXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiDQmNC90YLRhNC10YDRhNC10LnRgSDQuNC30LTQsNGC0LXQu9GPINC+0LHRitGP0LLQu9GP0LXRgiDQvdCw0LHQvtGAINC80LXRgtC+0LTQvtCyINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRj9C80Lgg0L/QvtC00L/QuNGB0YfQuNC60LDQvNC4LlxyXG4gKi9cclxuaW50ZXJmYWNlIFN1YmplY3Qge1xyXG4gIC8vINCf0YDQuNGB0L7QtdC00LjQvdGP0LXRgiDQvdCw0LHQu9GO0LTQsNGC0LXQu9GPINC6INC40LfQtNCw0YLQtdC70Y4uXHJcbiAgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XHJcblxyXG4gIC8vINCe0YLRgdC+0LXQtNC40L3Rj9C10YIg0L3QsNCx0LvRjtC00LDRgtC10LvRjyDQvtGCINC40LfQtNCw0YLQtdC70Y8uXHJcbiAgZGV0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XHJcblxyXG4gIC8vINCj0LLQtdC00L7QvNC70Y/QtdGCINCy0YHQtdGFINC90LDQsdC70Y7QtNCw0YLQtdC70LXQuSDQviDRgdC+0LHRi9GC0LjQuC5cclxuICBub3RpZnkoKTogdm9pZDtcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHNlbWlcclxufVxyXG5cclxuY2xhc3MgTW9kZWwgaW1wbGVtZW50cyBTdWJqZWN0IHtcclxuICBfbWluOiBudW1iZXI7XHJcbiAgX21heDogbnVtYmVyO1xyXG4gIF9zdGVwOiBudW1iZXI7XHJcbiAgX21vZGU6IHN0cmluZztcclxuICBfaGFzSW50ZXJ2YWw6IGJvb2xlYW47XHJcbiAgX3ZhbHVlczogbnVtYmVyW107XHJcblxyXG4gIC8vIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBvcHRpb25zKSB7XHJcbiAgLy8gICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxyXG4gIC8vICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW4gPyBvcHRpb25zLm1pbiA6IDA7XHJcbiAgLy8gICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogMzAwO1xyXG4gIC8vICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcCA/IG9wdGlvbnMuc3RlcCA6IDUwO1xyXG4gIC8vICAgdGhpcy5fa2luZCA9IG9wdGlvbnMua2luZCA/IG9wdGlvbnMua2luZCA6ICdob3Jpem9udGFsJztcclxuICAvLyAgIHRoaXMuX2lzQmFzaWMgPSBvcHRpb25zLmlzQmFzaWMgPyBvcHRpb25zLmlzQmFzaWMgOiB0cnVlO1xyXG4gIC8vIHRoaXMubm90aWZ5KCk7XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7T2JzZXJ2ZXJbXX0g0KHQv9C40YHQvtC6INC/0L7QtNC/0LjRgdGH0LjQutC+0LIuINCSINGA0LXQsNC70YzQvdC+0Lkg0LbQuNC30L3QuCDRgdC/0LjRgdC+0LpcclxuICAgKiDQv9C+0LTQv9C40YHRh9C40LrQvtCyINC80L7QttC10YIg0YXRgNCw0L3QuNGC0YzRgdGPINCyINCx0L7Qu9C10LUg0L/QvtC00YDQvtCx0L3QvtC8INCy0LjQtNC1ICjQutC70LDRgdGB0LjRhNC40YbQuNGA0YPQtdGC0YHRjyDQv9C+XHJcbiAgICog0YLQuNC/0YMg0YHQvtCx0YvRgtC40Y8g0Lgg0YIu0LQuKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgb2JzZXJ2ZXJzOiBPYnNlcnZlcltdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqINCc0LXRgtC+0LTRiyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQv9C+0LTQv9C40YHQutC+0LkuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcik7XHJcbiAgICBpZiAoaXNFeGlzdCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnTW9kZWw6IFByZXNlbnRlciBoYXMgYmVlbiBhdHRhY2hlZCBhbHJlYWR5LicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogQXR0YWNoZWQgYSBwcmVzZW50ZXIuJyk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlckluZGV4ID0gdGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XHJcbiAgICBpZiAob2JzZXJ2ZXJJbmRleCA9PT0gLTEpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ1N1YmplY3Q6IE5vbmV4aXN0ZW50IG9ic2VydmVyLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShvYnNlcnZlckluZGV4LCAxKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdTdWJqZWN0OiBEZXRhY2hlZCBhbiBvYnNlcnZlci4nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINCX0LDQv9GD0YHQuiDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsiDQutCw0LbQtNC+0Lwg0L/QvtC00L/QuNGB0YfQuNC60LUuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGlmeSgpOiB2b2lkIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogTm90aWZ5aW5nIG9ic2VydmVycy4uLicpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XHJcbiAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XHJcbiAgICAgIG9ic2VydmVyLnVwZGF0ZSh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERhdGEob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX21pbiA9IG9wdGlvbnMubWluO1xyXG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXg7XHJcbiAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwO1xyXG4gICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZTtcclxuICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbDtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ01vZGVsOiBNeSBzdGF0ZSBoYXMganVzdCBjaGFuZ2VkJyk7XHJcbiAgICAvLyB0aGlzLm5vdGlmeSgpO1xyXG4gICAgdGhpcy5jaGVja1ZhbHVlcygpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tWYWx1ZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbWluID4gdGhpcy5fbWF4KSB7XHJcbiAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9taW47XHJcbiAgICAgIHRoaXMuX21pbiA9IHRoaXMuX21heDtcclxuICAgICAgdGhpcy5fbWF4ID0gdGVtcDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5fc3RlcCA+ICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSB7XHJcbiAgICAgIHRoaXMuX3N0ZXAgPSB0aGlzLl9tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuX2hhc0ludGVydmFsKSB7XHJcbiAgICAgIGlmICh0aGlzLl92YWx1ZXNbMF0gPiB0aGlzLl92YWx1ZXNbMV0pIHtcclxuICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5fdmFsdWVzWzBdO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZhbHVlc1sxXTtcclxuICAgICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0ZW1wO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3ZhbHVlc1swXSA9PT0gdGhpcy5fdmFsdWVzWzFdKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWVzWzFdICs9IHRoaXMuX3N0ZXA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoKHRoaXMuX3ZhbHVlc1swXSA8IHRoaXMuX21pbikgfHwgKHRoaXMuX3ZhbHVlc1swXSA+IHRoaXMuX21heCkpIHtcclxuICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fbWluO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgodGhpcy5fdmFsdWVzWzFdIDwgdGhpcy5fbWluKSB8fCAodGhpcy5fdmFsdWVzWzFdID4gdGhpcy5fbWF4KSkge1xyXG4gICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0aGlzLl9tYXg7XHJcbiAgICB9XHJcbiAgICB0aGlzLm5vdGlmeSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSgpIHtcclxuICAgIC8vIHRoaXMuY2hlY2tWYWx1ZXMoKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1pbjogdGhpcy5fbWluLFxyXG4gICAgICBtYXg6IHRoaXMuX21heCxcclxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcclxuICAgICAgbW9kZTogdGhpcy5fbW9kZSxcclxuICAgICAgaGFzSW50ZXJ2YWw6IHRoaXMuX2hhc0ludGVydmFsLFxyXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuZXhwb3J0IHsgU3ViamVjdCwgTW9kZWwgfTtcclxuIiwiaW1wb3J0IHsgUHJlc2VudGVyIH0gZnJvbSAnLi9wcmVzZW50ZXInO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xyXG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gJy4vbW9kZWwnO1xyXG5cclxudHlwZSBvcHRpb25zVHlwZSA9IHtcclxuICBtaW4/OiBudW1iZXIsXHJcbiAgbWF4PzogbnVtYmVyLFxyXG4gIHN0ZXA/OiBudW1iZXIsXHJcbiAgbW9kZT86IHN0cmluZyxcclxuICBoYXNJbnRlcnZhbD86IGJvb2xlYW4sXHJcbiAgdmFsdWVzPzogbnVtYmVyW11cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xyXG5cclxuICBfbWluID0gMDtcclxuICBfbWF4ID0gMzAwO1xyXG4gIF9zdGVwID0gODI7XHJcbiAgX21vZGUgPSAnaG9yaXpvbnRhbCc7XHJcbiAgX2hhc0ludGVydmFsID0gZmFsc2U7XHJcbiAgX3ZhbHVlcyA9IFt0aGlzLl9zdGVwXTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBvcHRpb25zVHlwZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBlbGVtSWQ7XHJcbiAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogdGhpcy5fbWluO1xyXG4gICAgICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogdGhpcy5fbWF4O1xyXG4gICAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwID8gb3B0aW9ucy5zdGVwIDogdGhpcy5fc3RlcDtcclxuICAgICAgdGhpcy5fbW9kZSA9IG9wdGlvbnMubW9kZSA/IG9wdGlvbnMubW9kZSA6IHRoaXMuX21vZGU7XHJcbiAgICAgIHRoaXMuX2hhc0ludGVydmFsID0gb3B0aW9ucy5oYXNJbnRlcnZhbCA/IG9wdGlvbnMuaGFzSW50ZXJ2YWwgOiB0aGlzLl9oYXNJbnRlcnZhbDtcclxuICAgICAgdGhpcy5fdmFsdWVzID0gb3B0aW9ucy52YWx1ZXMgPyBvcHRpb25zLnZhbHVlcyA6IFt0aGlzLl9zdGVwXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERhdGEoKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0ge1xyXG4gICAgICBtaW46IHRoaXMuX21pbixcclxuICAgICAgbWF4OiB0aGlzLl9tYXgsXHJcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXHJcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXHJcbiAgICAgIGhhc0ludGVydmFsOiB0aGlzLl9oYXNJbnRlcnZhbCxcclxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuc2V0RGF0YSgpO1xyXG4gICAgY29uc3QgbW9kZWw6IE1vZGVsID0gbmV3IE1vZGVsKCk7XHJcbiAgICBtb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xyXG4gICAgdGhpcy5fb3B0aW9ucyA9IG1vZGVsLmdldERhdGEoKTtcclxuICAgIGNvbnN0IHZpZXcgPSBuZXcgVmlldyh0aGlzLl9zZWxlY3RvciwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBuZXcgUHJlc2VudGVyKHZpZXcsIG1vZGVsKTtcclxuICAgIG1vZGVsLmF0dGFjaChwcmVzZW50ZXIpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9tb2R1bGVzL3NsaWRlcic7XHJcblxyXG4vLyBpbXBvcnQgeyBDb25jcmV0ZVN1YmplY3QgfSBmcm9tICcuL21vZHVsZXMvYXBwJztcclxuLy8gaW1wb3J0IHsgQ29uY3JldGVPYnNlcnZlckEsIENvbmNyZXRlT2JzZXJ2ZXJCLCBQcmVzZW50ZXIgfSBmcm9tICcuL21vZHVsZXMvcHJlc2VudGVyJztcclxuXHJcbmNvbnN0IHNsaWRlcjE6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXIxJyk7XHJcbnNsaWRlcjEuaW5pdCgpO1xyXG5cclxuY29uc3Qgc2xpZGVyMjogU2xpZGVyID0gbmV3IFNsaWRlcignI3NsaWRlcjInLCB7IG1pbjogNDAsIHN0ZXA6IDYwLCBtYXg6IDI0NSB9KTtcclxuc2xpZGVyMi5pbml0KCk7XHJcblxyXG5jb25zdCBzbGlkZXIzOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyMycsIHsgdmFsdWVzOiBbMzAwXSB9KTtcclxuc2xpZGVyMy5pbml0KCk7XHJcblxyXG5jb25zdCBzbGlkZXI0OiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyNCcsIHsgaGFzSW50ZXJ2YWw6IHRydWUsIHZhbHVlczogWzgyLCAxNjRdIH0pO1xyXG5zbGlkZXI0LmluaXQoKTtcclxuXHJcbmNvbnN0IHNsaWRlcjU6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXI1JywgeyBoYXNJbnRlcnZhbDogdHJ1ZSwgdmFsdWVzOiBbMjksIDEzOF0gfSk7XHJcbnNsaWRlcjUuaW5pdCgpO1xyXG5cclxuLyoqXHJcbiog0JrQu9C40LXQvdGC0YHQutC40Lkg0LrQvtC0LlxyXG4qL1xyXG5cclxuLy8gY29uc3Qgc3ViamVjdCA9IG5ldyBDb25jcmV0ZVN1YmplY3QoKTtcclxuXHJcbi8vIGNvbnN0IG9ic2VydmVyMSA9IG5ldyBDb25jcmV0ZU9ic2VydmVyQSgpO1xyXG4vLyBzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjEpO1xyXG5cclxuLy8gY29uc3Qgb2JzZXJ2ZXIyID0gbmV3IENvbmNyZXRlT2JzZXJ2ZXJCKCk7XHJcbi8vIHN1YmplY3QuYXR0YWNoKG9ic2VydmVyMik7XHJcblxyXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XHJcbi8vIHN1YmplY3Quc29tZUJ1c2luZXNzTG9naWMoKTtcclxuXHJcbi8vIHN1YmplY3QuZGV0YWNoKG9ic2VydmVyMik7XHJcblxyXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XHJcblxyXG4vKiBjb25zdCBNVlAgPSB7XHJcbiAgbWFrZU9ic2VydmFibGVTdWJqZWN0KCkge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gW107XHJcbiAgICBjb25zdCBhZGRPYnNlcnZlciA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgbyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcclxuICAgICAgICBpZiAob2JzZXJ2ZXIgPT09IG8pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBvYnNlcnZlcnMucHVzaChvKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XHJcbiAgICAgICAgaWYgKG9ic2VydmVyID09PSBvKSB7XHJcbiAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCBmaW5kIG9ic2VydmVyIGluIGxpc3Qgb2Ygb2JzZXJ2ZXJzJyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgbm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgLy8gTWFrZSBhIGNvcHkgb2Ygb2JzZXJ2ZXIgbGlzdCBpbiBjYXNlIHRoZSBsaXN0XHJcbiAgICAgIC8vIGlzIG11dGF0ZWQgZHVyaW5nIHRoZSBub3RpZmljYXRpb25zLlxyXG4gICAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IG9ic2VydmVycy5zbGljZSgwKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnNTbmFwc2hvdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG9ic2VydmVyc1NuYXBzaG90W2ldKGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkT2JzZXJ2ZXIsXHJcbiAgICAgIHJlbW92ZU9ic2VydmVyLFxyXG4gICAgICBub3RpZnlPYnNlcnZlcnMsXHJcbiAgICAgIG5vdGlmeTogbm90aWZ5T2JzZXJ2ZXJzLFxyXG4gICAgfTtcclxuICB9LFxyXG5cclxuICBNb2RlbChvcHRpb25zID0ge30pIHtcclxuICAgIC8vIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgLy8gY29uc3QgaXRlbXMgPSBbXTtcclxuICAgIHRoaXMub3B0aW9ucyA9ICFvcHRpb25zID8ge30gOiBvcHRpb25zO1xyXG4gICAgdGhpcy5tb2RlbENoYW5nZWRTdWJqZWN0ID0gTVZQLm1ha2VPYnNlcnZhYmxlU3ViamVjdCgpO1xyXG4gICAgdGhpcy5taW5WYWx1ZSA9IDA7XHJcbiAgICB0aGlzLm1heFZhbHVlID0gMzAwO1xyXG4gICAgdGhpcy5zdGVwID0gNTA7XHJcbiAgICB0aGlzLm1vZGUgPSAnaG9yaXpvbnRhbCc7XHJcbiAgICB0aGlzLnR5cGUgPSAnc2luZ2xlJztcclxuICAgIC8vIHRoaXMuYWRkSXRlbSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgLy8gICBpZiAoIXZhbHVlKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGl0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5yZW1vdmVDdXJyZW50SXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgaWYgKHRoYXQuc2VsZWN0ZWRJbmRleCA9PT0gLTEpIHtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgaXRlbXMuc3BsaWNlKHRoYXQuc2VsZWN0ZWRJbmRleCwgMSk7XHJcbiAgICAvLyAgIHRoYXQubW9kZWxDaGFuZ2VkU3ViamVjdC5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICByZXR1cm4gaXRlbXM7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAvLyB0aGlzLmdldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIHJldHVybiB0aGF0LnNlbGVjdGVkSW5kZXg7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5zZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAvLyAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IHZhbHVlO1xyXG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICAvLyB9O1xyXG4gIH0sXHJcblxyXG4gIFZpZXcoKSB7XHJcbiAgICAvLyBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyQm9keTogU2xpZGVyQm9keSA9IG5ldyBTbGlkZXJCb2R5KCk7XHJcbiAgICAgIHNsaWRlckJvZHkuaW5pdCgpO1xyXG5cclxuICAgICAgY29uc3Qgc2xpZGVyVGh1bWI6IFNsaWRlclRodW1iID0gbmV3IFNsaWRlclRodW1iKCk7XHJcbiAgICAgIHNsaWRlclRodW1iLmluaXQoKTtcclxuXHJcbiAgICAgIGNvbnN0IHRpcFZhbHVlOiBUaXBWYWx1ZSA9IG5ldyBUaXBWYWx1ZSgpO1xyXG4gICAgICB0aXBWYWx1ZS5pbml0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRoYXQuc2VsZWN0ID0gJCgnPHNlbGVjdC8+JykuYXBwZW5kVG8ocm9vdE9iamVjdCk7XHJcbiAgICAvLyB0aGF0LnNlbGVjdC5hdHRyKCdzaXplJywgJzQnKTtcclxuICAgIC8vIHRoYXQuYnV0dG9uQWRkID0gJCgnPGJ1dHRvbj4rPC9idXR0b24+JykuYXBwZW5kVG8ocm9vdE9iamVjdCkuaGVpZ2h0KDIwKTtcclxuICAgIC8vIHRoYXQuYnV0dG9uUmVtb3ZlID0gJCgnPGJ1dHRvbj4tPC9idXR0b24+JykuYXBwZW5kVG8ocm9vdE9iamVjdCkuaGVpZ2h0KDIwKTtcclxuICAgIC8vIG1vZGVsLm1vZGVsQ2hhbmdlZFN1YmplY3QuYWRkT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICB2YXIgaXRlbXMgPSBtb2RlbC5nZXRJdGVtcygpO1xyXG4gICAgLy8gICB2YXIgaW5uZXJIVE1MID0gJyc7XHJcbiAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIC8vICAgICBpbm5lckhUTUwgKz0gXCI8b3B0aW9uPlwiICsgaXRlbXNbaV0gKyBcIjwvb3B0aW9uPlwiO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIHRoYXQuc2VsZWN0Lmh0bWwoaW5uZXJIVE1MKTtcclxuICAgIC8vIH0pO1xyXG4gIH0sXHJcblxyXG4gIENvbnRyb2xsZXIobW9kZWwsIHZpZXcpIHtcclxuICAgIHZpZXcuaW5pdCgpO1xyXG4gICAgLy8gdmlldy5idXR0b25BZGQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIG1vZGVsLmFkZEl0ZW0ocHJvbXB0KCdhZGR2YWx1ZScpKTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdmlldy5idXR0b25SZW1vdmUuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIG1vZGVsLnJlbW92ZUN1cnJlbnRJdGVtKCk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vIHZpZXcuc2VsZWN0LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBtb2RlbC5zZXRTZWxlY3RlZEluZGV4KHZpZXcuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgpO1xyXG4gICAgLy8gfSk7XHJcbiAgfSxcclxufTsgKi9cclxuXHJcbi8qICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICB2YXIgbW9kZWwgPSBuZXcgT01WQy5Nb2RlbCgpO1xyXG4gIHZhciB2aWV3ID0gbmV3IE9NVkMuVmlldyhtb2RlbCwgJCgnPGRpdi8+JykuYXBwZW5kVG8oJChcImJvZHlcIikpKTtcclxuICB2YXIgY29udHJvbGxlciA9IG5ldyBPTVZDLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xyXG59KTsgKi9cclxuXHJcbi8vIGNvbnN0IG1vZGVsID0gbmV3IE1WUC5Nb2RlbCgpO1xyXG4vLyBjb25zdCB2aWV3ID0gbmV3IE1WUC5WaWV3KCk7XHJcbi8vIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgTVZQLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xyXG5cclxuLy8gY29udHJvbGxlcigpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9