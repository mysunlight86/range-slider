!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),r=[];function l(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},s=[],n=0;n<e.length;n++){var o=e[n],a=t.base?o[0]+t.base:o[0],c=i[a]||0,h="".concat(a," ").concat(c);i[a]=c+1;var u=l(h),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:h,updater:_(d,t),references:1}),s.push(h)}return s}function c(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function d(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var o=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function m(e,t,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var f=null,p=0;function _(e,t){var i,s,n;if(t.singleton){var o=p++;i=f||(f=c(t)),s=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else i=c(t),s=m.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=l(i[s]);r[n].references--}for(var o=a(e,t),c=0;c<i.length;c++){var h=l(i[c]);0===r[h].references&&(r[h].updater(),r.splice(h,1))}i=o}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e){this.sliderLine="slider-body",this.selector=e}init(){return this.container=document.querySelector(this.selector),this.container.style.padding="50px 20px 20px",this.bodySlider=document.createElement("DIV"),this.bodySlider.classList.add(this.sliderLine),this.container.append(this.bodySlider),this.sliderLine}destroy(){this.bodySlider.remove()}}class n{constructor(e,t){this._selector=e,this._values=t}init(){this.container=document.querySelector(this._selector),this.thumbSlider=document.createElement("DIV"),this.thumbSlider.classList.add("slider-thumb"),this.thumbSlider.style.left=this._values[0]+"px",this.container.append(this.thumbSlider)}destroy(){this.thumbSlider.remove()}}class o{constructor(e){this._selector=e}init(){this.container=document.querySelector(this._selector),this.tipValue=document.createElement("DIV"),this.tipValue.classList.add("tip-value"),this.container.append(this.tipValue)}destroy(){this.tipValue.remove()}}class r{constructor(e,t,i,s){this._parentId=e,this._min=t,this._max=i,this._step=s,this.scale=document.createElement("DIV"),this.scale.classList.add("scale"),this.min=document.createElement("SPAN"),this.min.textContent=""+this._min,this.min.style.position="absolute",this.max=document.createElement("SPAN"),this.max.textContent=""+this._max,this.max.style.position="absolute"}init(){this.container=document.getElementById(this._parentId),this.container.append(this.scale),this.scale.append(this.min),this.scale.append(this.max),this.min.style.left=this.scale.offsetLeft-this.min.offsetWidth/2+"px",this.max.style.left=this.scale.offsetWidth+this.scale.offsetLeft-this.max.offsetWidth/2+"px",this.mark=(this._max-this._min)/this._step;for(let e=1;e<this.mark;e++)this.elem=document.createElement("SPAN"),this.elem.textContent=""+(this._step*e+this._min),this.elem.style.position="absolute",this.max.insertAdjacentElement("beforebegin",this.elem),(Number(this.elem.textContent)<100||Number(this.elem.textContent)<1e3)&&(this.elem.style.left=(Number(this.elem.textContent)-this._min)*this.scale.offsetWidth/(this._max-this._min)+this.scale.offsetLeft-this.elem.offsetWidth/2+"px")}destroy(){this.scale.remove()}}class l{constructor(e,t){this._selector=e,this._options=t}positionElement(e,t,i){return console.log(e),console.log(t),console.log(i),console.log(this._minValue),console.log(this._maxValue),console.log(e.offsetLeft),console.log(t.offsetWidth),console.log(e.offsetWidth),(i-this._minValue)*e.offsetWidth/(this._maxValue-this._minValue)+e.offsetLeft-t.offsetWidth/2+"px"}showSlider(){const e=new s(this._selector);this.sliderLineClass=e.init();new n(`${this._selector} > .${this.sliderLineClass}`,this._options.values).init();new o(`${this._selector} > .${this.sliderLineClass}`).init()}showScale(e,t,i){this._minValue=e,this._maxValue=t,this._stepValue=i;new r(this._selector,this._minValue,this._maxValue,this._stepValue).init()}}class a{constructor(e,t){this._selector=e,t||(t={}),this._min=t.min?t.min:0,this._max=t.max?t.max:300,this._step=t.step?t.step:57,this._kind=t.kind?t.kind:"horizontal",this._isBasic=!t.isBasic||t.isBasic,this._values=t.values?t.values:[38]}sliderStart(){this._options={min:this._min,max:this._max,step:this._step,kind:this._kind,isBasic:this._isBasic,values:this._values},console.log(this._options);new l(this._selector,this._options).showSlider()}}new a(".slider1").sliderStart();new a(".slider2",{min:40,step:60,max:245}).sliderStart();new a(".slider3",{values:[256]}).sliderStart()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyQm9keS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zbGlkZXJUaHVtYi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy90aXBWYWx1ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zY2FsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy92aWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIlNsaWRlckJvZHkiLCJwYXJlbnRTZWxlY3RvciIsInNsaWRlckxpbmUiLCJ0aGlzIiwic2VsZWN0b3IiLCJjb250YWluZXIiLCJwYWRkaW5nIiwiYm9keVNsaWRlciIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZCIsIlNsaWRlclRodW1iIiwidmFsdWVzIiwiX3NlbGVjdG9yIiwiX3ZhbHVlcyIsInRodW1iU2xpZGVyIiwibGVmdCIsIlRpcFZhbHVlIiwidGlwVmFsdWUiLCJTY2FsZSIsInBhcmVudElkIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsInN0ZXBWYWx1ZSIsIl9wYXJlbnRJZCIsIl9taW4iLCJfbWF4IiwiX3N0ZXAiLCJzY2FsZSIsIm1pbiIsInRleHRDb250ZW50IiwicG9zaXRpb24iLCJtYXgiLCJnZXRFbGVtZW50QnlJZCIsIm9mZnNldExlZnQiLCJvZmZzZXRXaWR0aCIsIm1hcmsiLCJlbGVtIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiTnVtYmVyIiwiX29wdGlvbnMiLCJwYXJlbnQiLCJ2YWwiLCJjb25zb2xlIiwibG9nIiwiX21pblZhbHVlIiwiX21heFZhbHVlIiwic2xpZGVyQm9keSIsInNsaWRlckxpbmVDbGFzcyIsImluaXQiLCJzdGVwIiwiX3N0ZXBWYWx1ZSIsIl9raW5kIiwia2luZCIsIl9pc0Jhc2ljIiwiaXNCYXNpYyIsInNob3dTbGlkZXIiLCJzbGlkZXJTdGFydCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hC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LEVBQ2pCN0IsS0FBS2dELFdBQWFELEVBRUcsSUFBSS9CLEVBQU1oQixLQUFLVSxVQUFXVixLQUFLMEMsVUFBVzFDLEtBQUsyQyxVQUFXM0MsS0FBS2dELFlBQzlFRixRQ3BESyxNQUFNLEVBV25CLFlBQVk3QyxFQUFrQjNGLEdBQzVCMEYsS0FBS1UsVUFBWVQsRUFDWjNGLElBQVNBLEVBQVUsSUFDeEIwRixLQUFLc0IsS0FBT2hILEVBQVFvSCxJQUFNcEgsRUFBUW9ILElBQU0sRUFDeEMxQixLQUFLdUIsS0FBT2pILEVBQVF1SCxJQUFNdkgsRUFBUXVILElBQU0sSUFDeEM3QixLQUFLd0IsTUFBUWxILEVBQVF5SSxLQUFPekksRUFBUXlJLEtBQU8sR0FDM0MvQyxLQUFLaUQsTUFBUTNJLEVBQVE0SSxLQUFPNUksRUFBUTRJLEtBQU8sYUFDM0NsRCxLQUFLbUQsVUFBVzdJLEVBQVE4SSxTQUFVOUksRUFBUThJLFFBQzFDcEQsS0FBS1csUUFBVXJHLEVBQVFtRyxPQUFTbkcsRUFBUW1HLE9BQVMsQ0FBQyxJQUdwRCxjQUNFVCxLQUFLcUMsU0FBVyxDQUNkWCxJQUFLMUIsS0FBS3NCLEtBQ1ZPLElBQUs3QixLQUFLdUIsS0FDVndCLEtBQU0vQyxLQUFLd0IsTUFDWDBCLEtBQU1sRCxLQUFLaUQsTUFDWEcsUUFBU3BELEtBQUttRCxTQUNkMUMsT0FBUVQsS0FBS1csU0FFZjZCLFFBQVFDLElBQUl6QyxLQUFLcUMsVUFLRSxJQUFJLEVBQUtyQyxLQUFLVSxVQUFXVixLQUFLcUMsVUFDNUNnQixjQ3JDZSxJQUFJLEVBQU8sWUFDM0JDLGNBRWdCLElBQUksRUFBTyxXQUFZLENBQUM1QixJQUFLLEdBQUlxQixLQUFNLEdBQUlsQixJQUFLLE1BQ2hFeUIsY0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBQzdDLE9BQVEsQ0FBQyxPQUNqRDZDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0XCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlckJvZHkge1xyXG4gIHNlbGVjdG9yOiBzdHJpbmdcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gIGJvZHlTbGlkZXI6IEhUTUxFbGVtZW50O1xyXG4gIHNsaWRlckxpbmUgPSAnc2xpZGVyLWJvZHknO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJlbnRTZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnNlbGVjdG9yID0gcGFyZW50U2VsZWN0b3I7XHJcbiAgfTtcclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUucGFkZGluZyA9ICc1MHB4IDIwcHggMjBweCc7XHJcbiAgICB0aGlzLmJvZHlTbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgIHRoaXMuYm9keVNsaWRlci5jbGFzc0xpc3QuYWRkKHRoaXMuc2xpZGVyTGluZSk7XHJcbiAgICAvLyB0aGlzLmJvZHlTbGlkZXIuc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuc2xpZGVyTGluZSk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5ib2R5U2xpZGVyKTtcclxuICAgIHJldHVybiB0aGlzLnNsaWRlckxpbmU7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5ib2R5U2xpZGVyLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJUaHVtYiB7XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgX3ZhbHVlczogbnVtYmVyW107XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICB0aHVtYlNsaWRlcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yOiBzdHJpbmcsIHZhbHVlczogbnVtYmVyW10pIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl92YWx1ZXMgPSB2YWx1ZXM7XHJcbiAgfTtcclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XHJcbiAgICB0aGlzLnRodW1iU2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnRodW1iU2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci10aHVtYicpO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fdmFsdWVzWzBdKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3NlbGVjdG9yKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29udGFpbmVyKTtcclxuICAgIC8vIHRoaXMudGh1bWJTbGlkZXIuc3R5bGUubGVmdCA9IG1vZGVsLnBvc2l0aW9uRWxlbWVudCh0aGlzLmNvbnRhaW5lciwgdGhpcy50aHVtYlNsaWRlciwgdGhpcy5fdmFsdWVzWzBdKTtcclxuICAgIHRoaXMudGh1bWJTbGlkZXIuc3R5bGUubGVmdCA9IGAke3RoaXMuX3ZhbHVlc1swXX1weGA7XHJcbiAgICAvLyB0aGlzLnRodW1iU2xpZGVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnc2xpZGVyLXRodW1iJyk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy50aHVtYlNsaWRlcik7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy50aHVtYlNsaWRlci5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlwVmFsdWUge1xyXG4gIHByaXZhdGUgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICB0aXBWYWx1ZTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgfTtcclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XHJcbiAgICB0aGlzLnRpcFZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnRpcFZhbHVlLmNsYXNzTGlzdC5hZGQoJ3RpcC12YWx1ZScpO1xyXG4gICAgLy8gdGhpcy50aXBWYWx1ZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RpcC12YWx1ZScpO1xyXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHRoaXMudGlwVmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMudGlwVmFsdWUucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWxlIHtcclxuICBwcml2YXRlIF9wYXJlbnRJZDogc3RyaW5nO1xyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgLy8gY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlLXNsaWRlcicpO1xyXG4gIF9taW46IG51bWJlcjtcclxuICBfbWF4OiBudW1iZXI7XHJcbiAgX3N0ZXA6IG51bWJlcjtcclxuICBtYXJrOiBudW1iZXI7XHJcblxyXG4gIC8vIG1heFZhbHVlID0gMzAwO1xyXG4gIC8vIHN0ZXAgPSA1MDtcclxuICAvLyBtYXJrID0gKHRoaXMuX21heCAtIHRoaXMuX21pbikgLyB0aGlzLl9zdGVwO1xyXG4gIHNjYWxlOiBIVE1MRWxlbWVudDtcclxuICBtaW46IEhUTUxFbGVtZW50O1xyXG4gIG1heDogSFRNTEVsZW1lbnQ7XHJcbiAgZWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudElkOiBzdHJpbmcsIG1pblZhbHVlOiBudW1iZXIsIG1heFZhbHVlOiBudW1iZXIsIHN0ZXBWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9wYXJlbnRJZCA9IHBhcmVudElkO1xyXG4gICAgdGhpcy5fbWluID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLl9tYXggPSBtYXhWYWx1ZTtcclxuICAgIHRoaXMuX3N0ZXAgPSBzdGVwVmFsdWU7XHJcbiAgICB0aGlzLnNjYWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnNjYWxlLmNsYXNzTGlzdC5hZGQoJ3NjYWxlJyk7XHJcbiAgICB0aGlzLm1pbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgIHRoaXMubWluLnRleHRDb250ZW50ID0gYCR7dGhpcy5fbWlufWA7XHJcbiAgICB0aGlzLm1pbi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAvLyB0aGlzLm1pbi5zdHlsZS5sZWZ0ID0gJzI0cHgnO1xyXG4gICAgdGhpcy5tYXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XHJcbiAgICB0aGlzLm1heC50ZXh0Q29udGVudCA9IGAke3RoaXMuX21heH1gO1xyXG4gICAgdGhpcy5tYXguc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgLy8gdGhpcy5tYXguc3R5bGUubGVmdCA9ICczMTZweCc7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLl9wYXJlbnRJZCk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5zY2FsZSk7XHJcbiAgICB0aGlzLnNjYWxlLmFwcGVuZCh0aGlzLm1pbik7XHJcbiAgICB0aGlzLnNjYWxlLmFwcGVuZCh0aGlzLm1heCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1pbi5vZmZzZXRXaWR0aCk7XHJcbiAgICAvLyB0aGlzLm1pbi5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5zY2FsZS5vZmZzZXRMZWZ0IC0gdGhpcy5taW4ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIHRoaXMubWluLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnNjYWxlLm9mZnNldExlZnQgLSB0aGlzLm1pbi5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gICAgLy8gdGhpcy5tYXguc3R5bGUubGVmdCA9IGAke3RoaXMuc2NhbGUub2Zmc2V0V2lkdGggKyAxNn1weGA7XHJcbiAgICB0aGlzLm1heC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5zY2FsZS5vZmZzZXRXaWR0aCArIHRoaXMuc2NhbGUub2Zmc2V0TGVmdCAtIHRoaXMubWF4Lm9mZnNldFdpZHRoIC8gMn1weGA7XHJcbiAgICB0aGlzLm1hcmsgPSAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSAvIHRoaXMuX3N0ZXA7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNjYWxlLm9mZnNldExlZnQpO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5zY2FsZS5vZmZzZXRXaWR0aCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hcmspO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLm1hcms7IGkrKykge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnbG9vcCBmb3InKTtcclxuICAgICAgdGhpcy5lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xyXG4gICAgICB0aGlzLmVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9zdGVwICogaSArIHRoaXMuX21pbn1gO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmVsZW0udGV4dENvbnRlbnQpO1xyXG4gICAgICB0aGlzLmVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICB0aGlzLm1heC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgdGhpcy5lbGVtKTtcclxuICAgICAgaWYgKE51bWJlcih0aGlzLmVsZW0udGV4dENvbnRlbnQpIDwgMTAwKSB7XHJcbiAgICAgICAgLy8gdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBgJHtOdW1iZXIodGhpcy5lbGVtLnRleHRDb250ZW50KSAqIHRoaXMuc2NhbGUub2Zmc2V0V2lkdGggLyB0aGlzLl9tYXggKyAyMH1weGA7XHJcbiAgICAgICAgdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBgJHsoKE51bWJlcih0aGlzLmVsZW0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKSAqIHRoaXMuc2NhbGUub2Zmc2V0V2lkdGggLyAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkgKyB0aGlzLnNjYWxlLm9mZnNldExlZnQgLSB0aGlzLmVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgICAgfSBlbHNlIGlmIChOdW1iZXIodGhpcy5lbGVtLnRleHRDb250ZW50KSA8IDEwMDApIHtcclxuICAgICAgICAvLyB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IGAke051bWJlcih0aGlzLmVsZW0udGV4dENvbnRlbnQpICogdGhpcy5zY2FsZS5vZmZzZXRXaWR0aCAvIHRoaXMuX21heCArIDE2fXB4YDtcclxuICAgICAgICB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IGAkeygoTnVtYmVyKHRoaXMuZWxlbS50ZXh0Q29udGVudCkgLSB0aGlzLl9taW4pICogdGhpcy5zY2FsZS5vZmZzZXRXaWR0aCAvICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSArIHRoaXMuc2NhbGUub2Zmc2V0TGVmdCAtIHRoaXMuZWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHRoaXMubWF4Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB0aGlzLmVsZW0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuc2NhbGUucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBTbGlkZXJCb2R5IGZyb20gJy4vc2xpZGVyQm9keSc7XHJcbmltcG9ydCBTbGlkZXJUaHVtYiBmcm9tICcuL3NsaWRlclRodW1iJztcclxuaW1wb3J0IFRpcFZhbHVlIGZyb20gJy4vdGlwVmFsdWUnO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSAnLi9zY2FsZSc7XHJcblxyXG50eXBlIG9wdGlvbnNUeXBlID0ge1xyXG4gIG1pbj86IG51bWJlcixcclxuICBtYXg/OiBudW1iZXIsXHJcbiAgc3RlcD86IG51bWJlcixcclxuICBraW5kPzogc3RyaW5nLFxyXG4gIGlzQmFzaWM/OiBib29sZWFuLFxyXG4gIHZhbHVlcz86IG51bWJlcltdXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcclxuICBfc2VsZWN0b3I6IHN0cmluZztcclxuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XHJcbiAgc2xpZGVyTGluZUNsYXNzOiBzdHJpbmc7XHJcbiAgLy8gc2xpZGVyTGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIF9taW5WYWx1ZTogbnVtYmVyO1xyXG4gIF9tYXhWYWx1ZTogbnVtYmVyO1xyXG4gIF9zdGVwVmFsdWU6IG51bWJlcjtcclxuICBfdmFsdWVzOiBudW1iZXJbXTtcclxuXHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3I6IHN0cmluZywgb3B0aW9uczogb3B0aW9uc1R5cGUpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgIC8vIHRoaXMuX21pblZhbHVlID1cclxuICB9O1xyXG5cclxuICBwb3NpdGlvbkVsZW1lbnQocGFyZW50OiBIVE1MRWxlbWVudCwgZWxlbTogSFRNTEVsZW1lbnQsIHZhbDogbnVtYmVyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhwYXJlbnQpO1xyXG4gICAgY29uc29sZS5sb2coZWxlbSk7XHJcbiAgICBjb25zb2xlLmxvZyh2YWwpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fbWluVmFsdWUpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fbWF4VmFsdWUpO1xyXG4gICAgY29uc29sZS5sb2cocGFyZW50Lm9mZnNldExlZnQpO1xyXG4gICAgY29uc29sZS5sb2coZWxlbS5vZmZzZXRXaWR0aCk7XHJcbiAgICBjb25zb2xlLmxvZyhwYXJlbnQub2Zmc2V0V2lkdGgpO1xyXG4gICAgcmV0dXJuIGAkeygodmFsIC0gdGhpcy5fbWluVmFsdWUpICogcGFyZW50Lm9mZnNldFdpZHRoIC8gKHRoaXMuX21heFZhbHVlIC0gdGhpcy5fbWluVmFsdWUpKSArIHBhcmVudC5vZmZzZXRMZWZ0IC0gZWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gIH1cclxuXHJcbiAgc2hvd1NsaWRlcigpIHtcclxuICAgIGNvbnN0IHNsaWRlckJvZHk6IFNsaWRlckJvZHkgPSBuZXcgU2xpZGVyQm9keSh0aGlzLl9zZWxlY3Rvcik7XHJcbiAgICB0aGlzLnNsaWRlckxpbmVDbGFzcyA9IHNsaWRlckJvZHkuaW5pdCgpO1xyXG4gICAgLy8gdGhpcy5zbGlkZXJMaW5lRWxlbSA9IHNsaWRlckJvZHkuaW5pdCgpLmVsZW1TbGlkZXJMaW5lO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fdmFsdWVzKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX29wdGlvbnMudmFsdWVzKTtcclxuICAgIC8vIGNvbnN0IHNsaWRlclRodW1iOiBTbGlkZXJUaHVtYiA9IG5ldyBTbGlkZXJUaHVtYihgJHt0aGlzLl9zZWxlY3Rvcn0gPiAjJHt0aGlzLnNsaWRlckxpbmVJZH1gLCB0aGlzLl92YWx1ZXMpO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5zbGlkZXJMaW5lRWxlbSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgJHt0aGlzLl9zZWxlY3Rvcn0gPiAuJHt0aGlzLnNsaWRlckxpbmVDbGFzc31gKTtcclxuICAgIGNvbnN0IHNsaWRlclRodW1iOiBTbGlkZXJUaHVtYiA9IG5ldyBTbGlkZXJUaHVtYihgJHt0aGlzLl9zZWxlY3Rvcn0gPiAuJHt0aGlzLnNsaWRlckxpbmVDbGFzc31gLCB0aGlzLl9vcHRpb25zLnZhbHVlcyk7XHJcbiAgICBzbGlkZXJUaHVtYi5pbml0KCk7XHJcbiAgICBjb25zdCB0aXBWYWx1ZTogVGlwVmFsdWUgPSBuZXcgVGlwVmFsdWUoYCR7dGhpcy5fc2VsZWN0b3J9ID4gLiR7dGhpcy5zbGlkZXJMaW5lQ2xhc3N9YCk7XHJcbiAgICB0aXBWYWx1ZS5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBzaG93U2NhbGUobWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzdGVwOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX21pblZhbHVlID0gbWluO1xyXG4gICAgdGhpcy5fbWF4VmFsdWUgPSBtYXg7XHJcbiAgICB0aGlzLl9zdGVwVmFsdWUgPSBzdGVwO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fcGFyZW50SWQpO1xyXG4gICAgY29uc3Qgc2NhbGU6IFNjYWxlID0gbmV3IFNjYWxlKHRoaXMuX3NlbGVjdG9yLCB0aGlzLl9taW5WYWx1ZSwgdGhpcy5fbWF4VmFsdWUsIHRoaXMuX3N0ZXBWYWx1ZSk7XHJcbiAgICBzY2FsZS5pbml0KCk7XHJcbiAgfVxyXG5cclxuICAvLyBzbGlkZXJMZW5ndGg6IG51bWJlcjtcclxuICAvLyBpbml0KCkge1xyXG4gIC8vICAgY29uc3Qgc2xpZGVyQm9keTogU2xpZGVyQm9keSA9IG5ldyBTbGlkZXJCb2R5KCk7XHJcbiAgLy8gICBzbGlkZXJCb2R5LmluaXQoKTtcclxuICAvLyB9XHJcblxyXG4gIC8vIGdldFdpZHRoU2xpZGVyKCkge1xyXG4gIC8vICAgY29uc3Qgc2xpZGVyQm9keTogU2xpZGVyQm9keSA9IG5ldyBTbGlkZXJCb2R5KCk7XHJcbiAgLy8gICB0aGlzLnNsaWRlckxlbmd0aCA9IHNsaWRlckJvZHkuZ2V0V2lkdGgoKTtcclxuICAvLyAgIHJldHVybiB0aGlzLnNsaWRlckxlbmd0aDtcclxuICAvLyB9XHJcbn1cclxuIiwiaW1wb3J0IFZpZXcgZnJvbSAnLi92aWV3JztcclxuXHJcbnR5cGUgb3B0aW9uc1R5cGUgPSB7XHJcbiAgbWluPzogbnVtYmVyLFxyXG4gIG1heD86IG51bWJlcixcclxuICBzdGVwPzogbnVtYmVyLFxyXG4gIGtpbmQ/OiBzdHJpbmcsXHJcbiAgaXNCYXNpYz86IGJvb2xlYW4sXHJcbiAgdmFsdWVzPzogbnVtYmVyW11cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xyXG5cclxuICBfbWluOiBudW1iZXI7XHJcbiAgX21heDogbnVtYmVyO1xyXG4gIF9zdGVwOiBudW1iZXI7XHJcbiAgX2tpbmQ6IHN0cmluZztcclxuICBfaXNCYXNpYzogYm9vbGVhbjtcclxuICBfdmFsdWVzOiBudW1iZXJbXTtcclxuXHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3I6IHN0cmluZywgb3B0aW9ucz86IG9wdGlvbnNUeXBlKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cclxuICAgIHRoaXMuX21pbiA9IG9wdGlvbnMubWluID8gb3B0aW9ucy5taW4gOiAwO1xyXG4gICAgdGhpcy5fbWF4ID0gb3B0aW9ucy5tYXggPyBvcHRpb25zLm1heCA6IDMwMDtcclxuICAgIHRoaXMuX3N0ZXAgPSBvcHRpb25zLnN0ZXAgPyBvcHRpb25zLnN0ZXAgOiA1NztcclxuICAgIHRoaXMuX2tpbmQgPSBvcHRpb25zLmtpbmQgPyBvcHRpb25zLmtpbmQgOiAnaG9yaXpvbnRhbCc7XHJcbiAgICB0aGlzLl9pc0Jhc2ljID0gb3B0aW9ucy5pc0Jhc2ljID8gb3B0aW9ucy5pc0Jhc2ljIDogdHJ1ZTtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzID8gb3B0aW9ucy52YWx1ZXMgOiBbMzhdO1xyXG4gIH1cclxuXHJcbiAgc2xpZGVyU3RhcnQoKSB7XHJcbiAgICB0aGlzLl9vcHRpb25zID0ge1xyXG4gICAgICBtaW46IHRoaXMuX21pbixcclxuICAgICAgbWF4OiB0aGlzLl9tYXgsXHJcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXHJcbiAgICAgIGtpbmQ6IHRoaXMuX2tpbmQsXHJcbiAgICAgIGlzQmFzaWM6IHRoaXMuX2lzQmFzaWMsXHJcbiAgICAgIHZhbHVlczogdGhpcy5fdmFsdWVzXHJcbiAgICB9O1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fb3B0aW9ucyk7XHJcbiAgICAvLyBpZiAodGhpcy5faXNCYXNpYykge1xyXG5cclxuICAgIC8vIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3NlbGVjdG9yKTtcclxuICAgIGNvbnN0IHZpZXc6IFZpZXcgPSBuZXcgVmlldyh0aGlzLl9zZWxlY3RvciwgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICB2aWV3LnNob3dTbGlkZXIoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vbW9kdWxlcy9zbGlkZXInO1xyXG5cclxuaW1wb3J0IHNsaWRlclJ1biBmcm9tICcuL21vZHVsZXMvc2xpZGVyUnVuJztcclxuLy8gaW1wb3J0IFNjYWxlIGZyb20gJy4vbW9kdWxlcy9zY2FsZSc7XHJcbi8vIGltcG9ydCB7IENvbmNyZXRlU3ViamVjdCB9IGZyb20gJy4vbW9kdWxlcy9hcHAnO1xyXG4vLyBpbXBvcnQgVmlldyBmcm9tICcuL21vZHVsZXMvdmlldyc7XHJcbmltcG9ydCBNb2RlbCBmcm9tICcuL21vZHVsZXMvbW9kZWwnO1xyXG4vLyBpbXBvcnQgeyBDb25jcmV0ZU9ic2VydmVyQSwgQ29uY3JldGVPYnNlcnZlckIsIFByZXNlbnRlciB9IGZyb20gJy4vbW9kdWxlcy9wcmVzZW50ZXInO1xyXG5pbXBvcnQgeyBQcmVzZW50ZXIgfSBmcm9tICcuL21vZHVsZXMvcHJlc2VudGVyJztcclxuXHJcbmNvbnN0IHNsaWRlcjE6IFNsaWRlciA9IG5ldyBTbGlkZXIoJy5zbGlkZXIxJyk7XHJcbnNsaWRlcjEuc2xpZGVyU3RhcnQoKTtcclxuXHJcbmNvbnN0IHNsaWRlcjI6IFNsaWRlciA9IG5ldyBTbGlkZXIoJy5zbGlkZXIyJywge21pbjogNDAsIHN0ZXA6IDYwLCBtYXg6IDI0NX0pO1xyXG5zbGlkZXIyLnNsaWRlclN0YXJ0KCk7XHJcblxyXG5jb25zdCBzbGlkZXIzOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcuc2xpZGVyMycsIHt2YWx1ZXM6IFsyNTZdfSk7XHJcbnNsaWRlcjMuc2xpZGVyU3RhcnQoKTtcclxuXHJcbi8vIGNvbnN0IHZpZXc6IFZpZXcgPSBuZXcgVmlldygncmFuZ2Utc2xpZGVyJyk7XHJcbi8vIHZpZXcuc2hvd1NsaWRlcigpO1xyXG5cclxuXHJcbi8vIGNvbnN0IHNsaWRlcjI6IFZpZXcgPSBuZXcgVmlldygpO1xyXG4vLyBzbGlkZXIyLmhpZGUoKTtcclxuLy8gY29uc3Qgc2xpZGVyMzogVmlldyA9IG5ldyBWaWV3KCcnKTtcclxuLy8gc2xpZGVyMy5oaWRlKCk7XHJcblxyXG4vLyBjb25zdCBtb2RlbCA9IG5ldyBNb2RlbCh7XHJcbi8vICAgbWluOiA0MCxcclxuLy8gICBzdGVwOiA2MCxcclxuLy8gICBtYXg6IDI2MFxyXG4vLyB9KTtcclxuXHJcbi8vIGNvbnN0IHByZXNlbnRlciA9IG5ldyBQcmVzZW50ZXIoKTtcclxuLy8gbW9kZWwuYXR0YWNoKHByZXNlbnRlcik7XHJcblxyXG4vLyBwcmVzZW50ZXIubW9kZWxPcHRpb25zID0gbW9kZWwuY2FsY1VuaXQoKTtcclxuLy8gcHJlc2VudGVyLnRyYW5zZmVyTW9kZWxEYXRhKG1vZGVsLCB2aWV3KTtcclxuLy8gbW9kZWwuY2FsY1VuaXQoKTtcclxuXHJcbi8vIHZpZXcuc2hvd1NsaWRlcigpO1xyXG5cclxuLy8gY29uc3Qgc2NhbGU6IFNjYWxlID0gbmV3IFNjYWxlKCk7XHJcbi8vIHNjYWxlLmluaXQoKTtcclxuXHJcbi8vIHNsaWRlclJ1bigpO1xyXG5cclxuLy8gY29uc3QgdmlldzI6IFZpZXcgPSBuZXcgVmlldygnc2xpZGVyMicpO1xyXG4vLyB2aWV3Mi5zaG93U2xpZGVyKCk7XHJcblxyXG4vKipcclxuKiDQmtC70LjQtdC90YLRgdC60LjQuSDQutC+0LQuXHJcbiovXHJcblxyXG4vLyBjb25zdCBzdWJqZWN0ID0gbmV3IENvbmNyZXRlU3ViamVjdCgpO1xyXG5cclxuLy8gY29uc3Qgb2JzZXJ2ZXIxID0gbmV3IENvbmNyZXRlT2JzZXJ2ZXJBKCk7XHJcbi8vIHN1YmplY3QuYXR0YWNoKG9ic2VydmVyMSk7XHJcblxyXG4vLyBjb25zdCBvYnNlcnZlcjIgPSBuZXcgQ29uY3JldGVPYnNlcnZlckIoKTtcclxuLy8gc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIyKTtcclxuXHJcbi8vIHN1YmplY3Quc29tZUJ1c2luZXNzTG9naWMoKTtcclxuLy8gc3ViamVjdC5zb21lQnVzaW5lc3NMb2dpYygpO1xyXG5cclxuLy8gc3ViamVjdC5kZXRhY2gob2JzZXJ2ZXIyKTtcclxuXHJcbi8vIHN1YmplY3Quc29tZUJ1c2luZXNzTG9naWMoKTtcclxuXHJcbi8vIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcclxuXHJcbi8vIGNvbnN0IHRvbTogVXNlciA9IG5ldyBVc2VyKCfQotC+0LwnLCAyOSk7XHJcbi8vIGVsLmlubmVySFRNTCA9IGDQmNC80Y86ICR7dG9tLm5hbWV9INCy0L7Qt9GA0LDRgdGCOiAke3RvbS5hZ2V9YDtcclxuXHJcbi8qIGNvbnN0IE1WUCA9IHtcclxuICBtYWtlT2JzZXJ2YWJsZVN1YmplY3QoKSB7XHJcbiAgICBjb25zdCBvYnNlcnZlcnMgPSBbXTtcclxuICAgIGNvbnN0IGFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG8pIHtcclxuICAgICAgaWYgKHR5cGVvZiBvICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgICAgfVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgIGlmIChvYnNlcnZlciA9PT0gbykge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvYnNlcnZlciBhbHJlYWR5IGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG9ic2VydmVycy5wdXNoKG8pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG8pIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcclxuICAgICAgICBpZiAob2JzZXJ2ZXIgPT09IG8pIHtcclxuICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IGZpbmQgb2JzZXJ2ZXIgaW4gbGlzdCBvZiBvYnNlcnZlcnMnKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAvLyBNYWtlIGEgY29weSBvZiBvYnNlcnZlciBsaXN0IGluIGNhc2UgdGhlIGxpc3RcclxuICAgICAgLy8gaXMgbXV0YXRlZCBkdXJpbmcgdGhlIG5vdGlmaWNhdGlvbnMuXHJcbiAgICAgIGNvbnN0IG9ic2VydmVyc1NuYXBzaG90ID0gb2JzZXJ2ZXJzLnNsaWNlKDApO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVyc1NuYXBzaG90Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXJzU25hcHNob3RbaV0oZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRPYnNlcnZlcixcclxuICAgICAgcmVtb3ZlT2JzZXJ2ZXIsXHJcbiAgICAgIG5vdGlmeU9ic2VydmVycyxcclxuICAgICAgbm90aWZ5OiBub3RpZnlPYnNlcnZlcnMsXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIE1vZGVsKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgLy8gY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICAvLyBjb25zdCBpdGVtcyA9IFtdO1xyXG4gICAgdGhpcy5vcHRpb25zID0gIW9wdGlvbnMgPyB7fSA6IG9wdGlvbnM7XHJcbiAgICB0aGlzLm1vZGVsQ2hhbmdlZFN1YmplY3QgPSBNVlAubWFrZU9ic2VydmFibGVTdWJqZWN0KCk7XHJcbiAgICB0aGlzLm1pblZhbHVlID0gMDtcclxuICAgIHRoaXMubWF4VmFsdWUgPSAzMDA7XHJcbiAgICB0aGlzLnN0ZXAgPSA1MDtcclxuICAgIHRoaXMubW9kZSA9ICdob3Jpem9udGFsJztcclxuICAgIHRoaXMudHlwZSA9ICdzaW5nbGUnO1xyXG4gICAgLy8gdGhpcy5hZGRJdGVtID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAvLyAgIGlmICghdmFsdWUpIHtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgaXRlbXMucHVzaCh2YWx1ZSk7XHJcbiAgICAvLyAgIHRoYXQubW9kZWxDaGFuZ2VkU3ViamVjdC5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLnJlbW92ZUN1cnJlbnRJdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICBpdGVtcy5zcGxpY2UodGhhdC5zZWxlY3RlZEluZGV4LCAxKTtcclxuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHRoaXMuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIHJldHVybiBpdGVtcztcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIC8vIHRoaXMuZ2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgcmV0dXJuIHRoYXQuc2VsZWN0ZWRJbmRleDtcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIC8vICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gdmFsdWU7XHJcbiAgICAvLyAgIHRoYXQubW9kZWxDaGFuZ2VkU3ViamVjdC5ub3RpZnlPYnNlcnZlcnMoKTtcclxuICAgIC8vIH07XHJcbiAgfSxcclxuXHJcbiAgVmlldygpIHtcclxuICAgIC8vIGNvbnN0IHRoYXQgPSB0aGlzO1xyXG4gICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCBzbGlkZXJCb2R5OiBTbGlkZXJCb2R5ID0gbmV3IFNsaWRlckJvZHkoKTtcclxuICAgICAgc2xpZGVyQm9keS5pbml0KCk7XHJcblxyXG4gICAgICBjb25zdCBzbGlkZXJUaHVtYjogU2xpZGVyVGh1bWIgPSBuZXcgU2xpZGVyVGh1bWIoKTtcclxuICAgICAgc2xpZGVyVGh1bWIuaW5pdCgpO1xyXG5cclxuICAgICAgY29uc3QgdGlwVmFsdWU6IFRpcFZhbHVlID0gbmV3IFRpcFZhbHVlKCk7XHJcbiAgICAgIHRpcFZhbHVlLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gdGhhdC5zZWxlY3QgPSAkKCc8c2VsZWN0Lz4nKS5hcHBlbmRUbyhyb290T2JqZWN0KTtcclxuICAgIC8vIHRoYXQuc2VsZWN0LmF0dHIoJ3NpemUnLCAnNCcpO1xyXG4gICAgLy8gdGhhdC5idXR0b25BZGQgPSAkKCc8YnV0dG9uPis8L2J1dHRvbj4nKS5hcHBlbmRUbyhyb290T2JqZWN0KS5oZWlnaHQoMjApO1xyXG4gICAgLy8gdGhhdC5idXR0b25SZW1vdmUgPSAkKCc8YnV0dG9uPi08L2J1dHRvbj4nKS5hcHBlbmRUbyhyb290T2JqZWN0KS5oZWlnaHQoMjApO1xyXG4gICAgLy8gbW9kZWwubW9kZWxDaGFuZ2VkU3ViamVjdC5hZGRPYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIHZhciBpdGVtcyA9IG1vZGVsLmdldEl0ZW1zKCk7XHJcbiAgICAvLyAgIHZhciBpbm5lckhUTUwgPSAnJztcclxuICAgIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgLy8gICAgIGlubmVySFRNTCArPSBcIjxvcHRpb24+XCIgKyBpdGVtc1tpXSArIFwiPC9vcHRpb24+XCI7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgdGhhdC5zZWxlY3QuaHRtbChpbm5lckhUTUwpO1xyXG4gICAgLy8gfSk7XHJcbiAgfSxcclxuXHJcbiAgQ29udHJvbGxlcihtb2RlbCwgdmlldykge1xyXG4gICAgdmlldy5pbml0KCk7XHJcbiAgICAvLyB2aWV3LmJ1dHRvbkFkZC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgbW9kZWwuYWRkSXRlbShwcm9tcHQoJ2FkZHZhbHVlJykpO1xyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB2aWV3LmJ1dHRvblJlbW92ZS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgbW9kZWwucmVtb3ZlQ3VycmVudEl0ZW0oKTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gdmlldy5zZWxlY3QuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIG1vZGVsLnNldFNlbGVjdGVkSW5kZXgodmlldy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCk7XHJcbiAgICAvLyB9KTtcclxuICB9LFxyXG59OyAqL1xyXG5cclxuLyogJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gIHZhciBtb2RlbCA9IG5ldyBPTVZDLk1vZGVsKCk7XHJcbiAgdmFyIHZpZXcgPSBuZXcgT01WQy5WaWV3KG1vZGVsLCAkKCc8ZGl2Lz4nKS5hcHBlbmRUbygkKFwiYm9keVwiKSkpO1xyXG4gIHZhciBjb250cm9sbGVyID0gbmV3IE9NVkMuQ29udHJvbGxlcihtb2RlbCwgdmlldyk7XHJcbn0pOyAqL1xyXG5cclxuLy8gY29uc3QgbW9kZWwgPSBuZXcgTVZQLk1vZGVsKCk7XHJcbi8vIGNvbnN0IHZpZXcgPSBuZXcgTVZQLlZpZXcoKTtcclxuLy8gY29uc3QgY29udHJvbGxlciA9IG5ldyBNVlAuQ29udHJvbGxlcihtb2RlbCwgdmlldyk7XHJcblxyXG4vLyBjb250cm9sbGVyKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=