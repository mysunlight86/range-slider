!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var l={insert:"head",singleton:!1};s(n,l);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),h=[];function a(e){for(var t=-1,i=0;i<h.length;i++)if(h[i].identifier===e){t=i;break}return t}function r(e,t){for(var i={},s=[],n=0;n<e.length;n++){var l=e[n],r=t.base?l[0]+t.base:l[0],m=i[r]||0,o="".concat(r," ").concat(m);i[r]=m+1;var u=a(o),d={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(h[u].references++,h[u].updater(d)):h.push({identifier:o,updater:_(d,t),references:1}),s.push(o)}return s}function m(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var h=l(e.insert||"head");if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(t)}return t}var o,u=(o=[],function(e,t){return o[e]=t,o.filter(Boolean).join("\n")});function d(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var l=document.createTextNode(n),h=e.childNodes;h[t]&&e.removeChild(h[t]),h.length?e.insertBefore(l,h[t]):e.appendChild(l)}}function v(e,t,i){var s=i.css,n=i.media,l=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),l&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var f=null,c=0;function _(e,t){var i,s,n;if(t.singleton){var l=c++;i=f||(f=m(t)),s=d.bind(null,i,l,!1),n=d.bind(null,i,l,!0)}else i=m(t),s=v.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=a(i[s]);h[n].references--}for(var l=r(e,t),m=0;m<i.length;m++){var o=a(i[m]);0===h[o].references&&(h[o].updater(),h.splice(o,1))}i=l}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e,t){this.bindedOnMouseMove=this.onMouseMove.bind(this),this.bindedOnMouseUp=this.onMouseUp.bind(this),this.bindedOnMouseDown=this.onMouseDown.bind(this),this.bindedOnResize=this.onResize.bind(this),this._model=t,this._options=this._model.getData(),this._min=this._options.min,this._max=this._options.max,this._step=this._options.step,this._mode=this._options.mode,this._hasInterval=this._options.hasInterval,this._values=this._options.values,this._view=e,this.lineElem=this._view.initSliderLine(),this._hasInterval?(this.minThumbInterval=this._view.initSliderThumb(this._values[0]),this.maxThumbInterval=this._view.initSliderThumb(this._values[1]),this.minValueInterval=this._view.initSliderValue(this._values[0]),this.maxValueInterval=this._view.initSliderValue(this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2)))):(this.thumbElem=this._view.initSliderThumb(this._values[0]),this.valueElem=this._view.initSliderValue(this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2)))),this._view.initSliderScale(),this.sliderRun()}onMouseMove(e){if(this._hasInterval){const t=this.minThumbInterval.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;if(i>s&&(i=s),i<=this.minThumbInterval.offsetLeft)this.minThumbInterval.style.left=i+"px",this._values[0]=this._view.getSliderValue(this.minThumbInterval),this.minValueInterval.textContent=""+this._values[0],this.minValueInterval.style.left=i-(this.minValueInterval.offsetWidth-this.minThumbInterval.offsetWidth)/2+"px";else if(i>=this.maxThumbInterval.offsetLeft)this.maxThumbInterval.style.left=i+"px",this._values[1]=this._view.getSliderValue(this.maxThumbInterval),this.maxValueInterval.textContent=""+this._values[1],this.maxValueInterval.style.left=i-(this.maxValueInterval.offsetWidth-this.maxThumbInterval.offsetWidth)/2+"px";else{let e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft;i-this.minThumbInterval.offsetLeft<=e/2?e>0&&(this.minThumbInterval.style.left=i+"px",this._values[0]=this._view.getSliderValue(this.minThumbInterval),this.minValueInterval.textContent=""+this._values[0],this.minValueInterval.style.left=i-(this.minValueInterval.offsetWidth-this.minThumbInterval.offsetWidth)/2+"px",e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft):e>0&&(this.maxThumbInterval.style.left=i+"px",this._values[1]=this._view.getSliderValue(this.maxThumbInterval),this.maxValueInterval.textContent=""+this._values[1],this.maxValueInterval.style.left=i-(this.maxValueInterval.offsetWidth-this.maxThumbInterval.offsetWidth)/2+"px",e=this.maxThumbInterval.offsetLeft-this.minThumbInterval.offsetLeft)}this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2)))}else{const t=this.thumbElem.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;i<-t&&(i=-t);const s=this.lineElem.offsetWidth-t;i>s&&(i=s),this.thumbElem.style.left=i+"px",this.lineElem.style.background=`linear-gradient(to right, red ${i}px, #e5e5e5 ${i}px)`,this.valueElem.style.left=i-(this.valueElem.offsetWidth-this.thumbElem.offsetWidth)/2+"px",this._values[0]=this._view.getSliderValue(this.thumbElem),this.valueElem.textContent=""+this._values[0]}}onMouseUp(){document.removeEventListener("mouseup",this.bindedOnMouseUp),document.removeEventListener("mousemove",this.bindedOnMouseMove)}onMouseDown(e){e.preventDefault();const t=e.target;console.log(t),document.addEventListener("mousemove",this.bindedOnMouseMove),document.addEventListener("mouseup",this.bindedOnMouseUp)}static returnFalse(){return!1}sliderRun(){this.lineElem.addEventListener("click",this.bindedOnMouseMove),window.addEventListener("resize",this.bindedOnResize),this._hasInterval?(this.minThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.minThumbInterval.addEventListener("dragstart",s.returnFalse),this.maxThumbInterval.addEventListener("mousedown",this.bindedOnMouseDown),this.maxThumbInterval.addEventListener("dragstart",s.returnFalse)):(this.thumbElem.addEventListener("mousedown",this.bindedOnMouseDown),this.thumbElem.addEventListener("dragstart",s.returnFalse))}destroy(){this.thumbElem.removeEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.removeEventListener("click",this.bindedOnMouseMove),this.thumbElem.removeEventListener("dragstart",s.returnFalse),window.removeEventListener("resize",this.bindedOnResize)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}onResize(){this._view.setOptions(this._options),this._view.updateSliderScale(),this._hasInterval?(this._view.updateSliderThumb(this.minThumbInterval,this._values[0]),this._view.updateSliderThumb(this.maxThumbInterval,this._values[1]),this._view.fillSliderLine(Number(this.maxThumbInterval.style.left.slice(0,-2)),Number(this.minThumbInterval.style.left.slice(0,-2))),this._view.updateSliderValue(this.minValueInterval,this.minThumbInterval),this._view.updateSliderValue(this.maxValueInterval,this.maxThumbInterval)):(this._view.updateSliderThumb(this.thumbElem,this._values[0]),this._view.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2))),this._view.updateSliderValue(this.valueElem,this.thumbElem))}update(e){this._options=e.getData(),this.onResize(),console.log("ModelObserver: Reacted to the event.")}}class n{constructor(e){this._elemId=e}init(){return this.lineElem=document.getElementById(this._elemId),this.lineElem.classList.add("slider-body"),this.lineElem}}class l{constructor(e){this._parentElement=e}init(){return this.thumbElem=document.createElement("DIV"),this.thumbElem.classList.add("slider-thumb"),this._parentElement.append(this.thumbElem),this.thumbElem}}class h{constructor(e){this._parentElement=e}init(){return this.valueElem=document.createElement("DIV"),this.valueElem.classList.add("tip-value"),this._parentElement.append(this.valueElem),this.valueElem}}class a{constructor(e,t,i,s){this._parentElement=e,this._min=t,this._max=i,this._step=s}init(){this.scaleElem=document.createElement("DIV"),this.scaleElem.classList.add("scale"),this.minElem=document.createElement("SPAN"),this.minElem.textContent=""+this._min,this.minElem.style.position="absolute",this.maxElem=document.createElement("SPAN"),this.maxElem.textContent=""+this._max,this.maxElem.style.position="absolute",this._parentElement.append(this.scaleElem),this.scaleElem.append(this.minElem),this.scaleElem.append(this.maxElem),this.minElem.style.left=this.scaleElem.offsetLeft-this.minElem.offsetWidth/2+"px",this.maxElem.style.left=this.scaleElem.offsetWidth+this.scaleElem.offsetLeft-this.maxElem.offsetWidth/2+"px",this.mark=(this._max-this._min)/this._step;for(let e=1;e<this.mark;e++)this.middleElem=document.createElement("SPAN"),this.middleElem.textContent=""+(this._step*e+this._min),this.middleElem.style.position="absolute",this.maxElem.insertAdjacentElement("beforebegin",this.middleElem),this.middleElem.style.left=(Number(this.middleElem.textContent)-this._min)*this.scaleElem.offsetWidth/(this._max-this._min)+this.scaleElem.offsetLeft-this.middleElem.offsetWidth/2+"px";return this.scaleElem}}class r{constructor(e,t){this._elemId=e.slice(1),this._min=t.min,this._max=t.max,this._step=t.step,this._mode=t.mode,this._hasInterval=t.hasInterval,this._values=t.values}initSliderLine(){return this.lineElem=new n(this._elemId).init(),this.lineElem}initSliderThumb(e){return this.thumbElem=new l(this.lineElem).init(),this.thumbElem.style.left=this.getPositionElement(this.thumbElem,e),this.thumbElem}initSliderValue(e){return this.valueElem=new h(this.lineElem).init(),this.valueElem.textContent=""+e,this.valueElem.style.left=this.getPositionElement(this.valueElem,e),this.valueElem}initSliderScale(){this.scaleElem=new a(this.lineElem,this._min,this._max,this._step).init()}"getСoefficient"(){return this.lineElem.offsetWidth/(this._max-this._min)}getPositionElement(e,t){return(t-this._min)*this.getСoefficient()-e.offsetWidth/2+"px"}fillSliderLine(e,t){this.lineElem.style.background=t?`linear-gradient(to right, #e5e5e5 ${t}px,\n        red ${t}px, red ${e}px, #e5e5e5 ${e}px)`:`linear-gradient(to right, red ${e}px, #e5e5e5 ${e}px)`}getSliderValue(e){return Math.round((e.offsetLeft+e.offsetWidth/2)/this.getСoefficient()+this._min)}updateSliderThumb(e,t){this.thumbElem=e,this.thumbElem.style.left=this.getPositionElement(this.thumbElem,t)}updateSliderValue(e,t){this.valueElem=e,this.thumbElem=t,this.valueElem.textContent=""+this.getSliderValue(this.thumbElem),this.valueElem.style.left=this.getPositionElement(this.valueElem,Number(this.valueElem.textContent))}updateSliderScale(){const e=Array.from(this.scaleElem.children);for(let t=1;t<e.length;t++)e[t].style.left=(Number(e[t].textContent)-this._min)*this.getСoefficient()+this.scaleElem.offsetLeft-e[t].offsetWidth/2+"px"}setOptions(e){this._options=e}}class m{constructor(){this.observers=[]}attach(e){this.observers.includes(e);this.observers.push(e)}detach(e){const t=this.observers.indexOf(e);this.observers.splice(t,1)}notify(){for(const e of this.observers)e.update(this)}setData(e){this._min=e.min,this._max=e.max,this._step=e.step,this._mode=e.mode,this._hasInterval=e.hasInterval,this._values=e.values,this.checkValues()}checkValues(){if(this._min>this._max){const e=this._min;this._min=this._max,this._max=e}if(this._step>this._max-this._min&&(this._step=this._max-this._min),this._hasInterval)if(this._values[0]>this._values[1]){const e=this._values[0];this._values[0]=this._values[1],this._values[1]=e}else this._values[0]===this._values[1]&&(this._values[1]+=this._step);(this._values[0]<this._min||this._values[0]>this._max)&&(this._values[0]=this._min),(this._values[1]<this._min||this._values[1]>this._max)&&(this._values[1]=this._max),this.notify()}getData(){return{min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}}class o{constructor(e,t){this._min=0,this._max=300,this._step=82,this._mode="horizontal",this._hasInterval=!1,this._values=[this._min,this._min+this._step],this._selector=e,t&&(this._min=t.min?t.min:this._min,this._max=t.max?t.max:this._max,this._step=t.step?t.step:this._step,this._mode=t.mode?t.mode:this._mode,this._hasInterval=t.hasInterval?t.hasInterval:this._hasInterval,this._values=t.values?t.values:this._values)}setData(){this._options={min:this._min,max:this._max,step:this._step,mode:this._mode,hasInterval:this._hasInterval,values:this._values}}init(){this.setData();const e=new m;e.setData(this._options),this._options=e.getData();const t=new r(this._selector,this._options),i=new s(t,e);e.attach(i)}}new o("#slider1").init();new o("#slider2",{min:40,step:60,max:245}).init();new o("#slider3",{min:-100,values:[300]}).init();new o("#slider4",{min:-27,hasInterval:!0,values:[55,137]}).init();new o("#slider5",{hasInterval:!0,values:[29,138]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvcHJlc2VudGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3NsaWRlckxpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVGh1bWIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyVmFsdWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyU2NhbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJQcmVzZW50ZXIiLCJ2aWV3IiwibW9kZWwiLCJ0aGlzIiwiYmluZGVkT25Nb3VzZU1vdmUiLCJvbk1vdXNlTW92ZSIsImJpbmRlZE9uTW91c2VVcCIsIm9uTW91c2VVcCIsImJpbmRlZE9uTW91c2VEb3duIiwib25Nb3VzZURvd24iLCJiaW5kZWRPblJlc2l6ZSIsIm9uUmVzaXplIiwiX21vZGVsIiwiX29wdGlvbnMiLCJnZXREYXRhIiwiX21pbiIsIm1pbiIsIl9tYXgiLCJtYXgiLCJfc3RlcCIsInN0ZXAiLCJfbW9kZSIsIl9oYXNJbnRlcnZhbCIsImhhc0ludGVydmFsIiwiX3ZhbHVlcyIsInZhbHVlcyIsIl92aWV3IiwibGluZUVsZW0iLCJpbml0U2xpZGVyTGluZSIsIm1pblRodW1iSW50ZXJ2YWwiLCJpbml0U2xpZGVyVGh1bWIiLCJtYXhUaHVtYkludGVydmFsIiwibWluVmFsdWVJbnRlcnZhbCIsImluaXRTbGlkZXJWYWx1ZSIsIm1heFZhbHVlSW50ZXJ2YWwiLCJmaWxsU2xpZGVyTGluZSIsIk51bWJlciIsImxlZnQiLCJzbGljZSIsInRodW1iRWxlbSIsInZhbHVlRWxlbSIsImluaXRTbGlkZXJTY2FsZSIsInNsaWRlclJ1biIsImV2ZW50IiwiZGVsdGEiLCJvZmZzZXRXaWR0aCIsInRodW1iUG9pbnQiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHRFZGdlIiwib2Zmc2V0TGVmdCIsImdldFNsaWRlclZhbHVlIiwidGV4dENvbnRlbnQiLCJkaXN0YW5jZSIsImJhY2tncm91bmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJtYXJrZXIiLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwic2V0T3B0aW9ucyIsInVwZGF0ZVNsaWRlclNjYWxlIiwidXBkYXRlU2xpZGVyVGh1bWIiLCJ1cGRhdGVTbGlkZXJWYWx1ZSIsIlNsaWRlckxpbmUiLCJlbGVtSWQiLCJfZWxlbUlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJTbGlkZXJUaHVtYiIsInBhcmVudEVsZW1lbnQiLCJfcGFyZW50RWxlbWVudCIsImFwcGVuZCIsIlNsaWRlclZhbHVlIiwiU2xpZGVyU2NhbGUiLCJzY2FsZUVsZW0iLCJtaW5FbGVtIiwicG9zaXRpb24iLCJtYXhFbGVtIiwibWFyayIsIm1pZGRsZUVsZW0iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJpbml0IiwiZ2V0UG9zaXRpb25FbGVtZW50IiwiZWxlbSIsInZhbCIsImdldNChb2VmZmljaWVudCIsInBvaW50VG8iLCJwb2ludEZyb20iLCJNYXRoIiwicm91bmQiLCJsYWJlbCIsInRodW1iIiwibWlkZGxlRWxlbXMiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIk1vZGVsIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXIiLCJpbmNsdWRlcyIsIm9ic2VydmVySW5kZXgiLCJpbmRleE9mIiwiY2hlY2tWYWx1ZXMiLCJ0ZW1wIiwibm90aWZ5IiwiX3NlbGVjdG9yIiwic2V0RGF0YSIsInByZXNlbnRlciIsImF0dGFjaCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVB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RXJCLEtBQUsyRyxVQUNMLE1BQU01RyxFQUFlLElBQUlrRyxFQUN6QmxHLEVBQU00RyxRQUFRM0csS0FBS1UsVUFDbkJWLEtBQUtVLFNBQVdYLEVBQU1ZLFVBQ3RCLE1BQU1iLEVBQU8sSUFBSSxFQUFLRSxLQUFLMEcsVUFBVzFHLEtBQUtVLFVBQ3JDa0csRUFBWSxJQUFJL0csRUFBVUMsRUFBTUMsR0FDdENBLEVBQU04RyxPQUFPRCxJQ2hETyxJQUFJLEVBQU8sWUFDM0IxQixPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFckUsSUFBSyxHQUFJSSxLQUFNLEdBQUlGLElBQUssTUFDakVtRSxPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFckUsS0FBTSxJQUFLUyxPQUFRLENBQUMsT0FDN0Q0RCxPQUVnQixJQUFJLEVBQU8sV0FBWSxDQUFFckUsS0FBTSxHQUFJTyxhQUFhLEVBQU1FLE9BQVEsQ0FBQyxHQUFJLE9BQ25GNEQsT0FFZ0IsSUFBSSxFQUFPLFdBQVksQ0FBRTlELGFBQWEsRUFBTUUsT0FBUSxDQUFDLEdBQUksT0FDekU0RCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdFwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7IFN1YmplY3QsIE1vZGVsIH0gZnJvbSAnLi9tb2RlbCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCBWaWV3IGZyb20gJy4vdmlldyc7XG5cbnR5cGUgb3B0aW9uc1R5cGUgPSB7XG4gIG1pbj86IG51bWJlcixcbiAgbWF4PzogbnVtYmVyLFxuICBzdGVwPzogbnVtYmVyLFxuICBtb2RlPzogc3RyaW5nLFxuICBoYXNJbnRlcnZhbD86IGJvb2xlYW4sXG4gIHZhbHVlcz86IG51bWJlcltdXG59O1xuXG4vKipcbiog0JjQvdGC0LXRgNGE0LXQudGBINCd0LDQsdC70Y7QtNCw0YLQtdC70Y8g0L7QsdGK0Y/QstC70Y/QtdGCINC80LXRgtC+0LQg0YPQstC10LTQvtC80LvQtdC90LjRjywg0LrQvtGC0L7RgNGL0Lkg0LjQt9C00LDRgtC10LvQuFxuKiDQuNGB0L/QvtC70YzQt9GD0Y7RgiDQtNC70Y8g0L7Qv9C+0LLQtdGJ0LXQvdC40Y8g0YHQstC+0LjRhSDQv9C+0LTQv9C40YHRh9C40LrQvtCyLlxuKi9cbmludGVyZmFjZSBPYnNlcnZlciB7XG4gIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0L7QsdC90L7QstC70LXQvdC40LUg0L7RgiDRgdGD0LHRitC10LrRgtCwLlxuICB1cGRhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQ7XG59XG5cbi8qKlxuKiDQmtC+0L3QutGA0LXRgtC90YvQtSDQndCw0LHQu9GO0LTQsNGC0LXQu9C4INGA0LXQsNCz0LjRgNGD0Y7RgiDQvdCwINC+0LHQvdC+0LLQu9C10L3QuNGPLCDQstGL0L/Rg9GJ0LXQvdC90YvQtSDQmNC30LTQsNGC0LXQu9C10LwsINC6XG4qINC60L7RgtC+0YDQvtC80YMg0L7QvdC4INC/0YDQuNC60YDQtdC/0LvQtdC90YsuXG4qL1xuLy8gY2xhc3MgQ29uY3JldGVPYnNlcnZlckEgaW1wbGVtZW50cyBPYnNlcnZlciB7XG4vLyAgIHB1YmxpYyB1cGRhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQge1xuLy8gICAgIGlmIChzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIHN1YmplY3Quc3RhdGUgPCAzKSB7XG4vLyAgICAgICBjb25zb2xlLmxvZygnQ29uY3JldGVPYnNlcnZlckE6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gfVxuXG5jbGFzcyBQcmVzZW50ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XG4gIHByaXZhdGUgYmluZGVkT25Nb3VzZU1vdmU7XG4gIHByaXZhdGUgYmluZGVkT25Nb3VzZVVwO1xuICBwcml2YXRlIGJpbmRlZE9uTW91c2VEb3duO1xuICBwcml2YXRlIGJpbmRlZE9uUmVzaXplO1xuICBfc2VsZWN0b3I6IHN0cmluZztcbiAgX29wdGlvbnM6IG9wdGlvbnNUeXBlO1xuICBfbWluOiBudW1iZXI7XG4gIF9tYXg6IG51bWJlcjtcbiAgX3N0ZXA6IG51bWJlcjtcbiAgX21vZGU6IHN0cmluZztcbiAgX2hhc0ludGVydmFsOiBib29sZWFuO1xuICBfdmFsdWVzOiBudW1iZXJbXTtcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xuICB2YWx1ZUVsZW06IEhUTUxFbGVtZW50O1xuICBtaW5UaHVtYkludGVydmFsOiBIVE1MRWxlbWVudDtcbiAgbWF4VGh1bWJJbnRlcnZhbDogSFRNTEVsZW1lbnQ7XG4gIG1pblZhbHVlSW50ZXJ2YWw6IEhUTUxFbGVtZW50O1xuICBtYXhWYWx1ZUludGVydmFsOiBIVE1MRWxlbWVudDtcblxuICBwcml2YXRlIF92aWV3OiBWaWV3O1xuICBwcml2YXRlIF9tb2RlbDogTW9kZWw7XG5cbiAgY29uc3RydWN0b3IodmlldzogVmlldywgbW9kZWw6IE1vZGVsKSB7XG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJpbmRlZE9uTW91c2VVcCA9IHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmJpbmRlZE9uUmVzaXplID0gdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fbW9kZWwuZ2V0RGF0YSgpO1xuICAgIHRoaXMuX21pbiA9IHRoaXMuX29wdGlvbnMubWluO1xuICAgIHRoaXMuX21heCA9IHRoaXMuX29wdGlvbnMubWF4O1xuICAgIHRoaXMuX3N0ZXAgPSB0aGlzLl9vcHRpb25zLnN0ZXA7XG4gICAgdGhpcy5fbW9kZSA9IHRoaXMuX29wdGlvbnMubW9kZTtcbiAgICB0aGlzLl9oYXNJbnRlcnZhbCA9IHRoaXMuX29wdGlvbnMuaGFzSW50ZXJ2YWw7XG4gICAgdGhpcy5fdmFsdWVzID0gdGhpcy5fb3B0aW9ucy52YWx1ZXM7XG5cbiAgICB0aGlzLl92aWV3ID0gdmlldztcbiAgICB0aGlzLmxpbmVFbGVtID0gdGhpcy5fdmlldy5pbml0U2xpZGVyTGluZSgpO1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xuICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgIHRoaXMubWF4VGh1bWJJbnRlcnZhbCA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclRodW1iKHRoaXMuX3ZhbHVlc1sxXSk7XG5cbiAgICAgIHRoaXMubWluVmFsdWVJbnRlcnZhbCA9IHRoaXMuX3ZpZXcuaW5pdFNsaWRlclZhbHVlKHRoaXMuX3ZhbHVlc1swXSk7XG4gICAgICB0aGlzLm1heFZhbHVlSW50ZXJ2YWwgPSB0aGlzLl92aWV3LmluaXRTbGlkZXJWYWx1ZSh0aGlzLl92YWx1ZXNbMV0pO1xuXG4gICAgICB0aGlzLl92aWV3LmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLm1heFRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdC5zbGljZSgwLCAtMikpLFxuICAgICAgICBOdW1iZXIodGhpcy5taW5UaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGh1bWJFbGVtID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVGh1bWIodGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgIHRoaXMudmFsdWVFbGVtID0gdGhpcy5fdmlldy5pbml0U2xpZGVyVmFsdWUodGhpcy5fdmFsdWVzWzBdKTtcbiAgICAgIHRoaXMuX3ZpZXcuZmlsbFNsaWRlckxpbmUoTnVtYmVyKHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XG4gICAgfVxuICAgIHRoaXMuX3ZpZXcuaW5pdFNsaWRlclNjYWxlKCk7XG5cbiAgICB0aGlzLnNsaWRlclJ1bigpO1xuICAgIC8vIHRoaXMuc2V0RGF0YSgpO1xuICAgIC8vIHRoaXMuX21vZGVsLnNldERhdGEodGhpcy5fb3B0aW9ucyk7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oYXNJbnRlcnZhbCkge1xuICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLm1pblRodW1iSW50ZXJ2YWwub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgbGV0IHRodW1iUG9pbnQgPSBldmVudC5jbGllbnRYIC0gdGhpcy5saW5lRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGVsdGE7XG5cbiAgICAgIC8vIFRoZSBjdXJzb3IgaXMgb3V0IG9mIHRoZSBzbGlkZXIsIHRoZW4geW91IG5lZWQgdG8gcHV0IHRoZSBzbGlkZXIgd2l0aGluIGl0cyBib3JkZXJzLlxuICAgICAgaWYgKHRodW1iUG9pbnQgPCAtZGVsdGEpIHtcbiAgICAgICAgdGh1bWJQb2ludCA9IC1kZWx0YTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmlnaHRFZGdlID0gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAtIGRlbHRhO1xuICAgICAgaWYgKHRodW1iUG9pbnQgPiByaWdodEVkZ2UpIHtcbiAgICAgICAgdGh1bWJQb2ludCA9IHJpZ2h0RWRnZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRodW1iUG9pbnQgPD0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldExlZnQpIHtcbiAgICAgICAgdGhpcy5taW5UaHVtYkludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50fXB4YDtcbiAgICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fdmlldy5nZXRTbGlkZXJWYWx1ZSh0aGlzLm1pblRodW1iSW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLm1pblZhbHVlSW50ZXJ2YWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLl92YWx1ZXNbMF19YDtcbiAgICAgICAgdGhpcy5taW5WYWx1ZUludGVydmFsLnN0eWxlLmxlZnQgPSBgJHt0aHVtYlBvaW50IC0gKHRoaXMubWluVmFsdWVJbnRlcnZhbC5vZmZzZXRXaWR0aFxuICAgICAgICAgIC0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldFdpZHRoKSAvIDJ9cHhgO1xuICAgICAgfSBlbHNlIGlmICh0aHVtYlBvaW50ID49IHRoaXMubWF4VGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0KSB7XG4gICAgICAgIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XG4gICAgICAgIHRoaXMuX3ZhbHVlc1sxXSA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy5tYXhUaHVtYkludGVydmFsKTtcbiAgICAgICAgdGhpcy5tYXhWYWx1ZUludGVydmFsLnRleHRDb250ZW50ID0gYCR7dGhpcy5fdmFsdWVzWzFdfWA7XG4gICAgICAgIHRoaXMubWF4VmFsdWVJbnRlcnZhbC5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludCAtICh0aGlzLm1heFZhbHVlSW50ZXJ2YWwub2Zmc2V0V2lkdGhcbiAgICAgICAgICAtIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHRoaXMubWF4VGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0IC0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldExlZnQ7XG5cbiAgICAgICAgaWYgKHRodW1iUG9pbnQgLSB0aGlzLm1pblRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdCA8PSBkaXN0YW5jZSAvIDIpIHtcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm1pblRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnR9cHhgO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fdmlldy5nZXRTbGlkZXJWYWx1ZSh0aGlzLm1pblRodW1iSW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5taW5WYWx1ZUludGVydmFsLnRleHRDb250ZW50ID0gYCR7dGhpcy5fdmFsdWVzWzBdfWA7XG4gICAgICAgICAgICB0aGlzLm1pblZhbHVlSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy5taW5WYWx1ZUludGVydmFsLm9mZnNldFdpZHRoXG4gICAgICAgICAgICAgIC0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldFdpZHRoKSAvIDJ9cHhgO1xuICAgICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLm1heFRodW1iSW50ZXJ2YWwub2Zmc2V0TGVmdCAtIHRoaXMubWluVGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgICB0aGlzLm1heFRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnR9cHhgO1xuICAgICAgICAgIHRoaXMuX3ZhbHVlc1sxXSA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy5tYXhUaHVtYkludGVydmFsKTtcbiAgICAgICAgICB0aGlzLm1heFZhbHVlSW50ZXJ2YWwudGV4dENvbnRlbnQgPSBgJHt0aGlzLl92YWx1ZXNbMV19YDtcbiAgICAgICAgICB0aGlzLm1heFZhbHVlSW50ZXJ2YWwuc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy5tYXhWYWx1ZUludGVydmFsLm9mZnNldFdpZHRoXG4gICAgICAgICAgICAtIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcbiAgICAgICAgICBkaXN0YW5jZSA9IHRoaXMubWF4VGh1bWJJbnRlcnZhbC5vZmZzZXRMZWZ0IC0gdGhpcy5taW5UaHVtYkludGVydmFsLm9mZnNldExlZnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fdmlldy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy5tYXhUaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSxcbiAgICAgICAgTnVtYmVyKHRoaXMubWluVGh1bWJJbnRlcnZhbC5zdHlsZS5sZWZ0LnNsaWNlKDAsIC0yKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWx0YSA9IHRoaXMudGh1bWJFbGVtLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgIGxldCB0aHVtYlBvaW50ID0gZXZlbnQuY2xpZW50WCAtIHRoaXMubGluZUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGRlbHRhO1xuXG4gICAgICAvLyBUaGUgY3Vyc29yIGlzIG91dCBvZiB0aGUgc2xpZGVyLCB0aGVuIHlvdSBuZWVkIHRvIHB1dCB0aGUgc2xpZGVyIHdpdGhpbiBpdHMgYm9yZGVycy5cbiAgICAgIGlmICh0aHVtYlBvaW50IDwgLWRlbHRhKSB7XG4gICAgICAgIHRodW1iUG9pbnQgPSAtZGVsdGE7XG4gICAgICB9XG4gICAgICBjb25zdCByaWdodEVkZ2UgPSB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoIC0gZGVsdGE7XG4gICAgICBpZiAodGh1bWJQb2ludCA+IHJpZ2h0RWRnZSkge1xuICAgICAgICB0aHVtYlBvaW50ID0gcmlnaHRFZGdlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XG4gICAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHt0aHVtYlBvaW50fXB4LCAjZTVlNWU1ICR7dGh1bWJQb2ludH1weClgO1xuICAgICAgdGhpcy52YWx1ZUVsZW0uc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy52YWx1ZUVsZW0ub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcblxuICAgICAgLy8gY29uc3QgdmFsID0gTWF0aC5yb3VuZCgoKHRodW1iUG9pbnRcbiAgICAgIC8vICAgKyBkZWx0YSkgKiAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5fbWluKTtcbiAgICAgIC8vIGNvbnN0IHZhbCA9IHRoaXMuX3ZpZXcuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pO1xuXG4gICAgICAvLyBjb25zdCBkYXRhID0gdGhpcy5fbW9kZWwuZ2V0RGF0YSgpO1xuICAgICAgLy8gdGhpcy5fdmFsdWVzWzBdID0gdmFsO1xuICAgICAgdGhpcy5fdmFsdWVzWzBdID0gdGhpcy5fdmlldy5nZXRTbGlkZXJWYWx1ZSh0aGlzLnRodW1iRWxlbSk7XG4gICAgICAvLyB0aGlzLl9tb2RlbC5zZXREYXRhKGRhdGEpO1xuICAgICAgLy8gdGhpcy5fbW9kZWwuc2V0RGF0YSh0aGlzLl9vcHRpb25zKTtcblxuICAgICAgLy8gdGhpcy52YWx1ZUVsZW0udGV4dENvbnRlbnQgPSBgJHtNYXRoLnJvdW5kKCgodGh1bWJQb2ludFxuICAgICAgLy8gICArIGRlbHRhKSAqICh0aGlzLl9tYXggLSB0aGlzLl9taW4pKSAvIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGggKyB0aGlzLl9taW4pfWA7XG4gICAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuX3ZhbHVlc1swXX1gO1xuICAgIH1cbiAgfVxuXG4gIG9uTW91c2VVcCgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5iaW5kZWRPbk1vdXNlVXApO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xuICB9XG5cbiAgb25Nb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cbiAgICBjb25zdCBtYXJrZXIgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc29sZS5sb2cobWFya2VyKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmJpbmRlZE9uTW91c2VVcCk7XG4gIH1cblxuICBzdGF0aWMgcmV0dXJuRmFsc2UoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc2xpZGVyUnVuKCkge1xuICAgIHRoaXMubGluZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5iaW5kZWRPblJlc2l6ZSk7XG4gICAgaWYgKHRoaXMuX2hhc0ludGVydmFsKSB7XG4gICAgICB0aGlzLm1pblRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XG4gICAgICB0aGlzLm1pblRodW1iSW50ZXJ2YWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgUHJlc2VudGVyLnJldHVybkZhbHNlKTtcbiAgICAgIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJpbmRlZE9uTW91c2VEb3duKTtcbiAgICAgIHRoaXMubWF4VGh1bWJJbnRlcnZhbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRodW1iRWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJpbmRlZE9uTW91c2VEb3duKTtcbiAgICAgIHRoaXMudGh1bWJFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIFByZXNlbnRlci5yZXR1cm5GYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnRodW1iRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJpbmRlZE9uTW91c2VEb3duKTtcbiAgICB0aGlzLmxpbmVFbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XG4gICAgdGhpcy50aHVtYkVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgUHJlc2VudGVyLnJldHVybkZhbHNlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5iaW5kZWRPblJlc2l6ZSk7XG4gIH1cblxuICBzZXREYXRhKCkge1xuICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXG4gICAgICBoYXNJbnRlcnZhbDogdGhpcy5faGFzSW50ZXJ2YWwsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcbiAgICB9O1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgLy8gdGhpcy5zZXREYXRhKCk7XG4gICAgdGhpcy5fdmlldy5zZXRPcHRpb25zKHRoaXMuX29wdGlvbnMpO1xuICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyU2NhbGUoKTtcbiAgICBpZiAodGhpcy5faGFzSW50ZXJ2YWwpIHtcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVGh1bWIodGhpcy5taW5UaHVtYkludGVydmFsLCB0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgdGhpcy5fdmlldy51cGRhdGVTbGlkZXJUaHVtYih0aGlzLm1heFRodW1iSW50ZXJ2YWwsIHRoaXMuX3ZhbHVlc1sxXSk7XG4gICAgICB0aGlzLl92aWV3LmZpbGxTbGlkZXJMaW5lKE51bWJlcih0aGlzLm1heFRodW1iSW50ZXJ2YWwuc3R5bGUubGVmdC5zbGljZSgwLCAtMikpLFxuICAgICAgICBOdW1iZXIodGhpcy5taW5UaHVtYkludGVydmFsLnN0eWxlLmxlZnQuc2xpY2UoMCwgLTIpKSk7XG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclZhbHVlKHRoaXMubWluVmFsdWVJbnRlcnZhbCwgdGhpcy5taW5UaHVtYkludGVydmFsKTtcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVmFsdWUodGhpcy5tYXhWYWx1ZUludGVydmFsLCB0aGlzLm1heFRodW1iSW50ZXJ2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92aWV3LnVwZGF0ZVNsaWRlclRodW1iKHRoaXMudGh1bWJFbGVtLCB0aGlzLl92YWx1ZXNbMF0pO1xuICAgICAgdGhpcy5fdmlldy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdC5zbGljZSgwLCAtMikpKTtcbiAgICAgIHRoaXMuX3ZpZXcudXBkYXRlU2xpZGVyVmFsdWUodGhpcy52YWx1ZUVsZW0sIHRoaXMudGh1bWJFbGVtKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUobW9kZWw6IE1vZGVsKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG1vZGVsLmdldERhdGEoKTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgY29uc29sZS5sb2coJ01vZGVsT2JzZXJ2ZXI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xuICB9XG59XG5cbi8vIGNsYXNzIFZpZXdPYnNlcnZlciBpbXBsZW1lbnRzIE9ic2VydmVyIHtcbi8vICAgdXBkYXRlKHZpZXcpIHtcblxuLy8gICB9XG4vLyB9XG5cbi8vIGNsYXNzIENvbmNyZXRlT2JzZXJ2ZXJCIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xuLy8gICBpc1N1YmplY3RTYXRpc2ZpZXMoc3ViamVjdCkge1xuLy8gICAgIHJldHVybiBzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIChzdWJqZWN0LnN0YXRlID09PSAwIHx8IHN1YmplY3Quc3RhdGUgPj0gMik7XG4vLyAgIH1cblxuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcbi8vICAgICBpZiAodGhpcy5pc1N1YmplY3RTYXRpc2ZpZXMoc3ViamVjdCkpIHtcbi8vICAgICAgIGNvbnNvbGUubG9nKCdDb25jcmV0ZU9ic2VydmVyQjogUmVhY3RlZCB0byB0aGUgZXZlbnQuJyk7XG4vLyAgICAgfVxuLy8gICB9XG4vLyB9XG5cbi8vIGV4cG9ydCB7IE9ic2VydmVyLCBDb25jcmV0ZU9ic2VydmVyQSwgQ29uY3JldGVPYnNlcnZlckIsIFByZXNlbnRlciB9O1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5leHBvcnQgeyBPYnNlcnZlciwgUHJlc2VudGVyIH07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJMaW5lIHtcclxuICBwcml2YXRlIF9lbGVtSWQ6IHN0cmluZztcclxuICBsaW5lRWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVsZW1JZDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9lbGVtSWQgPSBlbGVtSWQ7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5saW5lRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2VsZW1JZCk7XHJcbiAgICB0aGlzLmxpbmVFbGVtLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1ib2R5Jyk7XHJcbiAgICByZXR1cm4gdGhpcy5saW5lRWxlbTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyVGh1bWIge1xyXG4gIHByaXZhdGUgX3BhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHRodW1iRWxlbTogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnRodW1iRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgdGhpcy50aHVtYkVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXRodW1iJyk7XHJcbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50LmFwcGVuZCh0aGlzLnRodW1iRWxlbSk7XHJcbiAgICByZXR1cm4gdGhpcy50aHVtYkVsZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlclZhbHVlIHtcclxuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICB2YWx1ZUVsZW06IEhUTUxFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy52YWx1ZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgIHRoaXMudmFsdWVFbGVtLmNsYXNzTGlzdC5hZGQoJ3RpcC12YWx1ZScpO1xyXG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy52YWx1ZUVsZW0pO1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVFbGVtO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTbGlkZXJTY2FsZSB7XG4gIHByaXZhdGUgX3BhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9taW46IG51bWJlcjtcbiAgcHJpdmF0ZSBfbWF4OiBudW1iZXI7XG4gIHByaXZhdGUgX3N0ZXA6IG51bWJlcjtcbiAgbWFyazogbnVtYmVyO1xuICBzY2FsZUVsZW06IEhUTUxFbGVtZW50O1xuICBtaW5FbGVtOiBIVE1MRWxlbWVudDtcbiAgbWF4RWxlbTogSFRNTEVsZW1lbnQ7XG4gIG1pZGRsZUVsZW06IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHN0ZXA6IG51bWJlcikge1xuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xuICAgIHRoaXMuX21pbiA9IG1pbjtcbiAgICB0aGlzLl9tYXggPSBtYXg7XG4gICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc2NhbGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XG4gICAgdGhpcy5zY2FsZUVsZW0uY2xhc3NMaXN0LmFkZCgnc2NhbGUnKTtcblxuICAgIHRoaXMubWluRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICB0aGlzLm1pbkVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9taW59YDtcbiAgICB0aGlzLm1pbkVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXG4gICAgdGhpcy5tYXhFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xuICAgIHRoaXMubWF4RWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuX21heH1gO1xuICAgIHRoaXMubWF4RWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICB0aGlzLl9wYXJlbnRFbGVtZW50LmFwcGVuZCh0aGlzLnNjYWxlRWxlbSk7XG4gICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKHRoaXMubWluRWxlbSk7XG4gICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKHRoaXMubWF4RWxlbSk7XG5cbiAgICB0aGlzLm1pbkVsZW0uc3R5bGUubGVmdCA9IGAke3RoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSB0aGlzLm1pbkVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcbiAgICB0aGlzLm1heEVsZW0uc3R5bGUubGVmdCA9IGAke3RoaXMuc2NhbGVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdFxuICAgIC0gdGhpcy5tYXhFbGVtLm9mZnNldFdpZHRoIC8gMn1weGA7XG5cbiAgICB0aGlzLm1hcmsgPSAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSAvIHRoaXMuX3N0ZXA7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLm1hcms7IGkrKykge1xuICAgICAgdGhpcy5taWRkbGVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xuICAgICAgdGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5fc3RlcCAqIGkgKyB0aGlzLl9taW59YDtcbiAgICAgIHRoaXMubWlkZGxlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICB0aGlzLm1heEVsZW0uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIHRoaXMubWlkZGxlRWxlbSk7XG4gICAgICB0aGlzLm1pZGRsZUVsZW0uc3R5bGUubGVmdCA9IGAkeygoKE51bWJlcih0aGlzLm1pZGRsZUVsZW0udGV4dENvbnRlbnQpIC0gdGhpcy5fbWluKVxuICAgICAgKiB0aGlzLnNjYWxlRWxlbS5vZmZzZXRXaWR0aCkgLyAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSlcbiAgICAgICsgdGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdCAtIHRoaXMubWlkZGxlRWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNjYWxlRWxlbTtcbiAgfVxufVxuIiwiaW1wb3J0IFNsaWRlckxpbmUgZnJvbSAnLi9zbGlkZXJMaW5lJztcbmltcG9ydCBTbGlkZXJUaHVtYiBmcm9tICcuL3NsaWRlclRodW1iJztcbmltcG9ydCBTbGlkZXJWYWx1ZSBmcm9tICcuL3NsaWRlclZhbHVlJztcbmltcG9ydCBTbGlkZXJTY2FsZSBmcm9tICcuL3NsaWRlclNjYWxlJztcblxudHlwZSBvcHRpb25zVHlwZSA9IHtcbiAgbWluPzogbnVtYmVyLFxuICBtYXg/OiBudW1iZXIsXG4gIHN0ZXA/OiBudW1iZXIsXG4gIG1vZGU/OiBzdHJpbmcsXG4gIGhhc0ludGVydmFsPzogYm9vbGVhbixcbiAgdmFsdWVzPzogbnVtYmVyW11cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcge1xuICBfZWxlbUlkOiBzdHJpbmc7XG4gIF9vcHRpb25zOiBvcHRpb25zVHlwZTtcbiAgX21pbjogbnVtYmVyO1xuICBfbWF4OiBudW1iZXI7XG4gIF9zdGVwOiBudW1iZXI7XG4gIF9tb2RlOiBzdHJpbmc7XG4gIF9oYXNJbnRlcnZhbDogYm9vbGVhbjtcbiAgX3ZhbHVlczogbnVtYmVyW107XG5cbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xuICB0aHVtYkVsZW06IEhUTUxFbGVtZW50O1xuICB2YWx1ZUVsZW06IEhUTUxFbGVtZW50O1xuICBzY2FsZUVsZW06IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1JZDogc3RyaW5nLCBvcHRpb25zOiBvcHRpb25zVHlwZSkge1xuICAgIHRoaXMuX2VsZW1JZCA9IGVsZW1JZC5zbGljZSgxKTtcbiAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbjtcbiAgICB0aGlzLl9tYXggPSBvcHRpb25zLm1heDtcbiAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwO1xuICAgIHRoaXMuX21vZGUgPSBvcHRpb25zLm1vZGU7XG4gICAgdGhpcy5faGFzSW50ZXJ2YWwgPSBvcHRpb25zLmhhc0ludGVydmFsO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xuICB9XG5cbiAgaW5pdFNsaWRlckxpbmUoKSB7XG4gICAgdGhpcy5saW5lRWxlbSA9IG5ldyBTbGlkZXJMaW5lKHRoaXMuX2VsZW1JZCkuaW5pdCgpO1xuICAgIHJldHVybiB0aGlzLmxpbmVFbGVtO1xuICB9XG5cbiAgaW5pdFNsaWRlclRodW1iKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnRodW1iRWxlbSA9IG5ldyBTbGlkZXJUaHVtYih0aGlzLmxpbmVFbGVtKS5pbml0KCk7XG4gICAgdGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0UG9zaXRpb25FbGVtZW50KHRoaXMudGh1bWJFbGVtLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtO1xuICB9XG5cbiAgaW5pdFNsaWRlclZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnZhbHVlRWxlbSA9IG5ldyBTbGlkZXJWYWx1ZSh0aGlzLmxpbmVFbGVtKS5pbml0KCk7XG4gICAgdGhpcy52YWx1ZUVsZW0udGV4dENvbnRlbnQgPSBgJHt2YWx1ZX1gO1xuICAgIHRoaXMudmFsdWVFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnZhbHVlRWxlbSwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnZhbHVlRWxlbTtcbiAgfVxuXG4gIGluaXRTbGlkZXJTY2FsZSgpIHtcbiAgICB0aGlzLnNjYWxlRWxlbSA9IG5ldyBTbGlkZXJTY2FsZSh0aGlzLmxpbmVFbGVtLCB0aGlzLl9taW4sIHRoaXMuX21heCwgdGhpcy5fc3RlcCkuaW5pdCgpO1xuICB9XG5cbiAgZ2V00KFvZWZmaWNpZW50KCkge1xuICAgIHJldHVybiB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoIC8gKHRoaXMuX21heCAtIHRoaXMuX21pbik7XG4gIH1cblxuICBnZXRQb3NpdGlvbkVsZW1lbnQoZWxlbTogSFRNTEVsZW1lbnQsIHZhbDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIGAkeyh2YWwgLSB0aGlzLl9taW4pICogdGhpcy5nZXTQoW9lZmZpY2llbnQoKSAtIGVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcbiAgfVxuXG4gIGZpbGxTbGlkZXJMaW5lKHBvaW50VG86IG51bWJlciwgcG9pbnRGcm9tPzogbnVtYmVyKSB7XG4gICAgaWYgKHBvaW50RnJvbSkge1xuICAgICAgdGhpcy5saW5lRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCh0byByaWdodCwgI2U1ZTVlNSAke3BvaW50RnJvbX1weCxcbiAgICAgICAgcmVkICR7cG9pbnRGcm9tfXB4LCByZWQgJHtwb2ludFRvfXB4LCAjZTVlNWU1ICR7cG9pbnRUb31weClgO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHtwb2ludFRvfXB4LCAjZTVlNWU1ICR7cG9pbnRUb31weClgO1xuICAgIH1cbiAgfVxuXG4gIGdldFNsaWRlclZhbHVlKGVsZW06IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKGVsZW0ub2Zmc2V0TGVmdCArIGVsZW0ub2Zmc2V0V2lkdGggLyAyKSAvIHRoaXMuZ2V00KFvZWZmaWNpZW50KCkgKyB0aGlzLl9taW4pO1xuICB9XG5cbiAgdXBkYXRlU2xpZGVyVGh1bWIoZWxlbTogSFRNTEVsZW1lbnQsIHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLnRodW1iRWxlbSA9IGVsZW07XG4gICAgdGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0UG9zaXRpb25FbGVtZW50KHRoaXMudGh1bWJFbGVtLCB2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVTbGlkZXJWYWx1ZShsYWJlbDogSFRNTEVsZW1lbnQsIHRodW1iOiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMudmFsdWVFbGVtID0gbGFiZWw7XG4gICAgdGhpcy50aHVtYkVsZW0gPSB0aHVtYjtcbiAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pfWA7XG4gICAgdGhpcy52YWx1ZUVsZW0uc3R5bGUubGVmdCA9IHRoaXMuZ2V0UG9zaXRpb25FbGVtZW50KHRoaXMudmFsdWVFbGVtLCBOdW1iZXIodGhpcy52YWx1ZUVsZW0udGV4dENvbnRlbnQpKTtcbiAgfVxuXG4gIHVwZGF0ZVNsaWRlclNjYWxlKCkge1xuICAgIGNvbnN0IG1pZGRsZUVsZW1zOiBhbnkgPSBBcnJheS5mcm9tKHRoaXMuc2NhbGVFbGVtLmNoaWxkcmVuKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1pZGRsZUVsZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBtaWRkbGVFbGVtc1tpXS5zdHlsZS5sZWZ0ID0gYCR7KE51bWJlcihtaWRkbGVFbGVtc1tpXS50ZXh0Q29udGVudCkgLSB0aGlzLl9taW4pXG4gICAgICAgICogdGhpcy5nZXTQoW9lZmZpY2llbnQoKSArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSBtaWRkbGVFbGVtc1tpXS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xuICAgIH1cbiAgfVxuXG4gIHNldE9wdGlvbnMob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgfVxufVxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vcHJlc2VudGVyJztcblxudHlwZSBvcHRpb25zVHlwZSA9IHtcbiAgbWluPzogbnVtYmVyO1xuICBtYXg/OiBudW1iZXI7XG4gIHN0ZXA/OiBudW1iZXI7XG4gIG1vZGU/OiBzdHJpbmc7XG4gIGhhc0ludGVydmFsPzogYm9vbGVhbjtcbiAgdmFsdWVzPzogbnVtYmVyW107XG59O1xuXG4vKipcbiAqINCY0L3RgtGE0LXRgNGE0LXQudGBINC40LfQtNCw0YLQtdC70Y8g0L7QsdGK0Y/QstC70Y/QtdGCINC90LDQsdC+0YAg0LzQtdGC0L7QtNC+0LIg0LTQu9GPINGD0L/RgNCw0LLQu9C10L3QuNGP0LzQuCDQv9C+0LTQv9C40YHRh9C40LrQsNC80LguXG4gKi9cbmludGVyZmFjZSBTdWJqZWN0IHtcbiAgLy8g0J/RgNC40YHQvtC10LTQuNC90Y/QtdGCINC90LDQsdC70Y7QtNCw0YLQtdC70Y8g0Log0LjQt9C00LDRgtC10LvRji5cbiAgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XG5cbiAgLy8g0J7RgtGB0L7QtdC00LjQvdGP0LXRgiDQvdCw0LHQu9GO0LTQsNGC0LXQu9GPINC+0YIg0LjQt9C00LDRgtC10LvRjy5cbiAgZGV0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQ7XG5cbiAgLy8g0KPQstC10LTQvtC80LvRj9C10YIg0LLRgdC10YUg0L3QsNCx0LvRjtC00LDRgtC10LvQtdC5INC+INGB0L7QsdGL0YLQuNC4LlxuICBub3RpZnkoKTogdm9pZDtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzZW1pXG59XG5cbmNsYXNzIE1vZGVsIGltcGxlbWVudHMgU3ViamVjdCB7XG4gIF9taW46IG51bWJlcjtcbiAgX21heDogbnVtYmVyO1xuICBfc3RlcDogbnVtYmVyO1xuICBfbW9kZTogc3RyaW5nO1xuICBfaGFzSW50ZXJ2YWw6IGJvb2xlYW47XG4gIF92YWx1ZXM6IG51bWJlcltdO1xuXG4gIC8vIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBvcHRpb25zKSB7XG4gIC8vICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cbiAgLy8gICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogMDtcbiAgLy8gICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogMzAwO1xuICAvLyAgIHRoaXMuX3N0ZXAgPSBvcHRpb25zLnN0ZXAgPyBvcHRpb25zLnN0ZXAgOiA1MDtcbiAgLy8gICB0aGlzLl9raW5kID0gb3B0aW9ucy5raW5kID8gb3B0aW9ucy5raW5kIDogJ2hvcml6b250YWwnO1xuICAvLyAgIHRoaXMuX2lzQmFzaWMgPSBvcHRpb25zLmlzQmFzaWMgPyBvcHRpb25zLmlzQmFzaWMgOiB0cnVlO1xuICAvLyB0aGlzLm5vdGlmeSgpO1xuICAvLyB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYnNlcnZlcltdfSDQodC/0LjRgdC+0Log0L/QvtC00L/QuNGB0YfQuNC60L7Qsi4g0JIg0YDQtdCw0LvRjNC90L7QuSDQttC40LfQvdC4INGB0L/QuNGB0L7QulxuICAgKiDQv9C+0LTQv9C40YHRh9C40LrQvtCyINC80L7QttC10YIg0YXRgNCw0L3QuNGC0YzRgdGPINCyINCx0L7Qu9C10LUg0L/QvtC00YDQvtCx0L3QvtC8INCy0LjQtNC1ICjQutC70LDRgdGB0LjRhNC40YbQuNGA0YPQtdGC0YHRjyDQv9C+XG4gICAqINGC0LjQv9GDINGB0L7QsdGL0YLQuNGPINC4INGCLtC0LilcbiAgICovXG4gIHByaXZhdGUgb2JzZXJ2ZXJzOiBPYnNlcnZlcltdID0gW107XG5cbiAgLyoqXG4gICAqINCc0LXRgtC+0LTRiyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQv9C+0LTQv9C40YHQutC+0LkuXG4gICAqL1xuICBwdWJsaWMgYXR0YWNoKG9ic2VydmVyOiBPYnNlcnZlcik6IHZvaWQge1xuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcik7XG4gICAgaWYgKGlzRXhpc3QpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogUHJlc2VudGVyIGhhcyBiZWVuIGF0dGFjaGVkIGFscmVhZHkuJyk7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coJ01vZGVsOiBBdHRhY2hlZCBhIHByZXNlbnRlci4nKTtcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyKTogdm9pZCB7XG4gICAgY29uc3Qgb2JzZXJ2ZXJJbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgIGlmIChvYnNlcnZlckluZGV4ID09PSAtMSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ1N1YmplY3Q6IE5vbmV4aXN0ZW50IG9ic2VydmVyLicpO1xuICAgIH1cblxuICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShvYnNlcnZlckluZGV4LCAxKTtcbiAgICAvLyBjb25zb2xlLmxvZygnU3ViamVjdDogRGV0YWNoZWQgYW4gb2JzZXJ2ZXIuJyk7XG4gIH1cblxuICAvKipcbiAgICog0JfQsNC/0YPRgdC6INC+0LHQvdC+0LLQu9C10L3QuNGPINCyINC60LDQttC00L7QvCDQv9C+0LTQv9C40YHRh9C40LrQtS5cbiAgICovXG4gIHB1YmxpYyBub3RpZnkoKTogdm9pZCB7XG4gICAgLy8gY29uc29sZS5sb2coJ01vZGVsOiBOb3RpZnlpbmcgb2JzZXJ2ZXJzLi4uJyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgZm9yIChjb25zdCBvYnNlcnZlciBvZiB0aGlzLm9ic2VydmVycykge1xuICAgICAgb2JzZXJ2ZXIudXBkYXRlKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHNldERhdGEob3B0aW9uczogb3B0aW9uc1R5cGUpIHtcbiAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbjtcbiAgICB0aGlzLl9tYXggPSBvcHRpb25zLm1heDtcbiAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwO1xuICAgIHRoaXMuX21vZGUgPSBvcHRpb25zLm1vZGU7XG4gICAgdGhpcy5faGFzSW50ZXJ2YWwgPSBvcHRpb25zLmhhc0ludGVydmFsO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xuICAgIC8vIGNvbnNvbGUubG9nKCdNb2RlbDogTXkgc3RhdGUgaGFzIGp1c3QgY2hhbmdlZCcpO1xuICAgIC8vIHRoaXMubm90aWZ5KCk7XG4gICAgdGhpcy5jaGVja1ZhbHVlcygpO1xuICB9XG5cbiAgY2hlY2tWYWx1ZXMoKSB7XG4gICAgaWYgKHRoaXMuX21pbiA+IHRoaXMuX21heCkge1xuICAgICAgY29uc3QgdGVtcCA9IHRoaXMuX21pbjtcbiAgICAgIHRoaXMuX21pbiA9IHRoaXMuX21heDtcbiAgICAgIHRoaXMuX21heCA9IHRlbXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3N0ZXAgPiAodGhpcy5fbWF4IC0gdGhpcy5fbWluKSkge1xuICAgICAgdGhpcy5fc3RlcCA9IHRoaXMuX21heCAtIHRoaXMuX21pbjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faGFzSW50ZXJ2YWwpIHtcbiAgICAgIGlmICh0aGlzLl92YWx1ZXNbMF0gPiB0aGlzLl92YWx1ZXNbMV0pIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHRoaXMuX3ZhbHVlc1swXTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHRoaXMuX3ZhbHVlc1swXSA9IHRoaXMuX3ZhbHVlc1sxXTtcbiAgICAgICAgdGhpcy5fdmFsdWVzWzFdID0gdGVtcDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdmFsdWVzWzBdID09PSB0aGlzLl92YWx1ZXNbMV0pIHtcbiAgICAgICAgdGhpcy5fdmFsdWVzWzFdICs9IHRoaXMuX3N0ZXA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLl92YWx1ZXNbMF0gPCB0aGlzLl9taW4pIHx8ICh0aGlzLl92YWx1ZXNbMF0gPiB0aGlzLl9tYXgpKSB7XG4gICAgICB0aGlzLl92YWx1ZXNbMF0gPSB0aGlzLl9taW47XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLl92YWx1ZXNbMV0gPCB0aGlzLl9taW4pIHx8ICh0aGlzLl92YWx1ZXNbMV0gPiB0aGlzLl9tYXgpKSB7XG4gICAgICB0aGlzLl92YWx1ZXNbMV0gPSB0aGlzLl9tYXg7XG4gICAgfVxuICAgIHRoaXMubm90aWZ5KCk7XG4gIH1cblxuICBnZXREYXRhKCkge1xuICAgIC8vIHRoaXMuY2hlY2tWYWx1ZXMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWluOiB0aGlzLl9taW4sXG4gICAgICBtYXg6IHRoaXMuX21heCxcbiAgICAgIHN0ZXA6IHRoaXMuX3N0ZXAsXG4gICAgICBtb2RlOiB0aGlzLl9tb2RlLFxuICAgICAgaGFzSW50ZXJ2YWw6IHRoaXMuX2hhc0ludGVydmFsLFxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXG4gICAgfTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmV4cG9ydCB7IFN1YmplY3QsIE1vZGVsIH07XG4iLCJpbXBvcnQgeyBQcmVzZW50ZXIgfSBmcm9tICcuL3ByZXNlbnRlcic7XG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IHsgTW9kZWwgfSBmcm9tICcuL21vZGVsJztcblxudHlwZSBvcHRpb25zVHlwZSA9IHtcbiAgbWluPzogbnVtYmVyLFxuICBtYXg/OiBudW1iZXIsXG4gIHN0ZXA/OiBudW1iZXIsXG4gIG1vZGU/OiBzdHJpbmcsXG4gIGhhc0ludGVydmFsPzogYm9vbGVhbixcbiAgdmFsdWVzPzogbnVtYmVyW11cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XG4gIF9zZWxlY3Rvcjogc3RyaW5nO1xuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XG5cbiAgX21pbiA9IDA7XG4gIF9tYXggPSAzMDA7XG4gIF9zdGVwID0gODI7XG4gIF9tb2RlID0gJ2hvcml6b250YWwnO1xuICBfaGFzSW50ZXJ2YWwgPSBmYWxzZTtcbiAgX3ZhbHVlcyA9IFt0aGlzLl9taW4sIHRoaXMuX21pbiArIHRoaXMuX3N0ZXBdO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1JZDogc3RyaW5nLCBvcHRpb25zPzogb3B0aW9uc1R5cGUpIHtcbiAgICB0aGlzLl9zZWxlY3RvciA9IGVsZW1JZDtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW4gPyBvcHRpb25zLm1pbiA6IHRoaXMuX21pbjtcbiAgICAgIHRoaXMuX21heCA9IG9wdGlvbnMubWF4ID8gb3B0aW9ucy5tYXggOiB0aGlzLl9tYXg7XG4gICAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwID8gb3B0aW9ucy5zdGVwIDogdGhpcy5fc3RlcDtcbiAgICAgIHRoaXMuX21vZGUgPSBvcHRpb25zLm1vZGUgPyBvcHRpb25zLm1vZGUgOiB0aGlzLl9tb2RlO1xuICAgICAgdGhpcy5faGFzSW50ZXJ2YWwgPSBvcHRpb25zLmhhc0ludGVydmFsID8gb3B0aW9ucy5oYXNJbnRlcnZhbCA6IHRoaXMuX2hhc0ludGVydmFsO1xuICAgICAgdGhpcy5fdmFsdWVzID0gb3B0aW9ucy52YWx1ZXMgPyBvcHRpb25zLnZhbHVlcyA6IHRoaXMuX3ZhbHVlcztcbiAgICB9XG4gIH1cblxuICBzZXREYXRhKCkge1xuICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcbiAgICAgIG1vZGU6IHRoaXMuX21vZGUsXG4gICAgICBoYXNJbnRlcnZhbDogdGhpcy5faGFzSW50ZXJ2YWwsXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcbiAgICB9O1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnNldERhdGEoKTtcbiAgICBjb25zdCBtb2RlbDogTW9kZWwgPSBuZXcgTW9kZWwoKTtcbiAgICBtb2RlbC5zZXREYXRhKHRoaXMuX29wdGlvbnMpO1xuICAgIHRoaXMuX29wdGlvbnMgPSBtb2RlbC5nZXREYXRhKCk7XG4gICAgY29uc3QgdmlldyA9IG5ldyBWaWV3KHRoaXMuX3NlbGVjdG9yLCB0aGlzLl9vcHRpb25zKTtcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBuZXcgUHJlc2VudGVyKHZpZXcsIG1vZGVsKTtcbiAgICBtb2RlbC5hdHRhY2gocHJlc2VudGVyKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL21vZHVsZXMvc2xpZGVyJztcblxuLy8gaW1wb3J0IHsgQ29uY3JldGVTdWJqZWN0IH0gZnJvbSAnLi9tb2R1bGVzL2FwcCc7XG4vLyBpbXBvcnQgeyBDb25jcmV0ZU9ic2VydmVyQSwgQ29uY3JldGVPYnNlcnZlckIsIFByZXNlbnRlciB9IGZyb20gJy4vbW9kdWxlcy9wcmVzZW50ZXInO1xuXG5jb25zdCBzbGlkZXIxOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyMScpO1xuc2xpZGVyMS5pbml0KCk7XG5cbmNvbnN0IHNsaWRlcjI6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXIyJywgeyBtaW46IDQwLCBzdGVwOiA2MCwgbWF4OiAyNDUgfSk7XG5zbGlkZXIyLmluaXQoKTtcblxuY29uc3Qgc2xpZGVyMzogU2xpZGVyID0gbmV3IFNsaWRlcignI3NsaWRlcjMnLCB7IG1pbjogLTEwMCwgdmFsdWVzOiBbMzAwXSB9KTtcbnNsaWRlcjMuaW5pdCgpO1xuXG5jb25zdCBzbGlkZXI0OiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyNCcsIHsgbWluOiAtMjcsIGhhc0ludGVydmFsOiB0cnVlLCB2YWx1ZXM6IFs1NSwgMTM3XSB9KTtcbnNsaWRlcjQuaW5pdCgpO1xuXG5jb25zdCBzbGlkZXI1OiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyNScsIHsgaGFzSW50ZXJ2YWw6IHRydWUsIHZhbHVlczogWzI5LCAxMzhdIH0pO1xuc2xpZGVyNS5pbml0KCk7XG5cbi8qKlxuKiDQmtC70LjQtdC90YLRgdC60LjQuSDQutC+0LQuXG4qL1xuXG4vLyBjb25zdCBzdWJqZWN0ID0gbmV3IENvbmNyZXRlU3ViamVjdCgpO1xuXG4vLyBjb25zdCBvYnNlcnZlcjEgPSBuZXcgQ29uY3JldGVPYnNlcnZlckEoKTtcbi8vIHN1YmplY3QuYXR0YWNoKG9ic2VydmVyMSk7XG5cbi8vIGNvbnN0IG9ic2VydmVyMiA9IG5ldyBDb25jcmV0ZU9ic2VydmVyQigpO1xuLy8gc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIyKTtcblxuLy8gc3ViamVjdC5zb21lQnVzaW5lc3NMb2dpYygpO1xuLy8gc3ViamVjdC5zb21lQnVzaW5lc3NMb2dpYygpO1xuXG4vLyBzdWJqZWN0LmRldGFjaChvYnNlcnZlcjIpO1xuXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XG5cbi8qIGNvbnN0IE1WUCA9IHtcbiAgbWFrZU9ic2VydmFibGVTdWJqZWN0KCkge1xuICAgIGNvbnN0IG9ic2VydmVycyA9IFtdO1xuICAgIGNvbnN0IGFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGlmICh0eXBlb2YgbyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYnNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XG4gICAgICAgIGlmIChvYnNlcnZlciA9PT0gbykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb2JzZXJ2ZXIgYWxyZWFkeSBpbiB0aGUgbGlzdCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvYnNlcnZlcnMucHVzaChvKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZXJzW2ldO1xuICAgICAgICBpZiAob2JzZXJ2ZXIgPT09IG8pIHtcbiAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xuICAgIH07XG4gICAgY29uc3Qgbm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIG9ic2VydmVyIGxpc3QgaW4gY2FzZSB0aGUgbGlzdFxuICAgICAgLy8gaXMgbXV0YXRlZCBkdXJpbmcgdGhlIG5vdGlmaWNhdGlvbnMuXG4gICAgICBjb25zdCBvYnNlcnZlcnNTbmFwc2hvdCA9IG9ic2VydmVycy5zbGljZSgwKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzU25hcHNob3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb2JzZXJ2ZXJzU25hcHNob3RbaV0oZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkT2JzZXJ2ZXIsXG4gICAgICByZW1vdmVPYnNlcnZlcixcbiAgICAgIG5vdGlmeU9ic2VydmVycyxcbiAgICAgIG5vdGlmeTogbm90aWZ5T2JzZXJ2ZXJzLFxuICAgIH07XG4gIH0sXG5cbiAgTW9kZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgLy8gY29uc3QgaXRlbXMgPSBbXTtcbiAgICB0aGlzLm9wdGlvbnMgPSAhb3B0aW9ucyA/IHt9IDogb3B0aW9ucztcbiAgICB0aGlzLm1vZGVsQ2hhbmdlZFN1YmplY3QgPSBNVlAubWFrZU9ic2VydmFibGVTdWJqZWN0KCk7XG4gICAgdGhpcy5taW5WYWx1ZSA9IDA7XG4gICAgdGhpcy5tYXhWYWx1ZSA9IDMwMDtcbiAgICB0aGlzLnN0ZXAgPSA1MDtcbiAgICB0aGlzLm1vZGUgPSAnaG9yaXpvbnRhbCc7XG4gICAgdGhpcy50eXBlID0gJ3NpbmdsZSc7XG4gICAgLy8gdGhpcy5hZGRJdGVtID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gICBpZiAoIXZhbHVlKSB7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xuICAgIC8vIH07XG4gICAgLy8gdGhpcy5yZW1vdmVDdXJyZW50SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIGlmICh0aGF0LnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XG4gICAgLy8gICAgIHJldHVybjtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGl0ZW1zLnNwbGljZSh0aGF0LnNlbGVjdGVkSW5kZXgsIDEpO1xuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xuICAgIC8vIH07XG4gICAgLy8gdGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIHJldHVybiBpdGVtcztcbiAgICAvLyB9O1xuICAgIC8vIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgIC8vIHRoaXMuZ2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIHJldHVybiB0aGF0LnNlbGVjdGVkSW5kZXg7XG4gICAgLy8gfTtcbiAgICAvLyB0aGlzLnNldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IHZhbHVlO1xuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xuICAgIC8vIH07XG4gIH0sXG5cbiAgVmlldygpIHtcbiAgICAvLyBjb25zdCB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBzbGlkZXJCb2R5OiBTbGlkZXJCb2R5ID0gbmV3IFNsaWRlckJvZHkoKTtcbiAgICAgIHNsaWRlckJvZHkuaW5pdCgpO1xuXG4gICAgICBjb25zdCBzbGlkZXJUaHVtYjogU2xpZGVyVGh1bWIgPSBuZXcgU2xpZGVyVGh1bWIoKTtcbiAgICAgIHNsaWRlclRodW1iLmluaXQoKTtcblxuICAgICAgY29uc3QgdGlwVmFsdWU6IFRpcFZhbHVlID0gbmV3IFRpcFZhbHVlKCk7XG4gICAgICB0aXBWYWx1ZS5pbml0KCk7XG4gICAgfTtcblxuICAgIC8vIHRoYXQuc2VsZWN0ID0gJCgnPHNlbGVjdC8+JykuYXBwZW5kVG8ocm9vdE9iamVjdCk7XG4gICAgLy8gdGhhdC5zZWxlY3QuYXR0cignc2l6ZScsICc0Jyk7XG4gICAgLy8gdGhhdC5idXR0b25BZGQgPSAkKCc8YnV0dG9uPis8L2J1dHRvbj4nKS5hcHBlbmRUbyhyb290T2JqZWN0KS5oZWlnaHQoMjApO1xuICAgIC8vIHRoYXQuYnV0dG9uUmVtb3ZlID0gJCgnPGJ1dHRvbj4tPC9idXR0b24+JykuYXBwZW5kVG8ocm9vdE9iamVjdCkuaGVpZ2h0KDIwKTtcbiAgICAvLyBtb2RlbC5tb2RlbENoYW5nZWRTdWJqZWN0LmFkZE9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIHZhciBpdGVtcyA9IG1vZGVsLmdldEl0ZW1zKCk7XG4gICAgLy8gICB2YXIgaW5uZXJIVE1MID0gJyc7XG4gICAgLy8gICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgLy8gICAgIGlubmVySFRNTCArPSBcIjxvcHRpb24+XCIgKyBpdGVtc1tpXSArIFwiPC9vcHRpb24+XCI7XG4gICAgLy8gICB9XG4gICAgLy8gICB0aGF0LnNlbGVjdC5odG1sKGlubmVySFRNTCk7XG4gICAgLy8gfSk7XG4gIH0sXG5cbiAgQ29udHJvbGxlcihtb2RlbCwgdmlldykge1xuICAgIHZpZXcuaW5pdCgpO1xuICAgIC8vIHZpZXcuYnV0dG9uQWRkLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgbW9kZWwuYWRkSXRlbShwcm9tcHQoJ2FkZHZhbHVlJykpO1xuICAgIC8vIH0pO1xuICAgIC8vIHZpZXcuYnV0dG9uUmVtb3ZlLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgbW9kZWwucmVtb3ZlQ3VycmVudEl0ZW0oKTtcbiAgICAvLyB9KTtcbiAgICAvLyB2aWV3LnNlbGVjdC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgIG1vZGVsLnNldFNlbGVjdGVkSW5kZXgodmlldy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCk7XG4gICAgLy8gfSk7XG4gIH0sXG59OyAqL1xuXG4vKiAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIHZhciBtb2RlbCA9IG5ldyBPTVZDLk1vZGVsKCk7XG4gIHZhciB2aWV3ID0gbmV3IE9NVkMuVmlldyhtb2RlbCwgJCgnPGRpdi8+JykuYXBwZW5kVG8oJChcImJvZHlcIikpKTtcbiAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgT01WQy5Db250cm9sbGVyKG1vZGVsLCB2aWV3KTtcbn0pOyAqL1xuXG4vLyBjb25zdCBtb2RlbCA9IG5ldyBNVlAuTW9kZWwoKTtcbi8vIGNvbnN0IHZpZXcgPSBuZXcgTVZQLlZpZXcoKTtcbi8vIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgTVZQLkNvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xuXG4vLyBjb250cm9sbGVyKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9