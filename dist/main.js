!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist",i(i.s=3)}([function(e,t,i){var s=i(1),n=i(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};s(n,o);e.exports=n.locals||{}},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},o=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),l=[];function r(e){for(var t=-1,i=0;i<l.length;i++)if(l[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},s=[],n=0;n<e.length;n++){var o=e[n],a=t.base?o[0]+t.base:o[0],h=i[a]||0,m="".concat(a," ").concat(h);i[a]=h+1;var d=r(m),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(l[d].references++,l[d].updater(u)):l.push({identifier:m,updater:E(u,t),references:1}),s.push(m)}return s}function h(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var m,d=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function u(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var o=document.createTextNode(n),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function c(e,t,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var f=null,p=0;function E(e,t){var i,s,n;if(t.singleton){var o=p++;i=f||(f=h(t)),s=u.bind(null,i,o,!1),n=u.bind(null,i,o,!0)}else i=h(t),s=c.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=r(i[s]);l[n].references--}for(var o=a(e,t),h=0;h<i.length;h++){var m=r(i[h]);0===l[m].references&&(l[m].updater(),l.splice(m,1))}i=o}}}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);class s{constructor(e,t){this._elemId=e.slice(1),this._options=t}init(){return this.lineElem=document.getElementById(this._elemId),this.thumbElem=document.createElement("DIV"),this.valueElem=document.createElement("DIV"),this.lineElem}showSliderLine(){this.lineElem.classList.add("slider-body")}getPositionElement(e,t){return(t-this._options.min)*this.lineElem.offsetWidth/(this._options.max-this._options.min)-e.offsetWidth/2+"px"}fillSliderLine(e){this.lineElem.style.background=`linear-gradient(to right, red ${e}px, #e5e5e5 ${e}px)`}showSliderThumb(){return this.thumbElem.classList.add("slider-thumb"),this.lineElem.append(this.thumbElem),console.log(this._options),this.thumbElem.style.left=this.getPositionElement(this.thumbElem,this._options.values[0]),this.fillSliderLine(Number(this.thumbElem.style.left.slice(0,-2))),this.thumbElem}getSliderValue(e){return Math.round((e.offsetLeft+e.offsetWidth/2-this.lineElem.offsetLeft)*(this._options.max-this._options.min)/this.lineElem.offsetWidth+this._options.min)}showSliderValue(){return this.valueElem.classList.add("tip-value"),this.lineElem.append(this.valueElem),this.valueElem.textContent=""+this.getSliderValue(this.thumbElem),this.valueElem.style.left=this.getPositionElement(this.valueElem,Number(this.valueElem.textContent)),this.valueElem}showSliderScale(){this.scaleElem=document.createElement("DIV"),this.scaleElem.classList.add("scale"),this.minElem=document.createElement("SPAN"),this.minElem.textContent=""+this._options.min,this.minElem.style.position="absolute",this.maxElem=document.createElement("SPAN"),this.maxElem.textContent=""+this._options.max,this.maxElem.style.position="absolute",this.lineElem.append(this.scaleElem),this.scaleElem.append(this.minElem),this.scaleElem.append(this.maxElem),this.minElem.style.left=this.scaleElem.offsetLeft-this.minElem.offsetWidth/2+"px",this.maxElem.style.left=this.scaleElem.offsetWidth+this.scaleElem.offsetLeft-this.maxElem.offsetWidth/2+"px",this.mark=(this._options.max-this._options.min)/this._options.step;for(let e=1;e<this.mark;e++)this.middleElem=document.createElement("SPAN"),this.middleElem.textContent=""+(this._options.step*e+this._options.min),this.middleElem.style.position="absolute",this.maxElem.insertAdjacentElement("beforebegin",this.middleElem),(Number(this.middleElem.textContent)<100||Number(this.middleElem.textContent)<1e3)&&(this.middleElem.style.left=(Number(this.middleElem.textContent)-this._options.min)*this.scaleElem.offsetWidth/(this._options.max-this._options.min)+this.scaleElem.offsetLeft-this.middleElem.offsetWidth/2+"px")}}class n{constructor(){this.bindedOnMouseMove=this.onMouseMove.bind(this),this.bindedOnMouseUp=this.onMouseUp.bind(this),this.bindedOnMouseDown=this.onMouseDown.bind(this)}onMouseMove(e){const t=this.thumbElem.offsetWidth/2;let i=e.clientX-this.lineElem.getBoundingClientRect().left-t;const{min:s,max:n}=this._options;i<-t&&(i=-t);const o=this.lineElem.offsetWidth-t;i>o&&(i=o),this.thumbElem.style.left=i+"px",this.lineElem.style.background=`linear-gradient(to right, red ${i}px, #e5e5e5 ${i}px)`,this.valueElem.style.left=i-(this.valueElem.offsetWidth-this.thumbElem.offsetWidth)/2+"px",this.valueElem.textContent=""+Math.round((i+t)*(n-s)/this.lineElem.offsetWidth+s)}onMouseUp(){document.removeEventListener("mouseup",this.bindedOnMouseUp),document.removeEventListener("mousemove",this.bindedOnMouseMove)}onMouseDown(e){e.preventDefault(),document.addEventListener("mousemove",this.bindedOnMouseMove),document.addEventListener("mouseup",this.bindedOnMouseUp)}static returnFalse(){return!1}sliderRun(){this.thumbElem.addEventListener("mousedown",this.bindedOnMouseDown),this.lineElem.addEventListener("click",this.bindedOnMouseMove),this.thumbElem.addEventListener("dragstart",n.returnFalse)}communicate(e){this._selector=e.getSelector(),this._options=e.getData();const t=new s(this._selector,this._options);this.lineElem=t.init(),t.showSliderLine(),this.thumbElem=t.showSliderThumb(),this.valueElem=t.showSliderValue(),this.sliderRun(),t.showSliderScale(),console.log("ModelObserver: Reacted to the event.")}}class o{constructor(){this.observers=[]}attach(e){this.observers.includes(e)&&console.log("Model: Presenter has been attached already."),console.log("Model: Attached a presenter."),this.observers.push(e)}detach(e){const t=this.observers.indexOf(e);-1===t&&console.log("Subject: Nonexistent observer."),this.observers.splice(t,1),console.log("Subject: Detached an observer.")}notify(){console.log("Model: Notifying observers...");for(const e of this.observers)e.communicate(this)}setData(e,t){this._min=e.min,this._max=e.max,this._step=e.step,this._kind=e.kind,this._isBasic=e.isBasic,this._values=e.values,this._selector=t,console.log("Model: My state has just changed"),this.notify()}getSelector(){return this._selector}getData(){return{min:this._min,max:this._max,step:this._step,kind:this._kind,isBasic:this._isBasic,values:this._values}}}class l{constructor(e,t){this._min=0,this._max=300,this._step=82,this._kind="horizontal",this._isBasic=!0,this._values=[this._step],this._selector=e,t&&(this._min=t.min?t.min:this._min,this._max=t.max?t.max:this._max,this._step=t.step?t.step:this._step,this._kind=t.kind?t.kind:this._kind,this._isBasic=t.isBasic?t.isBasic:this._isBasic,this._values=t.values?t.values:[this._step])}setData(){this._options={min:this._min,max:this._max,step:this._step,kind:this._kind,isBasic:this._isBasic,values:this._values}}init(){const e=new o,t=new n;e.attach(t),this.setData(),e.setData(this._options,this._selector)}}new l("#slider1").init();new l("#slider2",{min:40,step:60,max:245}).init();new l("#slider3",{values:[300]}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/MjFiYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9wcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImxvY2FscyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiVmlldyIsImVsZW1JZCIsInRoaXMiLCJfZWxlbUlkIiwic2xpY2UiLCJfb3B0aW9ucyIsImxpbmVFbGVtIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0aHVtYkVsZW0iLCJ2YWx1ZUVsZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJlbGVtIiwidmFsIiwibWluIiwib2Zmc2V0V2lkdGgiLCJtYXgiLCJiYWNrZ3JvdW5kIiwiYXBwZW5kIiwiY29uc29sZSIsImxvZyIsImxlZnQiLCJnZXRQb3NpdGlvbkVsZW1lbnQiLCJ2YWx1ZXMiLCJmaWxsU2xpZGVyTGluZSIsIk51bWJlciIsIk1hdGgiLCJyb3VuZCIsIm9mZnNldExlZnQiLCJ0ZXh0Q29udGVudCIsImdldFNsaWRlclZhbHVlIiwic2NhbGVFbGVtIiwibWluRWxlbSIsInBvc2l0aW9uIiwibWF4RWxlbSIsIm1hcmsiLCJzdGVwIiwibWlkZGxlRWxlbSIsImluc2VydEFkamFjZW50RWxlbWVudCIsImJpbmRlZE9uTW91c2VNb3ZlIiwib25Nb3VzZU1vdmUiLCJiaW5kZWRPbk1vdXNlVXAiLCJvbk1vdXNlVXAiLCJiaW5kZWRPbk1vdXNlRG93biIsIm9uTW91c2VEb3duIiwiZXZlbnQiLCJkZWx0YSIsInRodW1iUG9pbnQiLCJjbGllbnRYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmlnaHRFZGdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwibW9kZWwiLCJfc2VsZWN0b3IiLCJnZXRTZWxlY3RvciIsImdldERhdGEiLCJ2aWV3IiwiaW5pdCIsInNob3dTbGlkZXJMaW5lIiwic2hvd1NsaWRlclRodW1iIiwic2hvd1NsaWRlclZhbHVlIiwic2xpZGVyUnVuIiwic2hvd1NsaWRlclNjYWxlIiwiTW9kZWwiLCJvYnNlcnZlcnMiLCJvYnNlcnZlciIsImluY2x1ZGVzIiwib2JzZXJ2ZXJJbmRleCIsImluZGV4T2YiLCJjb21tdW5pY2F0ZSIsInNlbGVjdG9yIiwiX21pbiIsIl9tYXgiLCJfc3RlcCIsIl9raW5kIiwia2luZCIsIl9pc0Jhc2ljIiwiaXNCYXNpYyIsIl92YWx1ZXMiLCJub3RpZnkiLCJwcmVzZW50ZXIiLCJhdHRhY2giLCJz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QyxPQUNsRHFDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0XCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIGltcG9ydCBTY2FsZSBmcm9tICcuL3NjYWxlJztcclxuXHJcbnR5cGUgb3B0aW9uc1R5cGUgPSB7XHJcbiAgbWluPzogbnVtYmVyLFxyXG4gIG1heD86IG51bWJlcixcclxuICBzdGVwPzogbnVtYmVyLFxyXG4gIGtpbmQ/OiBzdHJpbmcsXHJcbiAgaXNCYXNpYz86IGJvb2xlYW4sXHJcbiAgdmFsdWVzPzogbnVtYmVyW11cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXcge1xyXG4gIF9lbGVtSWQ6IHN0cmluZztcclxuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XHJcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIHRodW1iRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcclxuICBzY2FsZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1pbkVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1heEVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1pZGRsZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIG1hcms6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM6IG9wdGlvbnNUeXBlKSB7XHJcbiAgICB0aGlzLl9lbGVtSWQgPSBlbGVtSWQuc2xpY2UoMSk7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmxpbmVFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fZWxlbUlkKTtcclxuICAgIHRoaXMudGh1bWJFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJyk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpO1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUVsZW07XHJcbiAgfVxyXG5cclxuICBzaG93U2xpZGVyTGluZSgpIHtcclxuICAgIHRoaXMubGluZUVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWJvZHknKTtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9uRWxlbWVudChlbGVtOiBIVE1MRWxlbWVudCwgdmFsOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBgJHsoKHZhbCAtIHRoaXMuX29wdGlvbnMubWluKSAqIHRoaXMubGluZUVsZW0ub2Zmc2V0V2lkdGgpXHJcbiAgICAgIC8gKHRoaXMuX29wdGlvbnMubWF4IC0gdGhpcy5fb3B0aW9ucy5taW4pIC0gZWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gIH1cclxuXHJcbiAgZmlsbFNsaWRlckxpbmUobGVuZ3RoOiBudW1iZXIpIHtcclxuICAgIHRoaXMubGluZUVsZW0uc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJlZCAke2xlbmd0aH1weCwgI2U1ZTVlNSAke2xlbmd0aH1weClgO1xyXG4gIH1cclxuXHJcbiAgc2hvd1NsaWRlclRodW1iKCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLXRodW1iJyk7XHJcbiAgICB0aGlzLmxpbmVFbGVtLmFwcGVuZCh0aGlzLnRodW1iRWxlbSk7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLl9vcHRpb25zKTtcclxuICAgIHRoaXMudGh1bWJFbGVtLnN0eWxlLmxlZnQgPSB0aGlzLmdldFBvc2l0aW9uRWxlbWVudCh0aGlzLnRodW1iRWxlbSwgdGhpcy5fb3B0aW9ucy52YWx1ZXNbMF0pO1xyXG4gICAgdGhpcy5maWxsU2xpZGVyTGluZShOdW1iZXIodGhpcy50aHVtYkVsZW0uc3R5bGUubGVmdC5zbGljZSgwLCAtMikpKTtcclxuICAgIHJldHVybiB0aGlzLnRodW1iRWxlbTtcclxuICB9XHJcblxyXG4gIGdldFNsaWRlclZhbHVlKGVsZW06IEhUTUxFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgoKGVsZW0ub2Zmc2V0TGVmdFxyXG4gICAgICArIGVsZW0ub2Zmc2V0V2lkdGggLyAyIC0gdGhpcy5saW5lRWxlbS5vZmZzZXRMZWZ0KVxyXG4gICAgICAqICh0aGlzLl9vcHRpb25zLm1heCAtIHRoaXMuX29wdGlvbnMubWluKSlcclxuICAgICAgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgdGhpcy5fb3B0aW9ucy5taW4pO1xyXG4gIH1cclxuXHJcbiAgc2hvd1NsaWRlclZhbHVlKCkge1xyXG4gICAgdGhpcy52YWx1ZUVsZW0uY2xhc3NMaXN0LmFkZCgndGlwLXZhbHVlJyk7XHJcbiAgICB0aGlzLmxpbmVFbGVtLmFwcGVuZCh0aGlzLnZhbHVlRWxlbSk7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2V0U2xpZGVyVmFsdWUodGhpcy50aHVtYkVsZW0pfWA7XHJcbiAgICB0aGlzLnZhbHVlRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5nZXRQb3NpdGlvbkVsZW1lbnQodGhpcy52YWx1ZUVsZW0sIE51bWJlcih0aGlzLnZhbHVlRWxlbS50ZXh0Q29udGVudCkpO1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVFbGVtO1xyXG4gIH1cclxuXHJcbiAgc2hvd1NsaWRlclNjYWxlKCkge1xyXG4gICAgdGhpcy5zY2FsZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcclxuICAgIHRoaXMuc2NhbGVFbGVtLmNsYXNzTGlzdC5hZGQoJ3NjYWxlJyk7XHJcbiAgICB0aGlzLm1pbkVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XHJcbiAgICB0aGlzLm1pbkVsZW0udGV4dENvbnRlbnQgPSBgJHt0aGlzLl9vcHRpb25zLm1pbn1gO1xyXG4gICAgdGhpcy5taW5FbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIHRoaXMubWF4RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgIHRoaXMubWF4RWxlbS50ZXh0Q29udGVudCA9IGAke3RoaXMuX29wdGlvbnMubWF4fWA7XHJcbiAgICB0aGlzLm1heEVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgdGhpcy5saW5lRWxlbS5hcHBlbmQodGhpcy5zY2FsZUVsZW0pO1xyXG4gICAgdGhpcy5zY2FsZUVsZW0uYXBwZW5kKHRoaXMubWluRWxlbSk7XHJcbiAgICB0aGlzLnNjYWxlRWxlbS5hcHBlbmQodGhpcy5tYXhFbGVtKTtcclxuICAgIHRoaXMubWluRWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdCAtIHRoaXMubWluRWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gICAgdGhpcy5tYXhFbGVtLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnNjYWxlRWxlbS5vZmZzZXRXaWR0aCArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnRcclxuICAgICAgLSB0aGlzLm1heEVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgIHRoaXMubWFyayA9ICh0aGlzLl9vcHRpb25zLm1heCAtIHRoaXMuX29wdGlvbnMubWluKSAvIHRoaXMuX29wdGlvbnMuc3RlcDtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5tYXJrOyBpKyspIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2xvb3AgZm9yJyk7XHJcbiAgICAgIHRoaXMubWlkZGxlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcclxuICAgICAgdGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50ID0gYCR7dGhpcy5fb3B0aW9ucy5zdGVwICogaSArIHRoaXMuX29wdGlvbnMubWlufWA7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZWxlbS50ZXh0Q29udGVudCk7XHJcbiAgICAgIHRoaXMubWlkZGxlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgIHRoaXMubWF4RWxlbS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgdGhpcy5taWRkbGVFbGVtKTtcclxuICAgICAgaWYgKE51bWJlcih0aGlzLm1pZGRsZUVsZW0udGV4dENvbnRlbnQpIDwgMTAwKSB7XHJcbiAgICAgICAgLy8gdGhpcy5lbGVtLnN0eWxlLmxlZnQgPSBgJHtOdW1iZXIodGhpcy5lbGVtLnRleHRDb250ZW50KSAqIHRoaXMuc2NhbGUub2Zmc2V0V2lkdGggLyB0aGlzLl9tYXggKyAyMH1weGA7XHJcbiAgICAgICAgdGhpcy5taWRkbGVFbGVtLnN0eWxlLmxlZnQgPSBgJHsoKChOdW1iZXIodGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50KSAtIHRoaXMuX29wdGlvbnMubWluKVxyXG4gICAgICAgICAgKiB0aGlzLnNjYWxlRWxlbS5vZmZzZXRXaWR0aCkgLyAodGhpcy5fb3B0aW9ucy5tYXggLSB0aGlzLl9vcHRpb25zLm1pbikpXHJcbiAgICAgICAgICArIHRoaXMuc2NhbGVFbGVtLm9mZnNldExlZnQgLSB0aGlzLm1pZGRsZUVsZW0ub2Zmc2V0V2lkdGggLyAyfXB4YDtcclxuICAgICAgfSBlbHNlIGlmIChOdW1iZXIodGhpcy5taWRkbGVFbGVtLnRleHRDb250ZW50KSA8IDEwMDApIHtcclxuICAgICAgICAvLyB0aGlzLmVsZW0uc3R5bGUubGVmdCA9IGAke051bWJlcih0aGlzLmVsZW0udGV4dENvbnRlbnQpICogdGhpcy5zY2FsZS5vZmZzZXRXaWR0aCAvIHRoaXMuX21heCArIDE2fXB4YDtcclxuICAgICAgICB0aGlzLm1pZGRsZUVsZW0uc3R5bGUubGVmdCA9IGAkeygoKE51bWJlcih0aGlzLm1pZGRsZUVsZW0udGV4dENvbnRlbnQpIC0gdGhpcy5fb3B0aW9ucy5taW4pXHJcbiAgICAgICAgICAqIHRoaXMuc2NhbGVFbGVtLm9mZnNldFdpZHRoKSAvICh0aGlzLl9vcHRpb25zLm1heCAtIHRoaXMuX29wdGlvbnMubWluKSlcclxuICAgICAgICAgICsgdGhpcy5zY2FsZUVsZW0ub2Zmc2V0TGVmdCAtIHRoaXMubWlkZGxlRWxlbS5vZmZzZXRXaWR0aCAvIDJ9cHhgO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHRoaXMubWF4Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCB0aGlzLmVsZW0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gc2hvd1NjYWxlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyKSB7XHJcbiAgLy8gICB0aGlzLl9taW5WYWx1ZSA9IG1pbjtcclxuICAvLyAgIHRoaXMuX21heFZhbHVlID0gbWF4O1xyXG4gIC8vICAgdGhpcy5fc3RlcFZhbHVlID0gc3RlcDtcclxuICAvLyAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3BhcmVudElkKTtcclxuICAvLyAgIGNvbnN0IHNjYWxlOiBTY2FsZSA9IG5ldyBTY2FsZSh0aGlzLl9zZWxlY3RvciwgdGhpcy5fbWluVmFsdWUsIHRoaXMuX21heFZhbHVlLCB0aGlzLl9zdGVwVmFsdWUpO1xyXG4gIC8vICAgc2NhbGUuaW5pdCgpO1xyXG4gIC8vIH1cclxufVxyXG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuaW1wb3J0IFN1YmplY3QgZnJvbSAnLi9hcHAnO1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwnO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xyXG5cclxudHlwZSBvcHRpb25zVHlwZSA9IHtcclxuICBtaW4/OiBudW1iZXIsXHJcbiAgbWF4PzogbnVtYmVyLFxyXG4gIHN0ZXA/OiBudW1iZXIsXHJcbiAga2luZD86IHN0cmluZyxcclxuICBpc0Jhc2ljPzogYm9vbGVhbixcclxuICB2YWx1ZXM/OiBudW1iZXJbXVxyXG59O1xyXG5cclxuLyoqXHJcbiog0JjQvdGC0LXRgNGE0LXQudGBINCd0LDQsdC70Y7QtNCw0YLQtdC70Y8g0L7QsdGK0Y/QstC70Y/QtdGCINC80LXRgtC+0LQg0YPQstC10LTQvtC80LvQtdC90LjRjywg0LrQvtGC0L7RgNGL0Lkg0LjQt9C00LDRgtC10LvQuFxyXG4qINC40YHQv9C+0LvRjNC30YPRjtGCINC00LvRjyDQvtC/0L7QstC10YnQtdC90LjRjyDRgdCy0L7QuNGFINC/0L7QtNC/0LjRgdGH0LjQutC+0LIuXHJcbiovXHJcbmludGVyZmFjZSBPYnNlcnZlciB7XHJcbiAgLy8g0J/QvtC70YPRh9C40YLRjCDQvtCx0L3QvtCy0LvQtdC90LjQtSDQvtGCINGB0YPQsdGK0LXQutGC0LAuXHJcbiAgY29tbXVuaWNhdGUoc3ViamVjdDogU3ViamVjdCk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4qINCa0L7QvdC60YDQtdGC0L3Ri9C1INCd0LDQsdC70Y7QtNCw0YLQtdC70Lgg0YDQtdCw0LPQuNGA0YPRjtGCINC90LAg0L7QsdC90L7QstC70LXQvdC40Y8sINCy0YvQv9GD0YnQtdC90L3Ri9C1INCY0LfQtNCw0YLQtdC70LXQvCwg0LpcclxuKiDQutC+0YLQvtGA0L7QvNGDINC+0L3QuCDQv9GA0LjQutGA0LXQv9C70LXQvdGLLlxyXG4qL1xyXG4vLyBjbGFzcyBDb25jcmV0ZU9ic2VydmVyQSBpbXBsZW1lbnRzIE9ic2VydmVyIHtcclxuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcclxuLy8gICAgIGlmIChzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIHN1YmplY3Quc3RhdGUgPCAzKSB7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKCdDb25jcmV0ZU9ic2VydmVyQTogUmVhY3RlZCB0byB0aGUgZXZlbnQuJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG5jbGFzcyBQcmVzZW50ZXIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbiAgLy8gbW9kZWxPcHRpb25zOiB7bWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzdGVwOiBudW1iZXJ9O1xyXG4gIHByaXZhdGUgYmluZGVkT25Nb3VzZU1vdmU7XHJcbiAgcHJpdmF0ZSBiaW5kZWRPbk1vdXNlVXA7XHJcbiAgcHJpdmF0ZSBiaW5kZWRPbk1vdXNlRG93bjtcclxuICBfc2VsZWN0b3I6IHN0cmluZztcclxuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XHJcbiAgbGluZUVsZW06IEhUTUxFbGVtZW50O1xyXG4gIHRodW1iRWxlbTogSFRNTEVsZW1lbnQ7XHJcbiAgdmFsdWVFbGVtOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmJpbmRlZE9uTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlVXAgPSB0aGlzLm9uTW91c2VVcC5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5iaW5kZWRPbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIC8vIHByaXZhdGUgYmluZGVkT25Nb3VzZVVwID0gdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKTtcclxuXHJcbiAgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IGRlbHRhID0gdGhpcy50aHVtYkVsZW0ub2Zmc2V0V2lkdGggLyAyO1xyXG4gICAgbGV0IHRodW1iUG9pbnQgPSBldmVudC5jbGllbnRYIC0gdGhpcy5saW5lRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGVsdGE7XHJcbiAgICAvLyBjb25zdCBtaW4gPSB0aGlzLl9vcHRpb25zLm1pbjtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbWluLFxyXG4gICAgICBtYXgsXHJcbiAgICAgIC8vIHN0ZXAsXHJcbiAgICAgIC8vIGtpbmQsXHJcbiAgICAgIC8vIGlzQmFzaWMsXHJcbiAgICAgIC8vIHZhbHVlc1xyXG4gICAgfSA9IHRoaXMuX29wdGlvbnM7XHJcblxyXG4gICAgLy8g0LrRg9GA0YHQvtGAINCy0YvRiNC10Lsg0LjQtyDRgdC70LDQudC00LXRgNCwID0+INC+0YHRgtCw0LLQuNGC0Ywg0LHQtdCz0YPQvdC+0Log0LIg0LXQs9C+INCz0YDQsNC90LjRhtCw0YUuXHJcbiAgICBpZiAodGh1bWJQb2ludCA8IC1kZWx0YSkge1xyXG4gICAgICB0aHVtYlBvaW50ID0gLWRlbHRhO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmlnaHRFZGdlID0gdGhpcy5saW5lRWxlbS5vZmZzZXRXaWR0aCAtIGRlbHRhO1xyXG4gICAgaWYgKHRodW1iUG9pbnQgPiByaWdodEVkZ2UpIHtcclxuICAgICAgdGh1bWJQb2ludCA9IHJpZ2h0RWRnZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRodW1iRWxlbS5zdHlsZS5sZWZ0ID0gYCR7dGh1bWJQb2ludH1weGA7XHJcbiAgICB0aGlzLmxpbmVFbGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCByZWQgJHt0aHVtYlBvaW50fXB4LCAjZTVlNWU1ICR7dGh1bWJQb2ludH1weClgO1xyXG4gICAgdGhpcy52YWx1ZUVsZW0uc3R5bGUubGVmdCA9IGAke3RodW1iUG9pbnQgLSAodGhpcy52YWx1ZUVsZW0ub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCkgLyAyfXB4YDtcclxuICAgIHRoaXMudmFsdWVFbGVtLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZCgoKHRodW1iUG9pbnRcclxuICAgICAgKyBkZWx0YSkgKiAobWF4IC0gbWluKSkgLyB0aGlzLmxpbmVFbGVtLm9mZnNldFdpZHRoICsgbWluKX1gO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZVVwKCk6IHZvaWQge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYmluZGVkT25Nb3VzZVVwKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYmluZGVkT25Nb3VzZU1vdmUpO1xyXG4gIH1cclxuXHJcbiAgb25Nb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5iaW5kZWRPbk1vdXNlVXApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJldHVybkZhbHNlKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc2xpZGVyUnVuKCkge1xyXG4gICAgdGhpcy50aHVtYkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5iaW5kZWRPbk1vdXNlRG93bik7XHJcbiAgICB0aGlzLmxpbmVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5iaW5kZWRPbk1vdXNlTW92ZSk7XHJcbiAgICB0aGlzLnRodW1iRWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBQcmVzZW50ZXIucmV0dXJuRmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgY29tbXVuaWNhdGUobW9kZWw6IE1vZGVsKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IG1vZGVsLmdldFNlbGVjdG9yKCk7XHJcbiAgICB0aGlzLl9vcHRpb25zID0gbW9kZWwuZ2V0RGF0YSgpO1xyXG4gICAgY29uc3QgdmlldzogVmlldyA9IG5ldyBWaWV3KHRoaXMuX3NlbGVjdG9yLCB0aGlzLl9vcHRpb25zKTtcclxuICAgIHRoaXMubGluZUVsZW0gPSB2aWV3LmluaXQoKTtcclxuICAgIHZpZXcuc2hvd1NsaWRlckxpbmUoKTtcclxuICAgIHRoaXMudGh1bWJFbGVtID0gdmlldy5zaG93U2xpZGVyVGh1bWIoKTtcclxuICAgIHRoaXMudmFsdWVFbGVtID0gdmlldy5zaG93U2xpZGVyVmFsdWUoKTtcclxuICAgIHRoaXMuc2xpZGVyUnVuKCk7XHJcbiAgICB2aWV3LnNob3dTbGlkZXJTY2FsZSgpO1xyXG4gICAgY29uc29sZS5sb2coJ01vZGVsT2JzZXJ2ZXI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gY2xhc3MgVmlld09ic2VydmVyIGltcGxlbWVudHMgT2JzZXJ2ZXIge1xyXG4vLyAgIHVwZGF0ZSh2aWV3KSB7XHJcblxyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gY2xhc3MgQ29uY3JldGVPYnNlcnZlckIgaW1wbGVtZW50cyBPYnNlcnZlciB7XHJcbi8vICAgaXNTdWJqZWN0U2F0aXNmaWVzKHN1YmplY3QpIHtcclxuLy8gICAgIHJldHVybiBzdWJqZWN0IGluc3RhbmNlb2YgQ29uY3JldGVTdWJqZWN0ICYmIChzdWJqZWN0LnN0YXRlID09PSAwIHx8IHN1YmplY3Quc3RhdGUgPj0gMik7XHJcbi8vICAgfVxyXG5cclxuLy8gICBwdWJsaWMgdXBkYXRlKHN1YmplY3Q6IFN1YmplY3QpOiB2b2lkIHtcclxuLy8gICAgIGlmICh0aGlzLmlzU3ViamVjdFNhdGlzZmllcyhzdWJqZWN0KSkge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygnQ29uY3JldGVPYnNlcnZlckI6IFJlYWN0ZWQgdG8gdGhlIGV2ZW50LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IHsgT2JzZXJ2ZXIsIENvbmNyZXRlT2JzZXJ2ZXJBLCBDb25jcmV0ZU9ic2VydmVyQiwgUHJlc2VudGVyIH07XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG5leHBvcnQgeyBPYnNlcnZlciwgUHJlc2VudGVyIH07XHJcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5pbXBvcnQgU3ViamVjdCBmcm9tICcuL2FwcCc7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJy4vcHJlc2VudGVyJztcclxuXHJcbnR5cGUgb3B0aW9ucyA9IHtcclxuICBtaW4/OiBudW1iZXI7XHJcbiAgbWF4PzogbnVtYmVyO1xyXG4gIHN0ZXA/OiBudW1iZXI7XHJcbiAga2luZD86IHN0cmluZztcclxuICBpc0Jhc2ljPzogYm9vbGVhbjtcclxuICB2YWx1ZXM/OiBudW1iZXJbXTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIGltcGxlbWVudHMgU3ViamVjdCB7XHJcbiAgcHJpdmF0ZSBfbWluOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfbWF4OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfc3RlcDogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2tpbmQ6IHN0cmluZztcclxuICBwcml2YXRlIF9pc0Jhc2ljOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX3ZhbHVlczogbnVtYmVyW107XHJcbiAgX3NlbGVjdG9yOiBzdHJpbmc7XHJcblxyXG4gIC8vIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBvcHRpb25zKSB7XHJcbiAgLy8gICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxyXG4gIC8vICAgdGhpcy5fbWluID0gb3B0aW9ucy5taW4gPyBvcHRpb25zLm1pbiA6IDA7XHJcbiAgLy8gICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogMzAwO1xyXG4gIC8vICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcCA/IG9wdGlvbnMuc3RlcCA6IDUwO1xyXG4gIC8vICAgdGhpcy5fa2luZCA9IG9wdGlvbnMua2luZCA/IG9wdGlvbnMua2luZCA6ICdob3Jpem9udGFsJztcclxuICAvLyAgIHRoaXMuX2lzQmFzaWMgPSBvcHRpb25zLmlzQmFzaWMgPyBvcHRpb25zLmlzQmFzaWMgOiB0cnVlO1xyXG4gIC8vIHRoaXMubm90aWZ5KCk7XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAgKiBAdHlwZSB7T2JzZXJ2ZXJbXX0g0KHQv9C40YHQvtC6INC/0L7QtNC/0LjRgdGH0LjQutC+0LIuINCSINGA0LXQsNC70YzQvdC+0Lkg0LbQuNC30L3QuCDRgdC/0LjRgdC+0LpcclxuICAgKiDQv9C+0LTQv9C40YHRh9C40LrQvtCyINC80L7QttC10YIg0YXRgNCw0L3QuNGC0YzRgdGPINCyINCx0L7Qu9C10LUg0L/QvtC00YDQvtCx0L3QvtC8INCy0LjQtNC1ICjQutC70LDRgdGB0LjRhNC40YbQuNGA0YPQtdGC0YHRjyDQv9C+XHJcbiAgICog0YLQuNC/0YMg0YHQvtCx0YvRgtC40Y8g0Lgg0YIu0LQuKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgb2JzZXJ2ZXJzOiBPYnNlcnZlcltdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqINCc0LXRgtC+0LTRiyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQv9C+0LTQv9C40YHQutC+0LkuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaChvYnNlcnZlcjogT2JzZXJ2ZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLm9ic2VydmVycy5pbmNsdWRlcyhvYnNlcnZlcik7XHJcbiAgICBpZiAoaXNFeGlzdCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTW9kZWw6IFByZXNlbnRlciBoYXMgYmVlbiBhdHRhY2hlZCBhbHJlYWR5LicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdNb2RlbDogQXR0YWNoZWQgYSBwcmVzZW50ZXIuJyk7XHJcbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZXRhY2gob2JzZXJ2ZXI6IE9ic2VydmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlckluZGV4ID0gdGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XHJcbiAgICBpZiAob2JzZXJ2ZXJJbmRleCA9PT0gLTEpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1N1YmplY3Q6IE5vbmV4aXN0ZW50IG9ic2VydmVyLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShvYnNlcnZlckluZGV4LCAxKTtcclxuICAgIGNvbnNvbGUubG9nKCdTdWJqZWN0OiBEZXRhY2hlZCBhbiBvYnNlcnZlci4nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqINCX0LDQv9GD0YHQuiDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsiDQutCw0LbQtNC+0Lwg0L/QvtC00L/QuNGB0YfQuNC60LUuXHJcbiAgICovXHJcbiAgcHVibGljIG5vdGlmeSgpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKCdNb2RlbDogTm90aWZ5aW5nIG9ic2VydmVycy4uLicpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XHJcbiAgICBmb3IgKGNvbnN0IG9ic2VydmVyIG9mIHRoaXMub2JzZXJ2ZXJzKSB7XHJcbiAgICAgIG9ic2VydmVyLmNvbW11bmljYXRlKHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGF0YShvcHRpb25zOiBvcHRpb25zLCBzZWxlY3Rvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbjtcclxuICAgIHRoaXMuX21heCA9IG9wdGlvbnMubWF4O1xyXG4gICAgdGhpcy5fc3RlcCA9IG9wdGlvbnMuc3RlcDtcclxuICAgIHRoaXMuX2tpbmQgPSBvcHRpb25zLmtpbmQ7XHJcbiAgICB0aGlzLl9pc0Jhc2ljID0gb3B0aW9ucy5pc0Jhc2ljO1xyXG4gICAgdGhpcy5fdmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG4gICAgY29uc29sZS5sb2coJ01vZGVsOiBNeSBzdGF0ZSBoYXMganVzdCBjaGFuZ2VkJyk7XHJcbiAgICB0aGlzLm5vdGlmeSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0b3IoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBnZXREYXRhKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWluOiB0aGlzLl9taW4sXHJcbiAgICAgIG1heDogdGhpcy5fbWF4LFxyXG4gICAgICBzdGVwOiB0aGlzLl9zdGVwLFxyXG4gICAgICBraW5kOiB0aGlzLl9raW5kLFxyXG4gICAgICBpc0Jhc2ljOiB0aGlzLl9pc0Jhc2ljLFxyXG4gICAgICB2YWx1ZXM6IHRoaXMuX3ZhbHVlcyxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFByZXNlbnRlciB9IGZyb20gJy4vcHJlc2VudGVyJztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwnO1xyXG5cclxudHlwZSBvcHRpb25zVHlwZSA9IHtcclxuICBtaW4/OiBudW1iZXIsXHJcbiAgbWF4PzogbnVtYmVyLFxyXG4gIHN0ZXA/OiBudW1iZXIsXHJcbiAga2luZD86IHN0cmluZyxcclxuICBpc0Jhc2ljPzogYm9vbGVhbixcclxuICB2YWx1ZXM/OiBudW1iZXJbXVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcclxuICBfc2VsZWN0b3I6IHN0cmluZztcclxuICBfb3B0aW9uczogb3B0aW9uc1R5cGU7XHJcblxyXG4gIF9taW4gPSAwO1xyXG4gIF9tYXggPSAzMDA7XHJcbiAgX3N0ZXAgPSA4MjtcclxuICBfa2luZCA9ICdob3Jpem9udGFsJztcclxuICBfaXNCYXNpYyA9IHRydWU7XHJcbiAgX3ZhbHVlcyA9IFt0aGlzLl9zdGVwXTtcclxuXHJcbiAgY29uc3RydWN0b3IoZWxlbUlkOiBzdHJpbmcsIG9wdGlvbnM/OiBvcHRpb25zVHlwZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBlbGVtSWQ7XHJcbiAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICB0aGlzLl9taW4gPSBvcHRpb25zLm1pbiA/IG9wdGlvbnMubWluIDogdGhpcy5fbWluO1xyXG4gICAgICB0aGlzLl9tYXggPSBvcHRpb25zLm1heCA/IG9wdGlvbnMubWF4IDogdGhpcy5fbWF4O1xyXG4gICAgICB0aGlzLl9zdGVwID0gb3B0aW9ucy5zdGVwID8gb3B0aW9ucy5zdGVwIDogdGhpcy5fc3RlcDtcclxuICAgICAgdGhpcy5fa2luZCA9IG9wdGlvbnMua2luZCA/IG9wdGlvbnMua2luZCA6IHRoaXMuX2tpbmQ7XHJcbiAgICAgIHRoaXMuX2lzQmFzaWMgPSBvcHRpb25zLmlzQmFzaWMgPyBvcHRpb25zLmlzQmFzaWMgOiB0aGlzLl9pc0Jhc2ljO1xyXG4gICAgICB0aGlzLl92YWx1ZXMgPSBvcHRpb25zLnZhbHVlcyA/IG9wdGlvbnMudmFsdWVzIDogW3RoaXMuX3N0ZXBdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGF0YSgpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSB7XHJcbiAgICAgIG1pbjogdGhpcy5fbWluLFxyXG4gICAgICBtYXg6IHRoaXMuX21heCxcclxuICAgICAgc3RlcDogdGhpcy5fc3RlcCxcclxuICAgICAga2luZDogdGhpcy5fa2luZCxcclxuICAgICAgaXNCYXNpYzogdGhpcy5faXNCYXNpYyxcclxuICAgICAgdmFsdWVzOiB0aGlzLl92YWx1ZXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIGNvbnN0IG1vZGVsOiBNb2RlbCA9IG5ldyBNb2RlbCgpO1xyXG4gICAgY29uc3QgcHJlc2VudGVyID0gbmV3IFByZXNlbnRlcigpO1xyXG4gICAgbW9kZWwuYXR0YWNoKHByZXNlbnRlcik7XHJcbiAgICB0aGlzLnNldERhdGEoKTtcclxuICAgIG1vZGVsLnNldERhdGEodGhpcy5fb3B0aW9ucywgdGhpcy5fc2VsZWN0b3IpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9tb2R1bGVzL3NsaWRlcic7XHJcblxyXG4vLyBpbXBvcnQgeyBDb25jcmV0ZVN1YmplY3QgfSBmcm9tICcuL21vZHVsZXMvYXBwJztcclxuLy8gaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kdWxlcy9tb2RlbCc7XHJcbi8vIGltcG9ydCB7IENvbmNyZXRlT2JzZXJ2ZXJBLCBDb25jcmV0ZU9ic2VydmVyQiwgUHJlc2VudGVyIH0gZnJvbSAnLi9tb2R1bGVzL3ByZXNlbnRlcic7XHJcbi8vIGltcG9ydCB7IFByZXNlbnRlciB9IGZyb20gJy4vbW9kdWxlcy9wcmVzZW50ZXInO1xyXG5cclxuY29uc3Qgc2xpZGVyMTogU2xpZGVyID0gbmV3IFNsaWRlcignI3NsaWRlcjEnKTtcclxuc2xpZGVyMS5pbml0KCk7XHJcblxyXG5jb25zdCBzbGlkZXIyOiBTbGlkZXIgPSBuZXcgU2xpZGVyKCcjc2xpZGVyMicsIHsgbWluOiA0MCwgc3RlcDogNjAsIG1heDogMjQ1IH0pO1xyXG5zbGlkZXIyLmluaXQoKTtcclxuXHJcbmNvbnN0IHNsaWRlcjM6IFNsaWRlciA9IG5ldyBTbGlkZXIoJyNzbGlkZXIzJywgeyB2YWx1ZXM6IFszMDBdIH0pO1xyXG5zbGlkZXIzLmluaXQoKTtcclxuXHJcbi8qKlxyXG4qINCa0LvQuNC10L3RgtGB0LrQuNC5INC60L7QtC5cclxuKi9cclxuXHJcbi8vIGNvbnN0IHN1YmplY3QgPSBuZXcgQ29uY3JldGVTdWJqZWN0KCk7XHJcblxyXG4vLyBjb25zdCBvYnNlcnZlcjEgPSBuZXcgQ29uY3JldGVPYnNlcnZlckEoKTtcclxuLy8gc3ViamVjdC5hdHRhY2gob2JzZXJ2ZXIxKTtcclxuXHJcbi8vIGNvbnN0IG9ic2VydmVyMiA9IG5ldyBDb25jcmV0ZU9ic2VydmVyQigpO1xyXG4vLyBzdWJqZWN0LmF0dGFjaChvYnNlcnZlcjIpO1xyXG5cclxuLy8gc3ViamVjdC5zb21lQnVzaW5lc3NMb2dpYygpO1xyXG4vLyBzdWJqZWN0LnNvbWVCdXNpbmVzc0xvZ2ljKCk7XHJcblxyXG4vLyBzdWJqZWN0LmRldGFjaChvYnNlcnZlcjIpO1xyXG5cclxuLy8gc3ViamVjdC5zb21lQnVzaW5lc3NMb2dpYygpO1xyXG5cclxuLyogY29uc3QgTVZQID0ge1xyXG4gIG1ha2VPYnNlcnZhYmxlU3ViamVjdCgpIHtcclxuICAgIGNvbnN0IG9ic2VydmVycyA9IFtdO1xyXG4gICAgY29uc3QgYWRkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICBpZiAodHlwZW9mIG8gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaV07XHJcbiAgICAgICAgaWYgKG9ic2VydmVyID09PSBvKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ic2VydmVyIGFscmVhZHkgaW4gdGhlIGxpc3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgb2JzZXJ2ZXJzLnB1c2gobyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobykge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2JzZXJ2ZXJzW2ldO1xyXG4gICAgICAgIGlmIChvYnNlcnZlciA9PT0gbykge1xyXG4gICAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgZmluZCBvYnNlcnZlciBpbiBsaXN0IG9mIG9ic2VydmVycycpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIG9ic2VydmVyIGxpc3QgaW4gY2FzZSB0aGUgbGlzdFxyXG4gICAgICAvLyBpcyBtdXRhdGVkIGR1cmluZyB0aGUgbm90aWZpY2F0aW9ucy5cclxuICAgICAgY29uc3Qgb2JzZXJ2ZXJzU25hcHNob3QgPSBvYnNlcnZlcnMuc2xpY2UoMCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzU25hcHNob3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBvYnNlcnZlcnNTbmFwc2hvdFtpXShkYXRhKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFkZE9ic2VydmVyLFxyXG4gICAgICByZW1vdmVPYnNlcnZlcixcclxuICAgICAgbm90aWZ5T2JzZXJ2ZXJzLFxyXG4gICAgICBub3RpZnk6IG5vdGlmeU9ic2VydmVycyxcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgTW9kZWwob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAvLyBjb25zdCB0aGF0ID0gdGhpcztcclxuICAgIC8vIGNvbnN0IGl0ZW1zID0gW107XHJcbiAgICB0aGlzLm9wdGlvbnMgPSAhb3B0aW9ucyA/IHt9IDogb3B0aW9ucztcclxuICAgIHRoaXMubW9kZWxDaGFuZ2VkU3ViamVjdCA9IE1WUC5tYWtlT2JzZXJ2YWJsZVN1YmplY3QoKTtcclxuICAgIHRoaXMubWluVmFsdWUgPSAwO1xyXG4gICAgdGhpcy5tYXhWYWx1ZSA9IDMwMDtcclxuICAgIHRoaXMuc3RlcCA9IDUwO1xyXG4gICAgdGhpcy5tb2RlID0gJ2hvcml6b250YWwnO1xyXG4gICAgdGhpcy50eXBlID0gJ3NpbmdsZSc7XHJcbiAgICAvLyB0aGlzLmFkZEl0ZW0gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIC8vICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICBpdGVtcy5wdXNoKHZhbHVlKTtcclxuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHRoaXMucmVtb3ZlQ3VycmVudEl0ZW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgIGlmICh0aGF0LnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGl0ZW1zLnNwbGljZSh0aGF0LnNlbGVjdGVkSW5kZXgsIDEpO1xyXG4gICAgLy8gICB0aGF0Lm1vZGVsQ2hhbmdlZFN1YmplY3Qubm90aWZ5T2JzZXJ2ZXJzKCk7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xyXG4gICAgLy8gdGhpcy5nZXRTZWxlY3RlZEluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICByZXR1cm4gdGhhdC5zZWxlY3RlZEluZGV4O1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHRoaXMuc2V0U2VsZWN0ZWRJbmRleCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgLy8gICB0aGF0LnNlbGVjdGVkSW5kZXggPSB2YWx1ZTtcclxuICAgIC8vICAgdGhhdC5tb2RlbENoYW5nZWRTdWJqZWN0Lm5vdGlmeU9ic2VydmVycygpO1xyXG4gICAgLy8gfTtcclxuICB9LFxyXG5cclxuICBWaWV3KCkge1xyXG4gICAgLy8gY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlckJvZHk6IFNsaWRlckJvZHkgPSBuZXcgU2xpZGVyQm9keSgpO1xyXG4gICAgICBzbGlkZXJCb2R5LmluaXQoKTtcclxuXHJcbiAgICAgIGNvbnN0IHNsaWRlclRodW1iOiBTbGlkZXJUaHVtYiA9IG5ldyBTbGlkZXJUaHVtYigpO1xyXG4gICAgICBzbGlkZXJUaHVtYi5pbml0KCk7XHJcblxyXG4gICAgICBjb25zdCB0aXBWYWx1ZTogVGlwVmFsdWUgPSBuZXcgVGlwVmFsdWUoKTtcclxuICAgICAgdGlwVmFsdWUuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyB0aGF0LnNlbGVjdCA9ICQoJzxzZWxlY3QvPicpLmFwcGVuZFRvKHJvb3RPYmplY3QpO1xyXG4gICAgLy8gdGhhdC5zZWxlY3QuYXR0cignc2l6ZScsICc0Jyk7XHJcbiAgICAvLyB0aGF0LmJ1dHRvbkFkZCA9ICQoJzxidXR0b24+KzwvYnV0dG9uPicpLmFwcGVuZFRvKHJvb3RPYmplY3QpLmhlaWdodCgyMCk7XHJcbiAgICAvLyB0aGF0LmJ1dHRvblJlbW92ZSA9ICQoJzxidXR0b24+LTwvYnV0dG9uPicpLmFwcGVuZFRvKHJvb3RPYmplY3QpLmhlaWdodCgyMCk7XHJcbiAgICAvLyBtb2RlbC5tb2RlbENoYW5nZWRTdWJqZWN0LmFkZE9ic2VydmVyKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgdmFyIGl0ZW1zID0gbW9kZWwuZ2V0SXRlbXMoKTtcclxuICAgIC8vICAgdmFyIGlubmVySFRNTCA9ICcnO1xyXG4gICAgLy8gICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAvLyAgICAgaW5uZXJIVE1MICs9IFwiPG9wdGlvbj5cIiArIGl0ZW1zW2ldICsgXCI8L29wdGlvbj5cIjtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gICB0aGF0LnNlbGVjdC5odG1sKGlubmVySFRNTCk7XHJcbiAgICAvLyB9KTtcclxuICB9LFxyXG5cclxuICBDb250cm9sbGVyKG1vZGVsLCB2aWV3KSB7XHJcbiAgICB2aWV3LmluaXQoKTtcclxuICAgIC8vIHZpZXcuYnV0dG9uQWRkLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBtb2RlbC5hZGRJdGVtKHByb21wdCgnYWRkdmFsdWUnKSk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vIHZpZXcuYnV0dG9uUmVtb3ZlLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICBtb2RlbC5yZW1vdmVDdXJyZW50SXRlbSgpO1xyXG4gICAgLy8gfSk7XHJcbiAgICAvLyB2aWV3LnNlbGVjdC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgbW9kZWwuc2V0U2VsZWN0ZWRJbmRleCh2aWV3LnNlbGVjdFswXS5zZWxlY3RlZEluZGV4KTtcclxuICAgIC8vIH0pO1xyXG4gIH0sXHJcbn07ICovXHJcblxyXG4vKiAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG1vZGVsID0gbmV3IE9NVkMuTW9kZWwoKTtcclxuICB2YXIgdmlldyA9IG5ldyBPTVZDLlZpZXcobW9kZWwsICQoJzxkaXYvPicpLmFwcGVuZFRvKCQoXCJib2R5XCIpKSk7XHJcbiAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgT01WQy5Db250cm9sbGVyKG1vZGVsLCB2aWV3KTtcclxufSk7ICovXHJcblxyXG4vLyBjb25zdCBtb2RlbCA9IG5ldyBNVlAuTW9kZWwoKTtcclxuLy8gY29uc3QgdmlldyA9IG5ldyBNVlAuVmlldygpO1xyXG4vLyBjb25zdCBjb250cm9sbGVyID0gbmV3IE1WUC5Db250cm9sbGVyKG1vZGVsLCB2aWV3KTtcclxuXHJcbi8vIGNvbnRyb2xsZXIoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==